<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.2.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"xgh-user.github.io","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="VueVue官网 一、邂逅Vuejs1、遇见Vuejs1、认识Vuejs Vue (读Vue (读音 &#x2F;vjuː&#x2F;，类似于 view)音 &#x2F;vjuː&#x2F;，类似于 view)  Vue是一个渐进式的框架，渐进式的框架：  渐进式意味着你可以将Vue作为你应用的一部分嵌入其中，带来更丰富的交互体验。 如果你希望将更多的业务逻辑使用Vue实现，那么Vue的核心库以及其生态系统。比如Core+Vue-rou">
<meta property="og:type" content="article">
<meta property="og:title" content="Vue">
<meta property="og:url" content="http://xgh-user.github.io/2021/04/19/VUE/index.html">
<meta property="og:site_name" content="_little-star_">
<meta property="og:description" content="VueVue官网 一、邂逅Vuejs1、遇见Vuejs1、认识Vuejs Vue (读Vue (读音 &#x2F;vjuː&#x2F;，类似于 view)音 &#x2F;vjuː&#x2F;，类似于 view)  Vue是一个渐进式的框架，渐进式的框架：  渐进式意味着你可以将Vue作为你应用的一部分嵌入其中，带来更丰富的交互体验。 如果你希望将更多的业务逻辑使用Vue实现，那么Vue的核心库以及其生态系统。比如Core+Vue-rou">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/01.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/02.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/03.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/184.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/04.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/05.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/06.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/07.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/08.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/09.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/10.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/19.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/13.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/14.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/15.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/16.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/17.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/18.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/20.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/21.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/22.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/23.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/24.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/25.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/26.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/27.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/28.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/29.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/30.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/31.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/32.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/33.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/34.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/36.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/35.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/37.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/38.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/39.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/40.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/41.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/42.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/VUE/43.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/VUE/45.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/VUE/46.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/VUE/47.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/VUE/48.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/VUE/49.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/VUE/50.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/VUE/51.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/VUE/52.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/VUE/53.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/VUE/54.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/VUE/58.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/VUE/55.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/VUE/56.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/VUE/57.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/VUE/59.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/VUE/60.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/VUE/61.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/VUE/62.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/VUE/63.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/VUE/64.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/VUE/65.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/VUE/67.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/VUE/68.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/VUE/69.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/VUE/77.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/VUE/70.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/VUE/71.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/VUE/72.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/VUE/73.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/VUE/75.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/VUE/76.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/VUE/78.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/VUE/79.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/VUE/80.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/VUE/81.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/VUE/82.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/VUE/83.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/VUE/84.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/VUE/85.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/VUE/86.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/VUE/87.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/VUE/88.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/VUE/89.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/VUE/90.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/VUE/91.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/VUE/92.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/VUE/94.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/VUE/95.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/VUE/93.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/VUE/99.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/VUE/98.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/VUE/96.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/VUE/97.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/VUE/100.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/VUE/101.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/VUE/111.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/VUE/104.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/VUE/105.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/VUE/106.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/VUE/107.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/VUE/108.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/VUE/109.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/VUE/112.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/VUE/110.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/VUE/113.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/VUE/115.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/VUE/116.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/VUE/117.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/VUE/118.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/VUE/119.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/VUE/120.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/VUE/121.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/VUE/122.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/VUE/125.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/VUE/123.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/VUE/124.png">
<meta property="og:image" content="d:/blog/XGH-blog/source_posts/VUE/129.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/VUE/126.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/VUE/127.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/VUE/128.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/VUE/130.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/VUE/131.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/VUE/132.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/VUE/133.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/VUE/134.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/VUE/136.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/VUE/138.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/VUE/137.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/VUE/102.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/VUE/114.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/VUE/74.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/VUE/139.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/VUE/140.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/VUE/141.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/VUE/143.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/VUE/144.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/VUE/145.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/VUE/146.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/VUE/147.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/VUE/148.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/VUE/149.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/VUE/151.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/VUE/152.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/VUE/153.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/VUE/154.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/VUE/156.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/VUE/157.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/VUE/155.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/VUE/159.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/VUE/158.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/VUE/163.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/VUE/164.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/VUE/162.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/VUE/165.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/VUE/166.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/VUE/167.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/VUE/168.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/VUE/169.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/VUE/172.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/VUE/173.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/VUE/174.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/VUE/175.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/VUE/176.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/VUE/177.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/VUE/178.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/VUE/180.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/VUE/171.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/VUE/170.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/VUE/161.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/VUE/179.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/VUE/181.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/VUE/135.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/VUE/182.png">
<meta property="og:image" content="http://xgh-user.github.io/2021/04/19/VUE/VUE/183.png">
<meta property="article:published_time" content="2021-04-18T19:10:19.000Z">
<meta property="article:modified_time" content="2021-04-18T19:31:53.122Z">
<meta property="article:author" content="_little-star_">
<meta property="article:tag" content="Vue">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://xgh-user.github.io/2021/04/19/VUE/01.png">

<link rel="canonical" href="http://xgh-user.github.io/2021/04/19/VUE/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title>Vue | _little-star_</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

<link rel="alternate" href="/atom.xml" title="_little-star_" type="application/atom+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">_little-star_</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">学习的博客</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://xgh-user.github.io/2021/04/19/VUE/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="_little-star_">
      <meta itemprop="description" content="记录个人在平时学习的过程中的一些笔记、感受与遇到的坑,例如：java、计算机考研四件套等等。">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="_little-star_">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Vue
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2021-04-19 03:10:19 / 修改时间：03:31:53" itemprop="dateCreated datePublished" datetime="2021-04-19T03:10:19+08:00">2021-04-19</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%89%8D%E7%AB%AF%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" itemprop="url" rel="index"><span itemprop="name">前端学习笔记</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%89%8D%E7%AB%AF%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/Vue/" itemprop="url" rel="index"><span itemprop="name">Vue</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h1 id="Vue"><a href="#Vue" class="headerlink" title="Vue"></a>Vue</h1><p><a target="_blank" rel="noopener" href="https://cn.vuejs.org/">Vue官网</a></p>
<h2 id="一、邂逅Vuejs"><a href="#一、邂逅Vuejs" class="headerlink" title="一、邂逅Vuejs"></a>一、邂逅Vuejs</h2><h3 id="1、遇见Vuejs"><a href="#1、遇见Vuejs" class="headerlink" title="1、遇见Vuejs"></a>1、遇见Vuejs</h3><h4 id="1、认识Vuejs"><a href="#1、认识Vuejs" class="headerlink" title="1、认识Vuejs"></a>1、认识Vuejs</h4><ul>
<li><p>Vue (读Vue (读音 /vjuː/，类似于 <strong>view</strong>)音 /vjuː/，类似于 <strong>view</strong>)</p>
</li>
<li><p>Vue是一个渐进式的框架，渐进式的框架：</p>
<ul>
<li>渐进式意味着你可以将Vue作为你应用的一部分嵌入其中，带来更丰富的交互体验。</li>
<li>如果你希望将更多的业务逻辑使用Vue实现，那么Vue的核心库以及其生态系统。比如Core+Vue-router+Vuex，也可以满足你各种各样的需求。</li>
</ul>
</li>
<li><p>与其它大型框架不同的是，Vue 被设计为可以自底向上逐层应用。Vue 的核心库只关注视图层，不仅易于上手，还便于与第三方库或既有项目整合。另一方面，当与<a target="_blank" rel="noopener" href="https://cn.vuejs.org/v2/guide/single-file-components.html">现代化的工具链</a>以及各种<a target="_blank" rel="noopener" href="https://github.com/vuejs/awesome-vue#libraries--plugins">支持类库</a>结合使用时，Vue 也完全能够为复杂的单页应用提供驱动。</p>
</li>
</ul>
<h4 id="2、Vue的特点和Web开发中常见的高级功能"><a href="#2、Vue的特点和Web开发中常见的高级功能" class="headerlink" title="2、Vue的特点和Web开发中常见的高级功能"></a>2、Vue的特点和Web开发中常见的高级功能</h4><ul>
<li>解耦视图和数据</li>
<li>可复用的组件</li>
<li>前端路由技术</li>
<li>状态管理</li>
<li>虚拟DOM</li>
</ul>
<h3 id="2、安装Vuejs"><a href="#2、安装Vuejs" class="headerlink" title="2、安装Vuejs"></a>2、安装Vuejs</h3><p><a target="_blank" rel="noopener" href="https://cn.vuejs.org/v2/guide/installation.html">安装</a></p>
<h4 id="1、方式一：下载和引入"><a href="#1、方式一：下载和引入" class="headerlink" title="1、方式一：下载和引入"></a>1、方式一：下载和引入</h4><p>在<a target="_blank" rel="noopener" href="https://cn.vuejs.org/">官网</a>上直接下载vue.js文件引入到项目（本地）中，其中有<a target="_blank" rel="noopener" href="https://vuejs.org/js/vue.js">开发环境</a>与<a target="_blank" rel="noopener" href="https://vuejs.org/js/vue.min.js">生产环境</a>。</p>
<p>注意：</p>
<p>在下载时不能直接点击，直接点击的话你将看到vue.js的源码。应该右键选中<code>从链接另存文件</code>。</p>
<p><img src="/2021/04/19/VUE/01.png" alt="image-20210320014752045"></p>
<p>其中</p>
<ul>
<li><p>开发环境用在开发的时候，其中的代码包含了有帮助的命令行警告，方便程序员查看源代码，但相对的文件比较大。</p>
</li>
<li><p>生产环境用在发布产品的时候，其中的代码都是经过压缩的，优化了尺寸和速度，文件也比较小，方便用户下载，但代码的可读性极差。</p>
</li>
</ul>
<p>一句话总结：开发环境面向的是程序员，生产环境面向的是用户。</p>
<h4 id="2、方式二：直接CDN引入"><a href="#2、方式二：直接CDN引入" class="headerlink" title="2、方式二：直接CDN引入"></a>2、方式二：直接CDN引入</h4><p>你可以在你的项目中直接CDN（外部）引入：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 开发环境版本，包含了有帮助的命令行警告 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.jsdelivr.net/npm/vue/dist/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 生产环境版本，优化了尺寸和速度 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.jsdelivr.net/npm/vue&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--如果你使用原生 ES Modules，这里也有一个兼容 ES Module 的构建文件--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;module&quot;</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">&#x27;https://cdn.jsdelivr.net/npm/vue@2.6.12/dist/vue.esm.browser.js&#x27;</span></span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="3、方式三：NPM安装"><a href="#3、方式三：NPM安装" class="headerlink" title="3、方式三：NPM安装"></a>3、方式三：NPM安装</h4><p>在用 Vue 构建大型应用时推荐使用 NPM 安装[<a target="_blank" rel="noopener" href="https://cn.vuejs.org/v2/guide/installation.html#footnote-1">1]</a>。NPM 能很好地和诸如 <a target="_blank" rel="noopener" href="https://webpack.js.org/">webpack</a> 或 <a target="_blank" rel="noopener" href="http://browserify.org/">Browserify</a> 模块打包器配合使用。同时 Vue 也提供配套工具来开发<a target="_blank" rel="noopener" href="https://cn.vuejs.org/v2/guide/single-file-components.html">单文件组件</a>。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 最新稳定版</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> npm install vue</span></span><br></pre></td></tr></table></figure>

<h3 id="3、第一个Vuejs程序"><a href="#3、第一个Vuejs程序" class="headerlink" title="3、第一个Vuejs程序"></a>3、第一个Vuejs程序</h3><p><img src="/2021/04/19/VUE/02.png" alt="image-20210320015424885"></p>
<h4 id="1、代码的执行"><a href="#1、代码的执行" class="headerlink" title="1、代码的执行"></a>1、代码的执行</h4><ol>
<li>阅读JavaScript代码，程序发现创建了一个Vue对象；</li>
<li>创建Vue对象的时候，传入了一些options：{}<ul>
<li>{}中包含了el属性：该属性决定了这个Vue对象挂载到哪一个元素上，很明显，我们这里是挂载到了id为app的元素上；</li>
<li>{}中包含了data属性：该属性中通常会存储一些数据：<ul>
<li>这些数据可以是我们直接定义出来的，比如像上面代码这样</li>
<li>也可能是来自网络，从服务器加载的</li>
</ul>
</li>
</ul>
</li>
</ol>
<h4 id="2、浏览器执行代码的流程"><a href="#2、浏览器执行代码的流程" class="headerlink" title="2、浏览器执行代码的流程"></a>2、浏览器执行代码的流程</h4><ol>
<li>执行到10~13行代码显然出对应的HTML；</li>
<li>执行第16行代码创建Vue实例，并且对原HTML进行解析和修改</li>
</ol>
<h4 id="3、响应式"><a href="#3、响应式" class="headerlink" title="3、响应式"></a>3、响应式</h4><p>Vue代码是可以实现响应式的。在浏览器里进入开发者模式<code>F12</code>中的<code>console</code>。在里面修改代码可以实现浏览器的内容也随着修改而响应着改变。</p>
<p><img src="/2021/04/19/VUE/03.png" alt="image-20210320020223661"></p>
<h3 id="4、Vue与JavaScript-（两种编程范式）"><a href="#4、Vue与JavaScript-（两种编程范式）" class="headerlink" title="4、Vue与JavaScript （两种编程范式）"></a>4、Vue与JavaScript （两种编程范式）</h3><ul>
<li><p>命令式编程（JavaScript ）</p>
<p>命令式编程的主要思想是关注计算机执行的步骤，即一步一步告诉计算机先做什么再做什么。</p>
<p>优点：数据和界面完全分离，不需要js创建页面元素等操作</p>
</li>
</ul>
<ul>
<li><p>声明式编程（Vuejs）</p>
<p>声明式编程是以数据结构的形式来表达程序执行的逻辑。它的主要思想是告诉计算机应该做什么，但不指定具体要怎么做。</p>
<p>优点：当数据发生改变时界面自动发生改变（响应式）</p>
</li>
</ul>
<h3 id="5、Vue的MVVM"><a href="#5、Vue的MVVM" class="headerlink" title="5、Vue的MVVM"></a>5、Vue的MVVM</h3><h4 id="1、是什么MVVM"><a href="#1、是什么MVVM" class="headerlink" title="1、是什么MVVM"></a>1、是什么MVVM</h4><p><a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/MVVM">维基百科官方解释</a>：</p>
<p><strong>MVVM</strong>（<strong>Model–view–viewmodel</strong>）是一种软件<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E6%9E%B6%E6%9E%84%E6%A8%A1%E5%BC%8F">架构模式</a>。</p>
<p>MVVM有助于将<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E5%9B%BE%E5%BD%A2%E7%94%A8%E6%88%B7%E7%95%8C%E9%9D%A2">图形用户界面</a>的开发与<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E4%B8%9A%E5%8A%A1%E9%80%BB%E8%BE%91">业务逻辑</a>或<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E5%89%8D%E7%AB%AF%E5%92%8C%E5%90%8E%E7%AB%AF">后端</a>逻辑（<em>数据模型</em>）的开发<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E5%85%B3%E6%B3%A8%E7%82%B9%E5%88%86%E7%A6%BB">分离</a>开来，这是通过<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E7%BD%AE%E6%A0%87%E8%AF%AD%E8%A8%80">置标语言</a>或GUI代码实现的。MVVM的<em>视图模型</em>是一个值转换器，[<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/MVVM#cite_note-MVVM-eliminates-valueconverters-1">1]</a> 这意味着视图模型负责从模型中暴露（转换）<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E5%AF%B9%E8%B1%A1_(%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6)">数据对象</a>，以便轻松管理和呈现对象。在这方面，视图模型比视图做得更多，并且处理大部分视图的显示逻辑。[<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/MVVM#cite_note-MVVM-eliminates-valueconverters-1">1]</a> 视图模型可以实现<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E4%B8%AD%E4%BB%8B%E8%80%85%E6%A8%A1%E5%BC%8F">中介者模式</a>，组织对视图所支持的<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E7%94%A8%E4%BE%8B">用例</a>集的后端逻辑的访问。</p>
<p><img src="/2021/04/19/VUE/184.png" alt="image-20210402232753389"></p>
<h4 id="2、Vue的MVVM"><a href="#2、Vue的MVVM" class="headerlink" title="2、Vue的MVVM"></a>2、Vue的MVVM</h4><p><img src="/2021/04/19/VUE/04.png" alt="image-20210320022023488"></p>
<ul>
<li>View层：<ul>
<li>视图层</li>
<li>在前端开发中，通常就是DOM层</li>
<li>主要的作用是给用户展示各种信息</li>
</ul>
</li>
<li>Model层：<ul>
<li>数据层</li>
<li>数据可能是我们固定的死数据，但更多的是来自我们服务器，从网络上请求下来的数据</li>
</ul>
</li>
<li>VueModel层：<ul>
<li>视图模型层</li>
<li>视图模型层是View和Model沟通的桥梁</li>
<li>一方面它实现了Data Binding，也就是数据绑定，将Model的改变实时的反应到View中</li>
<li>另一方面它实现了DOM Listener，也就是DOM监听，当DOM发生一些事件(点击、滚动、touch等)时，可以监听到，并在需要的情况下改变对应的Data</li>
</ul>
</li>
</ul>
<h4 id="3、计数器的MVVM示例"><a href="#3、计数器的MVVM示例" class="headerlink" title="3、计数器的MVVM示例"></a>3、计数器的MVVM示例</h4><p>计数器：点击 <code>+</code> 计数器+1，点击 <code>-</code>  计数器 -1</p>
<p>在Vue对象中</p>
<ul>
<li>新属性：methods。该属性用于在Vue对象中定义方法。</li>
<li>新的指令：@click, 该指令用于监听某个元素的点击事件，并且需要指定当发生点击时，执行的方法(方法通常是methods中定义的方法)</li>
</ul>
<p><img src="/2021/04/19/VUE/05.png" alt="image-20210320022244195"></p>
<p><img src="/2021/04/19/VUE/06.png" alt="image-20210320022417139"></p>
<p>计数器中就有严格的MVVM思想：</p>
<ul>
<li>View依然是我们的DOM</li>
<li>Model就是我们我们抽离出来的obj</li>
<li>ViewModel就是我们创建的Vue对象实例</li>
</ul>
<p><img src="/2021/04/19/VUE/07.png" alt="01-计数器的MVVM"></p>
<p>它们之间如何工作呢？</p>
<ol>
<li>首先ViewModel通过Data Binding让obj中的数据实时的在DOM中显示。</li>
<li>其次ViewModel通过DOM Listener来监听DOM事件，并且通过methods中的操作，来改变obj中的数据。</li>
</ol>
<p>有了Vue帮助我们完成VueModel层的任务，在后续的开发，我们就可以专注于数据的处理，以及DOM的编写工作了。</p>
<h3 id="6、创建Vue实例传入的options"><a href="#6、创建Vue实例传入的options" class="headerlink" title="6、创建Vue实例传入的options"></a>6、创建Vue实例传入的options</h3><p>在创建Vue实例的时候，传入了一个对象options。那么，这个options中可以包含哪些选项呢？<a target="_blank" rel="noopener" href="https://cn.vuejs.org/v2/api/#%E9%80%89%E9%A1%B9-%E6%95%B0%E6%8D%AE">详细解析</a></p>
<ul>
<li><p>el：</p>
<p>传入类型：string | HTMLElement</p>
<p>作用：决定之后Vue实例会管理哪一个DOM，挂载要管理的元素</p>
<p>限制：只在用 <code>new</code> 创建实例时生效</p>
</li>
<li><p>data：</p>
<p>类型：Object | Function （组件当中data必须是一个函数）</p>
<p>作用：Vue实例对应的数据对象</p>
<p>限制：组件的定义只接受 <code>function</code></p>
</li>
<li><p>methods：</p>
<p>类型：{ [key: string]: Function }</p>
<p>作用：定义属于Vue的一些方法，可以在其他地方调用，也可以在指令中使用。</p>
</li>
<li><p>components：</p>
<p>类型：<code>Object</code></p>
<p>详细：包含 Vue 实例可用组件的哈希表。</p>
</li>
<li><p>computed：</p>
<p>类型：<code>&#123; [key: string]: Function | &#123; get: Function, set: Function &#125; &#125;</code></p>
<p>详细：</p>
<p>计算属性将被混入到 Vue 实例中。所有 getter 和 setter 的 this 上下文自动地绑定为 Vue 实例。</p>
<p>注意如果你为一个计算属性使用了箭头函数，则 <code>this</code> 不会指向这个组件的实例，不过你仍然可以将其实例作为函数的第一个参数来访问。</p>
<p>计算属性的结果会被缓存，除非依赖的响应式 property 变化才会重新计算。注意，如果某个依赖 (比如非响应式 property) 在该实例范畴之外，则计算属性是<strong>不会</strong>被更新的。</p>
</li>
<li><p>生命周期函数：</p>
<p>所有的生命周期钩子<code>hook</code>自动绑定 <code>this</code> 上下文到实例中，因此你可以访问数据，对 property 和方法进行运算。（粗体表示常用）</p>
<ul>
<li><p>beforeCreate：</p>
<p>类型：<code>Function</code></p>
<p>详细：</p>
<p>在实例初始化之后，数据观测 (data observer) 和 event/watcher 事件配置之前被调用。</p>
</li>
<li><p><strong>created</strong>：</p>
<p>类型：<code>Function</code></p>
<p>详细：</p>
<p>在实例创建完成后被立即调用。在这一步，实例已完成以下的配置：数据观测 (data observer)，property 和方法的运算，watch/event 事件回调。然而，挂载阶段还没开始，<code>$el</code> property 目前尚不可用。</p>
</li>
<li><p>beforeMount：</p>
<p>类型：<code>Function</code></p>
<p>详细：</p>
<p>在挂载开始之前被调用：相关的 <code>render</code> 函数首次被调用。</p>
<p><strong>该钩子在服务器端渲染期间不被调用。</strong></p>
</li>
<li><p><strong>mounted</strong>：</p>
<p>类型：<code>Function</code></p>
<p>详细：</p>
<p>实例被挂载后调用，这时 <code>el</code> 被新创建的 <code>vm.$el</code> 替换了。如果根实例挂载到了一个文档内的元素上，当 <code>mounted</code> 被调用时 <code>vm.$el</code> 也在文档内。</p>
<p>注意 <code>mounted</code> <strong>不会</strong>保证所有的子组件也都一起被挂载。如果你希望等到整个视图都渲染完毕，可以在 <code>mounted</code> 内部使用 <a target="_blank" rel="noopener" href="https://cn.vuejs.org/v2/api/#vm-nextTick">vm.$nextTick</a></p>
</li>
<li><p>beforeUpdate：</p>
<p>类型：<code>Function</code></p>
<p>详细：</p>
<p>数据更新时调用，发生在虚拟 DOM 打补丁之前。这里适合在更新之前访问现有的 DOM，比如手动移除已添加的事件监听器。</p>
<p><strong>该钩子在服务器端渲染期间不被调用，因为只有初次渲染会在服务端进行。</strong></p>
</li>
<li><p>updated：</p>
<p>类型：<code>Function</code></p>
<p>详细：</p>
<p>由于数据更改导致的虚拟 DOM 重新渲染和打补丁，在这之后会调用该钩子。</p>
<p>当这个钩子被调用时，组件 DOM 已经更新，所以你现在可以执行依赖于 DOM 的操作。然而在大多数情况下，你应该避免在此期间更改状态。如果要相应状态改变，通常最好使用<a target="_blank" rel="noopener" href="https://cn.vuejs.org/v2/api/#computed">计算属性</a>或 <a target="_blank" rel="noopener" href="https://cn.vuejs.org/v2/api/#watch">watcher</a> 取而代之。</p>
<p>注意 <code>updated</code> <strong>不会</strong>保证所有的子组件也都一起被重绘。如果你希望等到整个视图都重绘完毕，可以在 <code>updated</code> 里使用 <a target="_blank" rel="noopener" href="https://cn.vuejs.org/v2/api/#vm-nextTick">vm.$nextTick</a></p>
</li>
<li><p><strong>activated</strong>：</p>
<p>类型：<code>Function</code></p>
<p>详细：</p>
<p>被 keep-alive 缓存的组件激活时调用。</p>
<p><strong>该钩子在服务器端渲染期间不被调用。</strong></p>
</li>
<li><p>deactivated：</p>
<p>类型：<code>Function</code></p>
<p>详细：</p>
<p>被 keep-alive 缓存的组件停用时调用。</p>
<p><strong>该钩子在服务器端渲染期间不被调用。</strong></p>
</li>
<li><p>beforeDestroy：</p>
<p>类型：<code>Function</code></p>
<p>详细：</p>
<p>实例销毁之前调用。在这一步，实例仍然完全可用。</p>
<p><strong>该钩子在服务器端渲染期间不被调用。</strong></p>
</li>
<li><p>destroyed：</p>
<p>类型：<code>Function</code></p>
<p>详细：</p>
<p>实例销毁后调用。该钩子被调用后，对应 Vue 实例的所有指令都被解绑，所有的事件监听器被移除，所有的子实例也都被销毁。</p>
<p><strong>该钩子在服务器端渲染期间不被调用。</strong></p>
</li>
<li><p>errorCaptured：</p>
<blockquote>
<p>2.5.0+ 新增(<a target="_blank" rel="noopener" href="https://cn.vuejs.org/v2/api/#errorCaptured">具体查看</a>)</p>
</blockquote>
<p>类型：<code>(err: Error, vm: Component, info: string) =&gt; ?boolean</code></p>
<p>详细：</p>
<p>当捕获一个来自子孙组件的错误时被调用。此钩子会收到三个参数：错误对象、发生错误的组件实例以及一个包含错误来源信息的字符串。此钩子可以返回 <code>false</code> 以阻止该错误继续向上传播。</p>
</li>
</ul>
</li>
</ul>
<h3 id="7、Vue的生命周期"><a href="#7、Vue的生命周期" class="headerlink" title="7、Vue的生命周期"></a>7、Vue的生命周期</h3><p>以下图来自<a target="_blank" rel="noopener" href="https://cn.vuejs.org/v2/guide/instance.html">官网</a></p>
<p><img src="/2021/04/19/VUE/08.png" alt="Vue 实例生命周期"></p>
<img src="/2021/04/19/VUE/09.png" alt="image-20210320025609038" style="zoom: 200%;">

<p>简化：</p>
<p><img src="/2021/04/19/VUE/10.png" alt="image-20210320025717195"></p>
<h3 id="8、ES6补充"><a href="#8、ES6补充" class="headerlink" title="8、ES6补充"></a>8、ES6补充</h3><h4 id="1、let-var"><a href="#1、let-var" class="headerlink" title="1、let/var"></a>1、let/var</h4><p>事实上var的设计可以看成JavaScript语言设计上的错误. 但是这种错误多半不能修复和移除, 以为需要向后兼容。于是，大概十年前，Brendan Eich就决定修复这个问题, 于是他添加了一个新的关键字: let。</p>
<p>我们可以将let看成更完美的var</p>
<h5 id="1、块级作用域"><a href="#1、块级作用域" class="headerlink" title="1、块级作用域"></a>1、<strong>块级作用域</strong></h5><ul>
<li>JS中使用var来声明一个变量时, 变量的作用域主要是和函数的定义有关</li>
<li>针对于其他块定义来说是没有作用域的，比如if/for等，这在我们开发中往往会引起一些问题。</li>
</ul>
<p>我们可以通过ES6与ES5的不同来显示<strong>块级作用域</strong>的作用：</p>
<ul>
<li><p>ES5中的var是没有块级作用域的(if/for)，var只有在function中才有块级作用域。</p>
<p>ES5之前因为if和for都没有块级作用域的概念，所以在很多时候，我们都必须借助于function的作用域来解决应用外面变量的问题。</p>
</li>
<li><p>ES6中的let是由块级作用的(if/for)</p>
</li>
</ul>
<h5 id="2、没有块级作用域引起的问题"><a href="#2、没有块级作用域引起的问题" class="headerlink" title="2、没有块级作用域引起的问题"></a>2、没有块级作用域引起的问题</h5><p>for的块级：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">var btns = document.getElementsByTagName(&#x27;button&#x27;);</span><br><span class="line"> for (var i=0; i<span class="tag">&lt;<span class="name">btns.length;</span> <span class="attr">i</span>++) &#123;</span></span><br><span class="line"><span class="tag">     <span class="attr">btns</span>[<span class="attr">i</span>]<span class="attr">.addEventListener</span>(&#x27;<span class="attr">click</span>&#x27;, <span class="attr">function</span> () &#123;</span></span><br><span class="line"><span class="tag">       <span class="attr">console.log</span>(&#x27;第&#x27; + <span class="attr">i</span> + &#x27;个按钮被点击&#x27;);</span></span><br><span class="line"><span class="tag">     &#125;)</span></span><br><span class="line"><span class="tag"> &#125;</span></span><br></pre></td></tr></table></figure>

<p>效果：无论点击哪个按钮，日志打印的都是<code>第5个按钮被点击</code></p>
<p><img src="/2021/04/19/VUE/19.png" alt="image-20210320220031829"></p>
<p>说明：由于var没有块级作用域，被var定义的<code>i</code>会随着<code>i++</code>的改变而改变。function里面的<code>i</code>受到for循环的<code>i++</code>的影响，被改变成了<code>5</code>，所以输出的都是<code>第5个按钮被点击</code></p>
<h5 id="3、解决方法："><a href="#3、解决方法：" class="headerlink" title="3、解决方法："></a>3、解决方法：</h5><ol>
<li><p>用闭包可以解决问题。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">var btns = document.getElementsByTagName(&#x27;button&#x27;);</span><br><span class="line">  for (var i=0; i<span class="tag">&lt;<span class="name">btns.length;</span> <span class="attr">i</span>++) &#123;</span></span><br><span class="line"><span class="tag">    (<span class="attr">function</span> (<span class="attr">num</span>) &#123; // <span class="attr">0</span></span></span><br><span class="line"><span class="tag">      <span class="attr">btns</span>[<span class="attr">i</span>]<span class="attr">.addEventListener</span>(&#x27;<span class="attr">click</span>&#x27;, <span class="attr">function</span> () &#123;</span></span><br><span class="line"><span class="tag">        <span class="attr">console.log</span>(&#x27;第&#x27; + <span class="attr">num</span> + &#x27;个按钮被点击&#x27;);</span></span><br><span class="line"><span class="tag">      &#125;)</span></span><br><span class="line"><span class="tag">    &#125;)(<span class="attr">i</span>)</span></span><br><span class="line"><span class="tag">  &#125;</span></span><br></pre></td></tr></table></figure>

<p>为什么闭包可以解决问题：函数是一个作用域。</p>
</li>
<li><p>用ES6的let</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">const btns = document.getElementsByTagName(&#x27;button&#x27;)</span><br><span class="line">for (let i = 0; i <span class="tag">&lt; <span class="attr">btns.length</span>; <span class="attr">i</span>++) &#123;</span></span><br><span class="line"><span class="tag">  <span class="attr">btns</span>[<span class="attr">i</span>]<span class="attr">.addEventListener</span>(&#x27;<span class="attr">click</span>&#x27;, <span class="attr">function</span> () &#123;</span></span><br><span class="line"><span class="tag">    <span class="attr">console.log</span>(&#x27;第&#x27; + <span class="attr">i</span> + &#x27;个按钮被点击&#x27;);</span></span><br><span class="line"><span class="tag">  &#125;)</span></span><br><span class="line"><span class="tag">&#125;</span></span><br></pre></td></tr></table></figure>

</li>
</ol>
<h3 id="2、const"><a href="#2、const" class="headerlink" title="2、const"></a>2、const</h3><ul>
<li>在很多语言中已经存在, 比如C/C++中, 主要的作用是将某个变量修饰为常量。</li>
<li>在JavaScript中也是如此, 使用const修饰的标识符为常量, 不可以再次赋值。</li>
</ul>
<p>什么时候使用：</p>
<p>当我们修饰的标识符<strong>不会被再次赋值</strong>时, 就可以使用const来<strong>保证数据的安全性</strong>。</p>
<p><strong>建议:</strong></p>
<p><strong>在ES6开发中,优先使用const, 只有需要改变某一个标识符的时候才使用let。</strong></p>
<p>使用const时要注意的点（以下代码为错误展示）：</p>
<ul>
<li><p>一旦给const修饰的标识符被赋值之后, 不能修改</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">const name = &#x27;why&#x27;;</span><br><span class="line">name = &#x27;abc&#x27;;</span><br></pre></td></tr></table></figure>
</li>
<li><p>在使用const定义标识符,必须进行赋值</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">const name;</span><br></pre></td></tr></table></figure>
</li>
<li><p>常量的含义是指向的对象不能修改, 但是可以改变对象内部的属性</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">const obj &#x3D; &#123;</span><br><span class="line">    name: &#39;why&#39;,</span><br><span class="line">    age: 18,</span><br><span class="line">    height: 1.88</span><br><span class="line">&#125;</span><br><span class="line">  </span><br><span class="line">  &#x2F;&#x2F; const修饰的标识符被赋值之后, 不能修改</span><br><span class="line">  &#x2F;&#x2F; obj &#x3D; &#123;&#125;</span><br><span class="line">  </span><br><span class="line">  &#x2F;&#x2F; 但是可以改变对象内部的属性</span><br><span class="line">  obj.name &#x3D; &#39;kobe&#39;;</span><br><span class="line">  obj.age &#x3D; 40;</span><br><span class="line">  obj.height &#x3D; 1.87;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h3 id="3、对象增强写法"><a href="#3、对象增强写法" class="headerlink" title="3、对象增强写法"></a>3、<strong>对象增强写法</strong></h3><p>ES6中，对<strong>对象字面量</strong>进行了很多增强。</p>
<p>属性初始化简写和方法的简写：</p>
<ul>
<li><p>属性初始化</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">// ES5的写法</span><br><span class="line">const obj = &#123;</span><br><span class="line">  name: name,</span><br><span class="line">  age: age,</span><br><span class="line">  height: height</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// ES6的写法</span><br><span class="line">const obj = &#123;</span><br><span class="line">  name,</span><br><span class="line">  age,</span><br><span class="line">  height,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>方法的简写</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">// ES5的写法</span><br><span class="line">const obj = &#123;</span><br><span class="line">  run: function () &#123;</span><br><span class="line"></span><br><span class="line">  &#125;,</span><br><span class="line">  eat: function () &#123;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">// ES6的写法</span><br><span class="line">const obj = &#123;</span><br><span class="line">  run() &#123;</span><br><span class="line">  </span><br><span class="line">  &#125;,</span><br><span class="line">  eat() &#123;</span><br><span class="line">  </span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



</li>
</ul>
<h2 id="二、Vue基础语法"><a href="#二、Vue基础语法" class="headerlink" title="二、Vue基础语法"></a>二、Vue基础语法</h2><h3 id="1、语法糖"><a href="#1、语法糖" class="headerlink" title="1、语法糖"></a>1、语法糖</h3><p>指计算机语言中添加的某种语法，这种语法对语言的功能并没有影响，但是更方便程序员使用。通常来说使用语法糖能够增加程序的可读性，从而减少程序代码出错的机会。</p>
<p>语法糖对程序员来说是友好的，但对机器本身却不怎么好。语法糖越甜，编译成的二进制也就越麻烦，出错的时候也会带来更多的麻烦。程序员要做的不是尽力避免错误，而是聚焦在快速发现并改正错误。真正以快速方式轻易解决错误，“快速的失败”远胜过“预防错误”。</p>
<p>Vue中常用的语法糖：</p>
<ul>
<li><code>v-bind</code>：<code>:</code></li>
<li><code>v-on</code>：<code>@</code></li>
<li><code>v-once</code>：<code>.once</code></li>
</ul>
<h3 id="2、插值语法"><a href="#2、插值语法" class="headerlink" title="2、插值语法"></a>2、插值语法</h3><h4 id="1、mustache语法"><a href="#1、mustache语法" class="headerlink" title="1、mustache语法"></a>1、mustache语法</h4><p>Mustache（胡子/胡须）是一款「logic-less（轻逻辑）」的前端模板引擎，它原本是基于 javascript 实现的，但是因为轻量易用，所以经过拓展目前支持更多的平台，如 java，.NET，PHP，C++ 等。Mustache 主要用于在表现和数据相分离的前端技术架构中，根据数据生成特定的动态内容，这些内容在网页中指的是HTML结构，而在小程序中则是WXML结构。在前后端分离的技术架构下面，前端模板引擎是一种可以被考虑的技术选型，随着重型框架（AngularJS、ReactJS、Vue）的流行，前端的模板技术已经成为了某种形式上的标配，Mustache 的价值在于其稳定和经典</p>
<p>主页：<a target="_blank" rel="noopener" href="https://link.jianshu.com/?t=https://github.com/janl/mustache.js/">https://github.com/janl/mustache.js/</a></p>
<p>文档：<a target="_blank" rel="noopener" href="https://link.jianshu.com/?t=https://mustache.github.io/mustache.5.html">https://mustache.github.io/mustache.5.html</a></p>
<p>项目主页：<a target="_blank" rel="noopener" href="http://mustache.github.io/">http://mustache.github.io/</a></p>
<p>Handlebars：基于 Mustache 的模板引擎：<a target="_blank" rel="noopener" href="https://link.jianshu.com/?t=http://handlebarsjs.com/">http://handlebarsjs.com/</a></p>
<p>对于Vue简单来说："{{}}"（双大括号）不仅仅可以直接写变量,也可以写简单的表达式

更多的Mustache功能参考：https://www.jianshu.com/p/7f1cecdc27e1

我们可以像下面这样来使用，并且数据是响应式的：

![image-20210320030738172](VUE/11.png)

#### 2、v-once

在某些情况下，我们可能不希望界面随意的跟随改变，这个时候，我们就可以使用一个Vue的指令：v-once

v-once：

- 该指令后面不需要跟任何表达式(比如v-for后面是由跟表达式的)
- p该指令表示元素和组件(组件后面才会学习)只渲染一次，不会随着数据的改变而改变。

代码：

<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123;message&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h2</span> <span class="attr">v-once</span>&gt;</span>&#123;&#123;message&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">const</span> app = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">    el: <span class="string">&#x27;#app&#x27;</span>,</span></span><br><span class="line">    data: &#123;</span><br><span class="line"><span class="javascript">      message: <span class="string">&#x27;你好啊&#x27;</span></span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

效果：

![image-20210320032116662](VUE/12.png)

#### 3、v-html

某些情况下，我们从服务器请求到的数据本身就是一个HTML代码。如果我们直接通过"{{}}"来输出，会将HTML代码也一起输出。但是我们可能希望的是按照HTML格式进行解析，并且显示对应的内容。这个时候，我们就可以使用一个Vue的指令：v-html</p>
<p>v-html：</p>
<ul>
<li>该指令后面往往会跟上一个string类型</li>
<li>会将string的html解析出来并且进行渲染</li>
</ul>
<p>代码：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123;url&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h2</span> <span class="attr">v-html</span>=<span class="string">&quot;url&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">const</span> app = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">    el: <span class="string">&#x27;#app&#x27;</span>,</span></span><br><span class="line">    data: &#123;</span><br><span class="line"><span class="javascript">      message: <span class="string">&#x27;你好啊&#x27;</span>,</span></span><br><span class="line"><span class="handlebars"><span class="xml">      url: &#x27;<span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;http://www.baidu.com&quot;</span>&gt;</span>百度一下<span class="tag">&lt;/<span class="name">a</span>&gt;</span>&#x27;</span></span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>效果：</p>
<h4 id="4、v-text（不常用）"><a href="#4、v-text（不常用）" class="headerlink" title="4、v-text（不常用）"></a><img src="/2021/04/19/VUE/13.png" alt="image-20210320032430169">4、v-text（不常用）</h4><p>nv-text作用和Mustache比较相似：都是用于将数据显示在界面中</p>
<p>nv-text</p>
<ul>
<li>通常情况下，接受一个string类型</li>
</ul>
<p>代码：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123;message&#125;&#125;, 李银河!<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h2</span> <span class="attr">v-text</span>=<span class="string">&quot;message&quot;</span>&gt;</span>, 李银河!<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">const</span> app = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">    el: <span class="string">&#x27;#app&#x27;</span>,</span></span><br><span class="line">    data: &#123;</span><br><span class="line"><span class="javascript">      message: <span class="string">&#x27;你好啊&#x27;</span></span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>效果：</p>
<p><img src="/2021/04/19/VUE/14.png" alt="image-20210320032749380"></p>
<h4 id="5、v-pre"><a href="#5、v-pre" class="headerlink" title="5、v-pre"></a>5、v-pre</h4><p>v-pre用于跳过这个元素和它子元素的编译过程，用于显示原本的Mustache语法。</p>
<p>比如下面的代码：</p>
<ul>
<li>第一个h2元素中的内容会被编译解析出来对应的内容</li>
<li>第二个h2元素中会直接显示</li>
</ul>
<p>代码：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123;message&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h2</span> <span class="attr">v-pre</span>&gt;</span>&#123;&#123;message&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">const</span> app = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">    el: <span class="string">&#x27;#app&#x27;</span>,</span></span><br><span class="line">    data: &#123;</span><br><span class="line"><span class="javascript">      message: <span class="string">&#x27;Hello World&#x27;</span></span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>效果：</p>
<p><img src="/2021/04/19/VUE/15.png" alt="image-20210320032946332"></p>
<h4 id="6、v-cloak"><a href="#6、v-cloak" class="headerlink" title="6、v-cloak"></a>6、v-cloak</h4><p>在某些情况下，我们浏览器可能会直接显然出未编译的Mustache标签（加载过慢）。</p>
<p>v-cloak</p>
<ul>
<li>存在期限：在vue解析之前存在，在vue解析之后消失。</li>
<li>该指令后面不需要跟任何表达式</li>
</ul>
<p>cloak：斗篷（起遮挡作用）</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css">    <span class="selector-attr">[v-cloak]</span> &#123;</span></span><br><span class="line">      display: none;</span><br><span class="line">    &#125;</span><br><span class="line">  <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span> <span class="attr">v-cloak</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123;message&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="comment">// 在vue解析之前, div中有一个属性v-cloak</span></span></span><br><span class="line"><span class="javascript">  <span class="comment">// 在vue解析之后, div中没有一个属性v-cloak</span></span></span><br><span class="line"><span class="javascript">  <span class="built_in">setTimeout</span>(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">const</span> app = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">      el: <span class="string">&#x27;#app&#x27;</span>,</span></span><br><span class="line">      data: &#123;</span><br><span class="line"><span class="javascript">        message: <span class="string">&#x27;你好啊&#x27;</span></span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;, 1000)</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>效果：</p>
<ul>
<li>在没加v-cloak之前，浏览器先显示，过1s后显示“你好啊”</li>
<li>在加了v-cloak之后，浏览器先显示空白，过1s后显示“你好啊”</li>
</ul>
<h3 id="3、绑定属性（v-bind）"><a href="#3、绑定属性（v-bind）" class="headerlink" title="3、绑定属性（v-bind）"></a>3、绑定属性（v-bind）</h3><h4 id="1、v-bind基础"><a href="#1、v-bind基础" class="headerlink" title="1、v-bind基础"></a>1、v-bind基础</h4><p>前面的插值指令主要作用是将值插入到我们<strong>模板的内容</strong>当中。但是，除了内容需要动态来决定外，某些属性我们也希望动态来绑定。</p>
<ul>
<li>比如动态绑定a元素中网站的链接href</li>
<li>比如动态绑定img元素的src属性</li>
<li>动态绑定一些类、样式</li>
</ul>
<p>v-bind指令：</p>
<ul>
<li>作用：绑定一个或多个属性值，或者向另一个组件传递props值</li>
<li>缩写：<code>:</code></li>
<li>预期：any (with argument) | Object (without argument)</li>
<li>参数：attrOrProp (optional)</li>
</ul>
<p>通过Vue实例中的data绑定元素的src和href：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- 错误的做法: 这里不可以使用mustache语法--&gt;</span></span><br><span class="line">  <span class="comment">&lt;!--&lt;img src=&quot;&#123;&#123;imgURL&#125;&#125;&quot; alt=&quot;&quot;&gt;--&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- 正确的做法: 使用v-bind指令 --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">img</span> <span class="attr">v-bind:src</span>=<span class="string">&quot;imgURL&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">a</span> <span class="attr">v-bind:href</span>=<span class="string">&quot;aHref&quot;</span>&gt;</span>百度一下<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!--&lt;h2&gt;&#123;&#123;&#125;&#125;&lt;/h2&gt;--&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">&lt;!--语法糖的写法--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">img</span> <span class="attr">:src</span>=<span class="string">&quot;imgURL&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">a</span> <span class="attr">:href</span>=<span class="string">&quot;aHref&quot;</span>&gt;</span>百度一下<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">const</span> app = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">    el: <span class="string">&#x27;#app&#x27;</span>,</span></span><br><span class="line">    data: &#123;</span><br><span class="line"><span class="javascript">      imgURL: <span class="string">&#x27;https://vuejs.org/images/log.png&#x27;</span>,</span></span><br><span class="line"><span class="javascript">      aHref: <span class="string">&#x27;https://vuejs.org&#x27;</span></span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="2、v-bind绑定class"><a href="#2、v-bind绑定class" class="headerlink" title="2、v-bind绑定class"></a>2、v-bind绑定class</h4><p>很多时候，我们希望动态的来切换class：</p>
<ul>
<li>当数据为某个状态时，字体显示红色。</li>
<li>当数据另一个状态时，字体显示黑色。</li>
</ul>
<h5 id="1、绑定方式：对象语法"><a href="#1、绑定方式：对象语法" class="headerlink" title="1、绑定方式：对象语法"></a>1、绑定方式：对象语法</h5><p>对象语法的含义是:class后面跟的是一个对象。</p>
<p>语法：v-bind:class=’{类名: boolean,类名: boolean}’</p>
<p>eg：v-bind:class=”{类名1: true, 类名2: boolean}</p>
<p>对象语法有下面这些用法：</p>
<ul>
<li><p>直接通过{}绑定一个类：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h2</span> <span class="attr">:class</span>=<span class="string">&quot;&#123;&#x27;active&#x27;: isActive&#125;&quot;</span>&gt;</span>Hello World<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>通过判断，传入多个值：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h2</span> <span class="attr">:class</span>=<span class="string">&quot;&#123;&#x27;active&#x27;: isActive, &#x27;line&#x27;: isLine&#125;&quot;</span>&gt;</span>Hello World<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>和普通的类同时存在，并不冲突</p>
<p>注：如果isActive和isLine都为true，那么会有title/active/line三个class</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h2</span> <span class="attr">class</span>=<span class="string">&quot;title&quot;</span> <span class="attr">:class</span>=<span class="string">&quot;&#123;&#x27;active&#x27;: isActive, &#x27;line&#x27;: isLine&#125;&quot;</span>&gt;</span>Hello World<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>如果过于复杂，可以放在一个methods或者<code>computed</code>中</p>
<p>注：classes是一个<code>计算属性</code></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h2</span> <span class="attr">class</span>=<span class="string">&quot;title&quot;</span> <span class="attr">:class</span>=<span class="string">&quot;classes&quot;</span>&gt;</span>Hello World<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">const</span> app = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">    el: <span class="string">&#x27;#app&#x27;</span>,</span></span><br><span class="line">    data: &#123;</span><br><span class="line"><span class="javascript">      isActive: <span class="literal">true</span>,</span></span><br><span class="line"><span class="javascript">      isLine: <span class="literal">true</span></span></span><br><span class="line">    &#125;,</span><br><span class="line">    computed: &#123;</span><br><span class="line"><span class="javascript">      classes: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">return</span> &#123;<span class="attr">active</span>: <span class="built_in">this</span>.isActive, <span class="attr">line</span>: <span class="built_in">this</span>.isLine&#125;</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h5 id="2、绑定方式：数组语法"><a href="#2、绑定方式：数组语法" class="headerlink" title="2、绑定方式：数组语法"></a>2、绑定方式：数组语法</h5><p>数组语法的含义是:class后面跟的是一个数组。</p>
<p>数组语法有下面这些用法：</p>
<ul>
<li><p>直接通过{}绑定一个类：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h2</span> <span class="attr">:class</span>=<span class="string">&quot;[&#x27;active&#x27;,&#x27;line&#x27;]&quot;</span>&gt;</span>Hello World<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>和普通的类同时存在，并不冲突</p>
<p>注：会有title/active/line三个class</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h2</span> <span class="attr">class</span>=<span class="string">&quot;title&quot;</span> <span class="attr">:class</span>=<span class="string">“[‘active’,</span> &#x27;<span class="attr">line</span>&#x27;]&quot;&gt;</span>Hello World<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>如果过于复杂，可以放在一个methods或者computed中</p>
<p>注：classes是一个<code>计算属性</code></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h2</span> <span class="attr">class</span>=<span class="string">&quot;title&quot;</span> <span class="attr">:class</span>=<span class="string">&quot;getClasses()&quot;</span>&gt;</span>&#123;&#123;message&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">const</span> app = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">    el: <span class="string">&#x27;#app&#x27;</span>,</span></span><br><span class="line">    data: &#123;</span><br><span class="line"><span class="javascript">      active: <span class="string">&#x27;aaaaaa&#x27;</span>,</span></span><br><span class="line"><span class="javascript">      line: <span class="string">&#x27;bbbbbbb&#x27;</span></span></span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line"><span class="javascript">      getClasses: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">return</span> [<span class="built_in">this</span>.active, <span class="built_in">this</span>.line]</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

</li>
</ul>
<h4 id="3、v-bind绑定style"><a href="#3、v-bind绑定style" class="headerlink" title="3、v-bind绑定style"></a>3、v-bind绑定style</h4><p>我们可以利用v-bind:style来绑定一些CSS内联样式。</p>
<p>在写CSS属性名的时候，比如font-size</p>
<ul>
<li>我们可以使用驼峰式 (camelCase) fontSize </li>
<li>或短横线分隔 (kebab-case，记得用单引号括起来) ‘font-size’</li>
</ul>
<h5 id="1、绑定方式：对象语法-1"><a href="#1、绑定方式：对象语法-1" class="headerlink" title="1、绑定方式：对象语法"></a>1、绑定方式：对象语法</h5><p>style后面跟的是一个对象类型</p>
<ul>
<li>对象的key是<code>CSS属性名称</code></li>
<li>对象的value是具体赋的值，值可以来自于data中的属性</li>
<li>如果过于复杂，可以放在一个methods或者<code>computed</code>中</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css">    <span class="selector-class">.title</span> &#123;</span></span><br><span class="line">      font-size: 50px;</span><br><span class="line">      color: red;</span><br><span class="line">    &#125;</span><br><span class="line">  <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!--&lt;h2 :style=&quot;&#123;key(属性名): value(属性值)&#125;&quot;&gt;&#123;&#123;message&#125;&#125;&lt;/h2&gt;--&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">&lt;!--&#x27;50px&#x27;必须加上单引号, 否则是当做一个变量去解析--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h2</span> <span class="attr">:style</span>=<span class="string">&quot;&#123;fontSize: &#x27;50px&#x27;&#125;&quot;</span>&gt;</span>&#123;&#123;message&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">&lt;!--finalSize当成一个变量使用--&gt;</span></span><br><span class="line">  <span class="comment">&lt;!--&lt;h2 :style=&quot;&#123;fontSize: finalSize&#125;&quot;&gt;&#123;&#123;message&#125;&#125;&lt;/h2&gt;--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h2</span> <span class="attr">:style</span>=<span class="string">&quot;&#123;fontSize: finalSize + &#x27;px&#x27;, backgroundColor: finalColor&#125;&quot;</span>&gt;</span>&#123;&#123;message&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h2</span> <span class="attr">:style</span>=<span class="string">&quot;getStyles()&quot;</span>&gt;</span>&#123;&#123;message&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">const</span> app = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">    el: <span class="string">&#x27;#app&#x27;</span>,</span></span><br><span class="line">    data: &#123;</span><br><span class="line"><span class="javascript">      message: <span class="string">&#x27;你好啊&#x27;</span>,</span></span><br><span class="line">      finalSize: 100,</span><br><span class="line"><span class="javascript">      finalColor: <span class="string">&#x27;red&#x27;</span>,</span></span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line"><span class="javascript">      getStyles: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">return</span> &#123;<span class="attr">fontSize</span>: <span class="built_in">this</span>.finalSize + <span class="string">&#x27;px&#x27;</span>, <span class="attr">backgroundColor</span>: <span class="built_in">this</span>.finalColor&#125;</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h5 id="2、绑定方式：数组语法-1"><a href="#2、绑定方式：数组语法-1" class="headerlink" title="2、绑定方式：数组语法"></a>2、绑定方式：数组语法</h5><p>style后面跟的是一个数组类型</p>
<ul>
<li>多个值以<code>,</code>分割即可</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h2</span> <span class="attr">:style</span>=<span class="string">&quot;[baseStyle, baseStyle1]&quot;</span>&gt;</span>&#123;&#123;message&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">const</span> app = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">    el: <span class="string">&#x27;#app&#x27;</span>,</span></span><br><span class="line">    data: &#123;</span><br><span class="line"><span class="javascript">      message: <span class="string">&#x27;你好啊&#x27;</span>,</span></span><br><span class="line"><span class="javascript">      baseStyle: &#123;<span class="attr">backgroundColor</span>: <span class="string">&#x27;red&#x27;</span>&#125;,</span></span><br><span class="line"><span class="javascript">      baseStyle1: &#123;<span class="attr">fontSize</span>: <span class="string">&#x27;100px&#x27;</span>&#125;,</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="4、计算属性（computed）"><a href="#4、计算属性（computed）" class="headerlink" title="4、计算属性（computed）"></a>4、计算属性（computed）</h3><h4 id="1、是什么计算属性"><a href="#1、是什么计算属性" class="headerlink" title="1、是什么计算属性"></a>1、是什么计算属性</h4><p>在模板中可以直接通过插值语法显示一些data中的数据。但是在某些情况，我们可能需要对数据进行一些转化后再显示，或者需要将多个数据结合起来进行显示：</p>
<ul>
<li><p>比如我们有firstName和lastName两个变量，我们需要显示完整的名称：</p>
<ul>
<li> </li>
<li>undefined undefined
</li>
</ul>
</li>
<li><p>但是如果多个地方都需要显示完整的名称，我们就需要写多个</p>
 。代码臃肿

</li>
</ul>
<p>我们可以将上面的代码换成计算属性：写在实例Vue的computed选项中的。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123;firstName + &#x27; &#x27; + lastName&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123;firstName&#125;&#125; &#123;&#123;lastName&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123;getFullName()&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123;fullName&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">const</span> app = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">    el: <span class="string">&#x27;#app&#x27;</span>,</span></span><br><span class="line">    data: &#123;</span><br><span class="line"><span class="javascript">      firstName: <span class="string">&#x27;Lebron&#x27;</span>,</span></span><br><span class="line"><span class="javascript">      lastName: <span class="string">&#x27;James&#x27;</span></span></span><br><span class="line">    &#125;,</span><br><span class="line"><span class="javascript">    <span class="comment">// computed: 计算属性()</span></span></span><br><span class="line">    computed: &#123;</span><br><span class="line"><span class="javascript">      fullName: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">return</span> <span class="built_in">this</span>.firstName + <span class="string">&#x27; &#x27;</span> + <span class="built_in">this</span>.lastName</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line"><span class="javascript">      <span class="function"><span class="title">getFullName</span>(<span class="params"></span>)</span> &#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">return</span> <span class="built_in">this</span>.firstName + <span class="string">&#x27; &#x27;</span> + <span class="built_in">this</span>.lastName</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="2、计算属性："><a href="#2、计算属性：" class="headerlink" title="2、计算属性："></a>2、计算属性：</h4><ul>
<li><p>解决代码臃肿</p>
</li>
<li><p>可以进行一些更加复杂的操作</p>
<p><img src="/2021/04/19/VUE/16.png" alt="image-20210320150614370"></p>
</li>
<li><p>计算属性会进行缓存，如果多次使用时，计算属性只会调用一次。</p>
</li>
</ul>
<h4 id="3、计算属性的setter和getter"><a href="#3、计算属性的setter和getter" class="headerlink" title="3、计算属性的setter和getter"></a>3、计算属性的setter和getter</h4><p>每个计算属性都包含一个getter和一个setter</p>
<ul>
<li><p>在上面的例子中，我们只是使用getter来读取。</p>
</li>
<li><p>在某些情况下，你也可以提供一个setter方法（不常用）。</p>
<p>由于一般我们不希望有人能任意修改我们的计算属性的值，所以一般省略setter方法。而计算属性的getter就能简写成：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">// 简写前（如果有setter方法）：</span><br><span class="line">computed: &#123;</span><br><span class="line">	  fullName: &#123;</span><br><span class="line">		get() &#123;</span><br><span class="line">		  console.log(&#x27;---调用了fullName的get&#x27;);</span><br><span class="line">		  return this.firstName + &#x27; &#x27; + this.lastName</span><br><span class="line">		&#125;</span><br><span class="line">	  &#125;,</span><br><span class="line">		set(newValue) &#123;</span><br><span class="line">		  console.log(&#x27;---调用了fullName的get&#x27;);</span><br><span class="line">		  const names = newValue.split(&#x27; &#x27;);</span><br><span class="line">		  this.firstName = names[0];</span><br><span class="line">		  this.lastName = names[1];</span><br><span class="line">		&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 简写后：</span><br><span class="line">computed: &#123;</span><br><span class="line">      fullName: function () &#123;</span><br><span class="line">        return this.firstName + &#x27; &#x27; + this.lastName</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h4 id="4、methods与computed"><a href="#4、methods与computed" class="headerlink" title="4、methods与computed"></a>4、methods与computed</h4><p>methods和computed看起来都可以实现我们的功能，那么为什么还要多一个计算属性这个东西呢？</p>
<p>原因：计算属性会进行缓存，如果多次使用时，计算属性只会调用一次。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!--1.直接拼接: 语法过于繁琐--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123;firstName&#125;&#125; &#123;&#123;lastName&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">&lt;!--2.通过定义methods--&gt;</span></span><br><span class="line">  <span class="comment">&lt;!--&lt;h2&gt;&#123;&#123;getFullName()&#125;&#125;&lt;/h2&gt;--&gt;</span></span><br><span class="line">  <span class="comment">&lt;!--&lt;h2&gt;&#123;&#123;getFullName()&#125;&#125;&lt;/h2&gt;--&gt;</span></span><br><span class="line">  <span class="comment">&lt;!--&lt;h2&gt;&#123;&#123;getFullName()&#125;&#125;&lt;/h2&gt;--&gt;</span></span><br><span class="line">  <span class="comment">&lt;!--&lt;h2&gt;&#123;&#123;getFullName()&#125;&#125;&lt;/h2&gt;--&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">&lt;!--3.通过computed--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123;fullName&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123;fullName&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123;fullName&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123;fullName&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="comment">// angular -&gt; google</span></span></span><br><span class="line"><span class="javascript">  <span class="comment">// TypeScript(microsoft) -&gt; ts(类型检测)</span></span></span><br><span class="line"><span class="javascript">  <span class="comment">// flow(facebook) -&gt;</span></span></span><br><span class="line"><span class="javascript">  <span class="keyword">const</span> app = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">    el: <span class="string">&#x27;#app&#x27;</span>,</span></span><br><span class="line">    data: &#123;</span><br><span class="line"><span class="javascript">      firstName: <span class="string">&#x27;Kobe&#x27;</span>,</span></span><br><span class="line"><span class="javascript">      lastName: <span class="string">&#x27;Bryant&#x27;</span></span></span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line"><span class="javascript">      getFullName: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(<span class="string">&#x27;getFullName&#x27;</span>);</span></span><br><span class="line"><span class="javascript">        <span class="keyword">return</span> <span class="built_in">this</span>.firstName + <span class="string">&#x27; &#x27;</span> + <span class="built_in">this</span>.lastName</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    computed: &#123;</span><br><span class="line"><span class="javascript">      fullName: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(<span class="string">&#x27;fullName&#x27;</span>);</span></span><br><span class="line"><span class="javascript">        <span class="keyword">return</span> <span class="built_in">this</span>.firstName + <span class="string">&#x27; &#x27;</span> + <span class="built_in">this</span>.lastName</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>效果：</p>
<ul>
<li><p>当使用computed时：由于有缓存，浏览器只执行了一次。</p>
<p><img src="/2021/04/19/VUE/17.png" alt="image-20210320153300912"></p>
</li>
<li><p>当使用methods时：没有缓存，浏览器执行多次，加重了浏览器的负担。</p>
<p><img src="/2021/04/19/VUE/18.png" alt="image-20210320153616146"></p>
</li>
</ul>
<h3 id="5、事件监听（v-on）"><a href="#5、事件监听（v-on）" class="headerlink" title="5、事件监听（v-on）"></a>5、事件监听（v-on）</h3><p>在前端开发中，我们需要经常和用于交互。</p>
<p>这个时候，我们就必须监听用户发生的时间，比如点击、拖拽、键盘事件等等</p>
<p>在Vue中如何监听事件呢？使用v-on指令</p>
<p>v-on：</p>
<ul>
<li><strong>作用</strong>：绑定事件监听器</li>
<li><strong>缩写</strong>（语法糖）：@</li>
<li><strong>预期</strong>：Function | Inline Statement | Object</li>
<li><strong>参数</strong>：event</li>
</ul>
<h4 id="1、v-on基础"><a href="#1、v-on基础" class="headerlink" title="1、v-on基础"></a>1、v-on基础</h4><ul>
<li><p>一般v-on后面加上<code>:</code>，然后加上<code>动作</code>如点击（click）、拖拽、键盘事件（keyup/keydown）等等。</p>
</li>
<li><p>若v-on监听的事件简单，可以在v-on后面直接实现</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">v-on:click</span>=<span class="string">&quot;counter++&quot;</span>&gt;</span>+<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>若v-on监听的事件复杂，就需要将事件的实现抽取成一个方法</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">v-on:click</span>=<span class="string">&quot;increment&quot;</span>&gt;</span>+<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"></span><br><span class="line">methods: &#123;</span><br><span class="line">      increment() &#123;</span><br><span class="line">        this.counter++</span><br><span class="line">      &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h4 id="2、v-on参数"><a href="#2、v-on参数" class="headerlink" title="2、v-on参数"></a>2、v-on参数</h4><p>当通过methods中定义方法，以供@click调用时，需要<strong>注意参数问题</strong>：</p>
<ul>
<li><p>如果该方法不需要额外参数，那么方法后的()可以不添加。</p>
<p>但是注意：如果方法本身中有一个参数，那么会默认将原生事件event参数传递进去。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--1.事件调用的方法没有参数--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--1.1函数后添加()--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;btn1Click()&quot;</span>&gt;</span>按钮1<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--1.1函数后不添加()--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;btn1Click&quot;</span>&gt;</span>按钮1<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"></span><br><span class="line">methods: &#123;</span><br><span class="line">      btn1Click() &#123;</span><br><span class="line">        console.log(&quot;btn1Click&quot;);</span><br><span class="line">      &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--2.在事件定义时, 写方法时省略了小括号, 但是方法本身是需要一个参数的, 这个时候, Vue会默认将浏览器生产的event事件对象作为参数传入到方法--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--2.1函数后没添加()--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;btn2Click&quot;</span>&gt;</span>按钮2<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--2.2函数需要参数,()里传入参数--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--&lt;button @click=&quot;btn2Click(123)&quot;&gt;按钮2&lt;/button&gt;--&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--2.3如果函数需要参数,但是没有传入, 那么函数的形参为undefined--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--&lt;button @click=&quot;btn2Click()&quot;&gt;按钮2&lt;/button&gt;--&gt;</span></span><br><span class="line"></span><br><span class="line">methods: &#123;</span><br><span class="line">      btn2Click(event) &#123;</span><br><span class="line">        console.log(&#x27;--------&#x27;, event);</span><br><span class="line">      &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>2.1的效果：</p>
<p><img src="/2021/04/19/VUE/20.png" alt="image-20210320232959026"></p>
<p>2.3的效果：</p>
<p><img src="/2021/04/19/VUE/21.png" alt="image-20210320233429354"></p>
</li>
<li><p>如果需要同时传入某个参数，同时需要event时，可以通过$event传入事件。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--3.方法定义时, 我们需要event对象, 同时又需要其他参数--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--3.1在调用函数时, 如何手动的获取到浏览器参数的event对象: $event--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;btn3Click(&#x27;abc&#x27;, $event)&quot;</span>&gt;</span>按钮3<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--3.2在调用函数时，若event没有加$，那么浏览器将默认将event当成一个变量，若event在app实例里没有定义的话，浏览器会找不到该变量而报错并且返回undefined--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;btn3Click(&#x27;abc&#x27;, event)&quot;</span>&gt;</span>按钮3<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--3.3在调用函数时，若函数没传入参数，那么浏览器将默认将浏览器参数的event放入第一个参数中，又因为第二个参数没有传值，浏览器会将其变为undefined--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;btn3Click&quot;</span>&gt;</span>按钮3<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"></span><br><span class="line">methods: &#123;</span><br><span class="line">      btn3Click(abc, event) &#123;</span><br><span class="line">        console.log(&#x27;++++++++&#x27;, abc, event);</span><br><span class="line">      &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>3.1的效果：</p>
<p><img src="/2021/04/19/VUE/22.png" alt="image-20210320234009069"></p>
<p>3.2的效果：</p>
<p><img src="/2021/04/19/VUE/23.png" alt="image-20210320235528249"></p>
<p>3.3的效果：</p>
<p><img src="/2021/04/19/VUE/24.png" alt="image-20210320235715797"></p>
</li>
</ul>
<h4 id="3、v-on修饰符"><a href="#3、v-on修饰符" class="headerlink" title="3、v-on修饰符"></a>3、v-on修饰符</h4><p>在某些情况下，我们拿到event的目的可能是进行一些事件处理。Vue提供了修饰符来帮助我们方便的处理一些事件：</p>
<ul>
<li>.stop - 调用 event.stopPropagation()。</li>
<li>.prevent - 调用 event.preventDefault()。</li>
<li>.{keyCode | keyAlias} - 只当事件是从特定键触发时才触发回调。</li>
<li>.native - 监听组件根元素的原生事件。</li>
<li>.once - 只触发一次回调。</li>
</ul>
<p><img src="/2021/04/19/VUE/25.png" alt="image-20210321000423484"></p>
<p>更多修饰符参考<a target="_blank" rel="noopener" href="https://cn.vuejs.org/v2/guide/events.html#%E4%BA%8B%E4%BB%B6%E4%BF%AE%E9%A5%B0%E7%AC%A6">官网的事件修饰符</a>，以下来自官网。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 阻止单击事件继续传播 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">v-on:click.stop</span>=<span class="string">&quot;doThis&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 提交事件不再重载页面 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">v-on:submit.prevent</span>=<span class="string">&quot;onSubmit&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 修饰符可以串联 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">v-on:click.stop.prevent</span>=<span class="string">&quot;doThat&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 只有修饰符 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">v-on:submit.prevent</span>&gt;</span><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 添加事件监听器时使用事件捕获模式 --&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 即内部元素触发的事件先在此处理，然后才交由内部元素进行处理 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">v-on:click.capture</span>=<span class="string">&quot;doThis&quot;</span>&gt;</span>...<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 只当在 event.target 是当前元素自身时触发处理函数 --&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 即事件不是从内部元素触发的 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">v-on:click.self</span>=<span class="string">&quot;doThat&quot;</span>&gt;</span>...<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 点击事件将只会触发一次 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">v-on:click.once</span>=<span class="string">&quot;doThis&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 滚动事件的默认行为 (即滚动行为) 将会立即触发 --&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 而不会等待 `onScroll` 完成  --&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 这其中包含 `event.preventDefault()` 的情况 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">v-on:scroll.passive</span>=<span class="string">&quot;onScroll&quot;</span>&gt;</span>...<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 只有在 `key` 是 `Enter` 时调用 `vm.submit()` --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">v-on:keyup.enter</span>=<span class="string">&quot;submit&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">v-on:keyup.page-down</span>=<span class="string">&quot;onPageDown&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="6、条件判断"><a href="#6、条件判断" class="headerlink" title="6、条件判断"></a>6、条件判断</h3><h4 id="1、v-if、v-else-if、v-else"><a href="#1、v-if、v-else-if、v-else" class="headerlink" title="1、v-if、v-else-if、v-else"></a>1、v-if、v-else-if、v-else</h4><ul>
<li><p>这三个指令与JavaScript的条件语句if、else、else if类似。</p>
</li>
<li><p>Vue的条件指令可以根据表达式的值在DOM中渲染或销毁元素或组件。</p>
</li>
</ul>
<p>简单的案例演示：</p>
<p><img src="/2021/04/19/VUE/26.png" alt="image-20210321004504280"></p>
<p><img src="/2021/04/19/VUE/27.png" alt="image-20210321005848254"></p>
<p>v-if的原理：</p>
<ul>
<li><p>v-if后面的条件为false时，对应的元素以及其子元素不会渲染。</p>
</li>
<li><p>也就是根本没有不会有对应的标签出现在DOM中。</p>
</li>
</ul>
<h4 id="2、一个简单的小案例（用户登陆方式切换）"><a href="#2、一个简单的小案例（用户登陆方式切换）" class="headerlink" title="2、一个简单的小案例（用户登陆方式切换）"></a>2、一个简单的小案例（用户登陆方式切换）</h4><p>用户再登录时，可以切换使用用户账号登录还是邮箱地址登录。类似如下情景：</p>
<p><img src="/2021/04/19/VUE/28.png" alt="image-20210321013857218"></p>
<p>代码：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">span</span> <span class="attr">v-if</span>=<span class="string">&quot;isUser&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;username&quot;</span>&gt;</span>用户账号<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">id</span>=<span class="string">&quot;username&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;用户账号&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">span</span> <span class="attr">v-else</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;email&quot;</span>&gt;</span>用户邮箱<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">id</span>=<span class="string">&quot;email&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;用户邮箱&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;isUser = !isUser&quot;</span>&gt;</span>切换类型<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">const</span> app = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">    el: <span class="string">&#x27;#app&#x27;</span>,</span></span><br><span class="line">    data: &#123;</span><br><span class="line"><span class="javascript">      isUser: <span class="literal">true</span></span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h5 id="1、问题"><a href="#1、问题" class="headerlink" title="1、问题"></a>1、问题</h5><p>以上案例会有一个小问题：如果我们在有输入内容的情况下，切换了类型，我们会发现文字依然显示之前的输入的内容。</p>
<p>为什么呢？按道理讲，我们在一个input输入的内容（value），在切换到另外一个input元素后应该消失，因为在另一个input元素中，我们并没有输入内容。</p>
<h5 id="2、问题解答"><a href="#2、问题解答" class="headerlink" title="2、问题解答"></a>2、问题解答</h5><ul>
<li>这是因为Vue在进行渲染时，不会直接渲染在浏览器上面，Vue会在其之间构建一个虚拟NOM，Vue会先渲染在虚拟DOM上面，然后在渲染在浏览器上。而出于性能考虑，当出现两个只存在一个（if -else）的时候，会尽可能的复用已经存在的元素，而不是重新创建新的元素。</li>
<li>在上面的案例中，Vue内部会发现原来（if）的input元素不再使用，直接作为else中的input来使用了。此时并不会重新构建一个input，并且改变的只有与之前input不同的内容（如for、id、placeholder等等），所以文本里面的内容不会改变。</li>
</ul>
<h5 id="3、解决方案"><a href="#3、解决方案" class="headerlink" title="3、解决方案"></a>3、解决方案</h5><p>如果我们不希望Vue出现类似重复利用的问题，可以给对应的input添加key</p>
<p>并且需要我们保证key的值不同。（若key的值相同的话还是会继承文本内容）</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">v-if</span>=<span class="string">&quot;isUser&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;username&quot;</span>&gt;</span>用户账号<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">id</span>=<span class="string">&quot;username&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;用户账号&quot;</span> <span class="attr">key</span>=<span class="string">&quot;username&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">v-else</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;email&quot;</span>&gt;</span>用户邮箱<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">id</span>=<span class="string">&quot;email&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;用户邮箱&quot;</span> <span class="attr">key</span>=<span class="string">&quot;email&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="3、v-show"><a href="#3、v-show" class="headerlink" title="3、v-show"></a>3、<strong>v-show</strong></h4><p>v-show的用法和v-if非常相似，也用于决定一个元素是否渲染</p>
<p><strong>v-if和v-show对比：</strong></p>
<ul>
<li>v-if: 当条件为false时, 包含v-if指令的元素, 根本就不会存在dom中</li>
<li>v-show: 当条件为false时, v-show只是给我们的元素添加一个行内样式: display: none</li>
</ul>
<p>v-if和v-show都可以决定一个元素是否渲染，<strong>开发中如何选择</strong>呢：</p>
<ul>
<li>当需要在显示与隐藏之间切换很频繁时，使用v-show</li>
<li>当只有一次切换时，通过使用v-if</li>
</ul>
<h3 id="7、循环遍历（v-for）"><a href="#7、循环遍历（v-for）" class="headerlink" title="7、循环遍历（v-for）"></a>7、循环遍历（v-for）</h3><h4 id="1、v-for遍历数组"><a href="#1、v-for遍历数组" class="headerlink" title="1、v-for遍历数组"></a>1、v-for遍历数组</h4><p>当我们有一组数据需要进行渲染时，我们就可以使用v-for来完成</p>
<ul>
<li><p>v-for的语法类似于JavaScript中的for循环。</p>
</li>
<li><p>格式如下：item in items的形式。</p>
</li>
<li><p>如果在遍历的过程中不需要使用索引值</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;item in names&quot;</span>&gt;</span>&#123;&#123;item&#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>如果在遍历的过程中，我们需要拿到元素在数组中的索引值</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;(item, index) in names&quot;</span>&gt;</span></span><br><span class="line">      // 使遍历从1开始</span><br><span class="line">      &#123;&#123;index+1&#125;&#125;.&#123;&#123;item&#125;&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br></pre></td></tr></table></figure>

</li>
</ul>
<h4 id="2、v-for遍历对象"><a href="#2、v-for遍历对象" class="headerlink" title="2、v-for遍历对象"></a>2、v-for遍历对象</h4><p>当有一对象需要我们对其里面的数据进行渲染时，我们就可以使用v-for来完成</p>
<ul>
<li><p>在遍历对象的过程中, 如果只是获取一个值, 那么获取到的是value</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;item in info&quot;</span>&gt;</span>&#123;&#123;item&#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">const</span> app = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">    el: <span class="string">&#x27;#app&#x27;</span>,</span></span><br><span class="line">    data: &#123;</span><br><span class="line">      info: &#123;</span><br><span class="line"><span class="javascript">        name: <span class="string">&#x27;why&#x27;</span>,</span></span><br><span class="line">        age: 18,</span><br><span class="line">        height: 1.88</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>效果：</p>
<ul>
<li>why</li>
<li>18</li>
<li>1.88</li>
</ul>
</li>
<li><p>获取key和value 格式: (value, key)</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;(value, key) in info&quot;</span>&gt;</span>&#123;&#123;value&#125;&#125;-&#123;&#123;key&#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">const</span> app = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">    el: <span class="string">&#x27;#app&#x27;</span>,</span></span><br><span class="line">    data: &#123;</span><br><span class="line">      info: &#123;</span><br><span class="line"><span class="javascript">        name: <span class="string">&#x27;why&#x27;</span>,</span></span><br><span class="line">        age: 18,</span><br><span class="line">        height: 1.88</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>效果：</p>
<ul>
<li>why-name</li>
<li>18-age</li>
<li>1.88-height</li>
</ul>
</li>
<li><p>获取key和value和index 格式: (value, key, index)</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;(value, key, index) in info&quot;</span>&gt;</span>&#123;&#123;value&#125;&#125;-&#123;&#123;key&#125;&#125;-&#123;&#123;index + 1&#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">const</span> app = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">    el: <span class="string">&#x27;#app&#x27;</span>,</span></span><br><span class="line">    data: &#123;</span><br><span class="line">      info: &#123;</span><br><span class="line"><span class="javascript">        name: <span class="string">&#x27;why&#x27;</span>,</span></span><br><span class="line">        age: 18,</span><br><span class="line">        height: 1.88</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>效果：</p>
<ul>
<li>why-name-1</li>
<li>18-age-2</li>
<li>1.88-height-3</li>
</ul>
</li>
</ul>
<h4 id="3、v-for的组件的key属性"><a href="#3、v-for的组件的key属性" class="headerlink" title="3、v-for的组件的key属性"></a>3、v-for的组件的key属性</h4><p>官方推荐我们在使用v-for时，给对应的元素或组件添加上一个:key属性。</p>
<p>为什么需要这个key属性呢？</p>
<ul>
<li><p>这个其实和Vue的虚拟DOM的Diff算法有关系</p>
</li>
<li><p>我们借用<a href="https://link.zhihu.com/?target=https://calendar.perfplanet.com/2013/diff/">React’s</a><a href="https://link.zhihu.com/?target=https://calendar.perfplanet.com/2013/diff/"> diff algorithm</a>中的一张图来简单说明一下：</p>
<p><img src="/2021/04/19/VUE/29.png" alt="image-20210321153710582"></p>
</li>
<li><p>当某一层有很多相同的节点时，也就是列表节点时，我们希望插入一个新的节点</p>
<ul>
<li>我们希望可以在B和C之间加一个F，Diff算法默认执行起来是这样的</li>
<li>即把C更新成F，D更新成C，E更新成D，最后再插入E</li>
</ul>
</li>
<li><p>这样做会使程序的执行效率变低，所以可以用<code>key</code>这个属性来给每个节点做一个唯一标识</p>
<ul>
<li>Diff算法就可以正确的识别此节点</li>
<li>找到正确的位置区插入新的节点</li>
</ul>
</li>
<li><p><strong>key的作用主要是为了高效的更新虚拟DOM</strong></p>
</li>
</ul>
<h4 id="4、检测数组更新（响应式）"><a href="#4、检测数组更新（响应式）" class="headerlink" title="4、检测数组更新（响应式）"></a>4、检测数组更新（响应式）</h4><p>因为Vue是响应式的，所以当数据发生变化时，Vue会自动检测数据变化，视图会发生对应的更新。</p>
<p>Vue中包含了一组观察数组编译的方法，使用它们改变数组也会触发视图的更新：</p>
<ul>
<li><p>push()：在数组末尾添加一个或多个元素</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">data: &#123;</span><br><span class="line">      letters: [&#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;, &#x27;d&#x27;]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">this.letters.push(&#x27;aaa&#x27;)</span><br><span class="line">this.letters.push(&#x27;aaaa&#x27;, &#x27;bbbb&#x27;, &#x27;cccc&#x27;)</span><br></pre></td></tr></table></figure>
</li>
<li><p>pop()：删除数组中的最后一个元素</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">data: &#123;</span><br><span class="line">      letters: [&#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;, &#x27;d&#x27;]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">this.letters.pop();</span><br></pre></td></tr></table></figure>
</li>
<li><p>shift()：删除数组中的第一个元素</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">data: &#123;</span><br><span class="line">      letters: [&#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;, &#x27;d&#x27;]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">this.letters.shift();</span><br></pre></td></tr></table></figure>
</li>
<li><p>unshift()：在数组最前面添加一个或多个元素</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">data: &#123;</span><br><span class="line">      letters: [&#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;, &#x27;d&#x27;]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">this.letters.unshift()</span><br><span class="line">this.letters.unshift(&#x27;aaa&#x27;, &#x27;bbb&#x27;, &#x27;ccc&#x27;)</span><br></pre></td></tr></table></figure>
</li>
<li><p>splice(start,index,…items)：删除元素/插入元素/替换元素</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">data: &#123;</span><br><span class="line">      letters: [&#x27;a&#x27;, &#x27;d&#x27;, &#x27;c&#x27;, &#x27;b&#x27;]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 删除元素: 第二个参数传入你要删除几个元素(如果没有传,就删除后面所有的元素)</span><br><span class="line">this.letters.splice(1, 3)</span><br><span class="line">this.letters.splice(1)</span><br><span class="line"></span><br><span class="line">// 替换元素: 第二个参数, 表示我们要替换几个元素, 后面是用于替换前面的元素</span><br><span class="line">this.letters.splice(1, 3, &#x27;m&#x27;, &#x27;n&#x27;, &#x27;l&#x27;, &#x27;x&#x27;)</span><br><span class="line"></span><br><span class="line">// 插入元素: 第二个参数, 传入0, 并且后面跟上要插入的元素</span><br><span class="line">this.letters.splice(1, 0, &#x27;x&#x27;, &#x27;y&#x27;, &#x27;z&#x27;)</span><br></pre></td></tr></table></figure>



</li>
</ul>
<ul>
<li><p>sort()：对数组进行排序。（参数可以添加排序的规则的方法）</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">data: &#123;</span><br><span class="line">      letters: [&#x27;a&#x27;, &#x27;d&#x27;, &#x27;c&#x27;, &#x27;b&#x27;]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">this.letters.sort()</span><br></pre></td></tr></table></figure>
</li>
<li><p>reverse()：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">data: &#123;</span><br><span class="line">      letters: [&#x27;a&#x27;, &#x27;d&#x27;, &#x27;c&#x27;, &#x27;b&#x27;]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">this.letters.reverse()</span><br></pre></td></tr></table></figure>

</li>
</ul>
<p><strong>注意：通过<code>索引值</code>修改数组中的元素不能做到响应式</strong></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">data: &#123;</span><br><span class="line">      letters: [&#x27;a&#x27;, &#x27;d&#x27;, &#x27;c&#x27;, &#x27;b&#x27;]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">this.letters[0] = &#x27;bbbbbb&#x27;;</span><br></pre></td></tr></table></figure>

<p>此时可以通过splice方法或Vue的set方法的方式来修改以达到响应式的目的</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">// splice方法</span><br><span class="line">this.letters.splice(0, 1, &#x27;bbbbbb&#x27;)</span><br><span class="line"></span><br><span class="line">// Vue的set(要修改的对象, 索引值, 修改后的值)</span><br><span class="line">Vue.set(this.letters, 0, &#x27;bbbbbb&#x27;)</span><br></pre></td></tr></table></figure>

<h4 id="5、作业：（v-for-v-bind-v-on-当前索引方法的应用）"><a href="#5、作业：（v-for-v-bind-v-on-当前索引方法的应用）" class="headerlink" title="5、作业：（v-for + v-bind + v-on + 当前索引方法的应用）"></a>5、作业：（v-for + v-bind + v-on + 当前索引方法的应用）</h4><p>需求：有一电影列表，点击哪一部影片，哪一部影片就表现为红色。</p>
<p>代码：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>homework<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css">    <span class="selector-class">.active</span>&#123;</span></span><br><span class="line">      color: red;</span><br><span class="line">    &#125;</span><br><span class="line">  <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span> = <span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;(movie,index) in movies&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">:class</span>=<span class="string">&quot;&#123;active: currentIndex === index&#125;&quot;</span></span></span><br><span class="line"><span class="tag">        @<span class="attr">click</span>=<span class="string">&quot;isClick(index)&quot;</span>&gt;</span></span><br><span class="line">      &#123;&#123;index&#125;&#125;.&#123;&#123;movie&#125;&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">  <span class="keyword">const</span> app = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">    el: <span class="string">&#x27;#app&#x27;</span>,</span></span><br><span class="line">    data: &#123;</span><br><span class="line"><span class="javascript">      movies: [<span class="string">&#x27;海贼王&#x27;</span>,<span class="string">&#x27;火影忍者&#x27;</span>,<span class="string">&#x27;进击的巨人&#x27;</span>,<span class="string">&#x27;妖精的尾巴&#x27;</span>],</span></span><br><span class="line">      currentIndex: -1</span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line"><span class="javascript">      isClick: <span class="function"><span class="keyword">function</span> (<span class="params">index</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="built_in">this</span>.currentIndex = index</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="6、高阶函数filter-map-reduce"><a href="#6、高阶函数filter-map-reduce" class="headerlink" title="6、高阶函数filter|map|reduce"></a>6、高阶函数filter|map|reduce</h4><h5 id="1、filter：过滤作用"><a href="#1、filter：过滤作用" class="headerlink" title="1、filter：过滤作用"></a>1、filter：过滤作用</h5><p>filter函数的参数是一个回调函数，返回值为一个数组：</p>
<ul>
<li>回调函数的参数为循环遍历的值n</li>
<li>回调函数有一个要求: 必须返回一个boolean值<ul>
<li>true: 当返回true时, 函数内部会自动将这次回调的n加入到新的数组中</li>
<li>false：当返回false时, 函数内部会过滤掉这次的n</li>
</ul>
</li>
</ul>
<p>使用：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">const nums = [10, 20, 111, 222, 444, 40, 50]</span><br><span class="line"></span><br><span class="line">// newNums = [10,20,40,50]</span><br><span class="line">let newNums = nums.filter(function (n) &#123;</span><br><span class="line">  return n <span class="tag">&lt; <span class="attr">100</span></span></span><br><span class="line"><span class="tag">&#125;)</span></span><br></pre></td></tr></table></figure>

<h5 id="2、map：映射作用"><a href="#2、map：映射作用" class="headerlink" title="2、map：映射作用"></a>2、map：映射作用</h5><p>map函数的参数是一个回调函数，返回值为一个数组：</p>
<ul>
<li>回调函数的参数为循环遍历的值n</li>
<li>可以在回调函数内对数组的值进行操作，map会帮操作完的值映射到一个新的数组</li>
</ul>
<p>使用：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">// newNums = [10,20,40,50]</span><br><span class="line">// new2Nums = [20,40,80,100]</span><br><span class="line">let new2Nums = newNums.map(function (n) &#123; // 20</span><br><span class="line">  return n * 2</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h5 id="3、reduce：作用对数组中所有的内容进行汇总"><a href="#3、reduce：作用对数组中所有的内容进行汇总" class="headerlink" title="3、reduce：作用对数组中所有的内容进行汇总"></a>3、reduce：作用对数组中所有的内容进行汇总</h5><p>map函数的参数是一个回调函数，和一个初始值</p>
<ul>
<li>回调函数有两个参数（previousValue，start）<ul>
<li>previousValue：数组当前值的前一个值</li>
<li>start：数组当前值</li>
</ul>
</li>
<li>初始值为数组一开始值（第一个元素，index=0）的前一个值</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">// new2Nums = [20,40,80,100]</span><br><span class="line">// total = 240</span><br><span class="line">let total = new2Nums.reduce(function (preValue, n) &#123;</span><br><span class="line">  return preValue + n</span><br><span class="line">&#125;, 0)</span><br></pre></td></tr></table></figure>

<h5 id="4、总结"><a href="#4、总结" class="headerlink" title="4、总结"></a>4、总结</h5><p>需求：筛选出数组nums里所有小于100的值，然后就值乘以2再相加。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">const nums = [10, 20, 111, 222, 444, 40, 50]</span><br><span class="line"></span><br><span class="line">let total = nums.filter(function (n) &#123;</span><br><span class="line">  return n <span class="tag">&lt; <span class="attr">100</span></span></span><br><span class="line"><span class="tag">&#125;)<span class="attr">.map</span>(<span class="attr">function</span> (<span class="attr">n</span>) &#123;</span></span><br><span class="line"><span class="tag">  <span class="attr">return</span> <span class="attr">n</span> * <span class="attr">2</span></span></span><br><span class="line"><span class="tag">&#125;)<span class="attr">.reduce</span>(<span class="attr">function</span> (<span class="attr">prevValue</span>, <span class="attr">n</span>) &#123;</span></span><br><span class="line"><span class="tag">  <span class="attr">return</span> <span class="attr">prevValue</span> + <span class="attr">n</span></span></span><br><span class="line"><span class="tag">&#125;, <span class="attr">0</span>)</span></span><br></pre></td></tr></table></figure>

<p>以上三个高阶函数的回调函数都可以用箭头函数表示。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">let total = nums.filter(n =&gt; n <span class="tag">&lt; <span class="attr">100</span>)<span class="attr">.map</span>(<span class="attr">n</span> =&gt;</span> n * 2).reduce((pre, n) =&gt; pre + n)</span><br></pre></td></tr></table></figure>

<h3 id="8、表单绑定（v-mode）"><a href="#8、表单绑定（v-mode）" class="headerlink" title="8、表单绑定（v-mode）"></a>8、表单绑定（v-mode）</h3><h4 id="1、v-mode基础"><a href="#1、v-mode基础" class="headerlink" title="1、v-mode基础"></a>1、v-mode基础</h4><p>表单控件在实际开发中是非常常见的。特别是对于用户信息的提交，需要大量的表单。</p>
<p>Vue中使用v-model指令来实现表单元素和数据的双向绑定。</p>
<p>案例：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;message&quot;</span>&gt;</span></span><br><span class="line">  &#123;&#123;message&#125;&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">const</span> app = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">    el: <span class="string">&#x27;#app&#x27;</span>,</span></span><br><span class="line">    data: &#123;</span><br><span class="line"><span class="javascript">      message: <span class="string">&#x27;Hello Vue&#x27;</span></span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><img src="/2021/04/19/VUE/30.png" alt="image-20210321210459660"></p>
<p>案例的解析：</p>
<p>当我们在输入框输入内容时，因为input中的v-model绑定了message，所以会实时将输入的内容传递给message，message发生改变。当message发生改变时，因为上面我们使用Mustache语法，将message的值插入到DOM中，所以DOM会发生响应的改变。所以，通过v-model实现了双向的绑定。</p>
<p>当然，我们也可以将v-model用于textarea元素。</p>
<h4 id="2、v-mode的原理"><a href="#2、v-mode的原理" class="headerlink" title="2、v-mode的原理"></a>2、v-mode的原理</h4><p>v-model其实是一个语法糖，它的背后本质上是包含两个操作：</p>
<ul>
<li>v-bind绑定一个value属性</li>
<li>v-on指令给当前元素绑定input事件</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;message&quot;</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--等同与--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">:value</span>=<span class="string">&quot;message&quot;</span> @<span class="attr">input</span>=<span class="string">&quot;valueChange&quot;</span>&gt;</span></span><br><span class="line">methods: &#123;</span><br><span class="line">      valueChange(event) &#123;</span><br><span class="line">        this.message = event.target.value;</span><br><span class="line">      &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">&lt;!--也等同与--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-bind:value</span>=<span class="string">&quot;message&quot;</span> <span class="attr">v-on:input</span>=<span class="string">&quot;message = $event.target.value&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="3、v-mode：radio"><a href="#3、v-mode：radio" class="headerlink" title="3、v-mode：radio"></a>3、v-mode：radio</h4><p>当存在多个单选框时，v-mode可用于将单选框的值和与之对应变量进行双向绑定。</p>
<p>其中一个label与一个input组合，label里面的for与input里面的id一一对应，实现用户点击文字就可以选中对应的单选框。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;male&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;radio&quot;</span> <span class="attr">id</span>=<span class="string">&quot;male&quot;</span> <span class="attr">value</span>=<span class="string">&quot;男&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;sex&quot;</span>&gt;</span>男</span><br><span class="line">  <span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;female&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;radio&quot;</span> <span class="attr">id</span>=<span class="string">&quot;female&quot;</span> <span class="attr">value</span>=<span class="string">&quot;女&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;sex&quot;</span>&gt;</span>女</span><br><span class="line">  <span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h2</span>&gt;</span>您选择的性别是: &#123;&#123;sex&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">const</span> app = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">    el: <span class="string">&#x27;#app&#x27;</span>,</span></span><br><span class="line">    data: &#123;</span><br><span class="line"><span class="javascript">      sex: <span class="string">&#x27;女&#x27;</span></span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="4、v-mode：checkbox"><a href="#4、v-mode：checkbox" class="headerlink" title="4、v-mode：checkbox"></a>4、v-mode：checkbox</h4><p>checkbox复选框分为两种情况：单个勾选框和多个勾选框</p>
<ul>
<li><p>单个勾选框：</p>
<ul>
<li><p>v-model即为布尔值</p>
</li>
<li><p>此时input的value并不影响v-model的值</p>
</li>
<li><p>常用于让用户点击<code>同意协议</code>后才能点击<code>下一步</code>的业务场景</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;licence&quot;</span>&gt;</span>--&gt;</span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">id</span>=<span class="string">&quot;licence&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;isAgree&quot;</span>&gt;</span>同意协议</span><br><span class="line">  <span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h2</span>&gt;</span>您选择的是: &#123;&#123;isAgree&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">button</span> <span class="attr">:disabled</span>=<span class="string">&quot;!isAgree&quot;</span>&gt;</span>下一步<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">const</span> app = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">    el: <span class="string">&#x27;#app&#x27;</span>,</span></span><br><span class="line">    data: &#123;</span><br><span class="line"><span class="javascript">      isAgree: <span class="literal">false</span>,</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>多个复选框</p>
<ul>
<li><p>当是多个复选框时，因为可以选中多个，所以对应的data中属性是一个数组</p>
</li>
<li><p>当选中某一个时，就会将input的value添加到数组中</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">value</span>=<span class="string">&quot;篮球&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;hobbies&quot;</span>&gt;</span>篮球</span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">value</span>=<span class="string">&quot;足球&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;hobbies&quot;</span>&gt;</span>足球</span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">value</span>=<span class="string">&quot;乒乓球&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;hobbies&quot;</span>&gt;</span>乒乓球</span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">value</span>=<span class="string">&quot;羽毛球&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;hobbies&quot;</span>&gt;</span>羽毛球</span><br><span class="line">  <span class="tag">&lt;<span class="name">h2</span>&gt;</span>您的爱好是: &#123;&#123;hobbies&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">&lt;!--label中的:for与input的:id对应--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">label</span> <span class="attr">v-for</span>=<span class="string">&quot;item in originHobbies&quot;</span> <span class="attr">:for</span>=<span class="string">&quot;item&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">:value</span>=<span class="string">&quot;item&quot;</span> <span class="attr">:id</span>=<span class="string">&quot;item&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;hobbies&quot;</span>&gt;</span>&#123;&#123;item&#125;&#125;</span><br><span class="line">  <span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">const</span> app = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">    el: <span class="string">&#x27;#app&#x27;</span>,</span></span><br><span class="line">    data: &#123;</span><br><span class="line">      hobbies: [],</span><br><span class="line"><span class="javascript">      originHobbies: [<span class="string">&#x27;篮球&#x27;</span>, <span class="string">&#x27;足球&#x27;</span>, <span class="string">&#x27;乒乓球&#x27;</span>, <span class="string">&#x27;羽毛球&#x27;</span>, <span class="string">&#x27;台球&#x27;</span>, <span class="string">&#x27;高尔夫球&#x27;</span>]</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

</li>
</ul>
</li>
</ul>
<h4 id="5、v-mode：select"><a href="#5、v-mode：select" class="headerlink" title="5、v-mode：select"></a>5、v-mode：select</h4><p>select也分单选和多选两种情况：</p>
<ul>
<li><p>单选：只能选中一个值：</p>
<ul>
<li><p>v-model绑定的是一个值</p>
</li>
<li><p>当我们选中option中的一个时，会将它对应的value赋值到mySelect中</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">select</span> <span class="attr">name</span>=<span class="string">&quot;abc&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;fruit&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;苹果&quot;</span>&gt;</span>苹果<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;香蕉&quot;</span>&gt;</span>香蕉<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;榴莲&quot;</span>&gt;</span>榴莲<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;葡萄&quot;</span>&gt;</span>葡萄<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h2</span>&gt;</span>您选择的水果是: &#123;&#123;fruit&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">const</span> app = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">    el: <span class="string">&#x27;#app&#x27;</span>,</span></span><br><span class="line">    data: &#123;</span><br><span class="line"><span class="javascript">      <span class="comment">// 默认香蕉</span></span></span><br><span class="line"><span class="javascript">      fruit: <span class="string">&#x27;香蕉&#x27;</span></span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>多选：可以选中多个值（属性加上multiple）：</p>
<ul>
<li><p>v-model绑定的是一个数组</p>
</li>
<li><p>当选中多个值时，就会将选中的option对应的value添加到数组mySelects中</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">select</span> <span class="attr">name</span>=<span class="string">&quot;abc&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;fruits&quot;</span> <span class="attr">multiple</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;苹果&quot;</span>&gt;</span>苹果<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;香蕉&quot;</span>&gt;</span>香蕉<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;榴莲&quot;</span>&gt;</span>榴莲<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;葡萄&quot;</span>&gt;</span>葡萄<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h2</span>&gt;</span>您选择的水果是: &#123;&#123;fruits&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">const</span> app = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">    el: <span class="string">&#x27;#app&#x27;</span>,</span></span><br><span class="line">    data: &#123;</span><br><span class="line">      fruits: []</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

</li>
</ul>
</li>
</ul>
<h4 id="6、值绑定"><a href="#6、值绑定" class="headerlink" title="6、值绑定"></a>6、值绑定</h4><p>动态的给value赋值而已。我们前面的value中的值，都是在定义input的时候直接给定的（写死），但是真实开发中，这些input的值可能是从网络获取或定义在data中的。所以我们可以通过v-bind:value动态的给value绑定值（其实就是v-bind在input中的应用）</p>
<h4 id="7、修饰符"><a href="#7、修饰符" class="headerlink" title="7、修饰符"></a>7、修饰符</h4><h5 id="1、lazy修饰符"><a href="#1、lazy修饰符" class="headerlink" title="1、lazy修饰符"></a>1、lazy修饰符</h5><p>默认情况下，v-model默认是在input事件中同步输入框的数据的。也就是说，一旦有数据发生改变对应的data中的数据就会自动发生改变。</p>
<p>lazy修饰符可以让数据在失去焦点或者回车时才会更新。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model.lazy</span>=<span class="string">&quot;message&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123;message&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">const</span> app = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">    el: <span class="string">&#x27;#app&#x27;</span>,</span></span><br><span class="line">    data: &#123;</span><br><span class="line"><span class="javascript">      message: <span class="string">&#x27;Hello Vue&#x27;</span></span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>效果：</p>
<ul>
<li>聚焦时：</li>
</ul>
<p><img src="/2021/04/19/VUE/31.png" alt="image-20210321214116893"></p>
<ul>
<li>失焦时：</li>
</ul>
<p><img src="/2021/04/19/VUE/32.png" alt="image-20210321214156460"></p>
<h5 id="2、number修饰符"><a href="#2、number修饰符" class="headerlink" title="2、number修饰符"></a>2、number修饰符</h5><p>默认情况下，在输入框中无论我们输入的是字母还是数字，都会被当做字符串类型进行处理。但是如果我们希望处理的是数字类型，那么最好直接将内容当做数字处理。</p>
<p>number修饰符可以让在输入框中输入的内容自动转成数字类型</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;number&quot;</span> <span class="attr">v-model.number</span>=<span class="string">&quot;age&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123;age&#125;&#125;-&#123;&#123;typeof age&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    </span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">const</span> app = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">    el: <span class="string">&#x27;#app&#x27;</span>,</span></span><br><span class="line">    data: &#123;</span><br><span class="line">      age: 18</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>效果：</p>
<ul>
<li><p>没加number：</p>
<p><img src="/2021/04/19/VUE/33.png" alt="image-20210321214845631"></p>
</li>
<li><p>加上number：</p>
<p><img src="/2021/04/19/VUE/34.png" alt="image-20210321214942404"></p>
</li>
</ul>
<h4 id="3、trim修饰符"><a href="#3、trim修饰符" class="headerlink" title="3、trim修饰符"></a>3、trim修饰符</h4><p>如果输入的内容首尾有很多空格，通常我们希望将其去除，trim修饰符可以过滤内容左右两边的空格（浏览器会格式化显示时帮忙去掉多余的空格，但在代码里空格依旧存在，trim修饰符可以过滤内容左右两边的空格）。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model.trim</span>=<span class="string">&quot;name&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h2</span>&gt;</span>您输入的名字:&#123;&#123;name&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">const</span> app = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">    el: <span class="string">&#x27;#app&#x27;</span>,</span></span><br><span class="line">    data: &#123;</span><br><span class="line"><span class="javascript">      name: <span class="string">&#x27;&#x27;</span></span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>效果：</p>
<ul>
<li><p>没加trim：</p>
<p><img src="/2021/04/19/VUE/36.png" alt="image-20210321215801147"></p>
</li>
<li><p>加上trim</p>
<p><img src="/2021/04/19/VUE/35.png" alt="image-20210321215539094"></p>
</li>
</ul>
<h2 id="三、组件化开发"><a href="#三、组件化开发" class="headerlink" title="三、组件化开发"></a>三、组件化开发</h2><h3 id="1、什么是组件化"><a href="#1、什么是组件化" class="headerlink" title="1、什么是组件化"></a>1、什么是组件化</h3><p>如果我们将一个页面中所有的处理逻辑全部放在一起，处理起来就会变得非常复杂，而且不利于后续的管理以及扩展。但如果，我们讲一个页面拆分成一个个小的功能块，每个功能块完成属于自己这部分独立的功能，那么之后整个页面的管理和维护就变得非常容易了。</p>
<p>如图：</p>
<ul>
<li>我们将一个完整的页面分成很多个组件。</li>
<li>每个组件都用于实现页面的一个功能块。</li>
<li>而每一个组件又可以进行细分。</li>
</ul>
<p><img src="/2021/04/19/VUE/37.png" alt="image-20210321224044742"></p>
<h3 id="2、Vue组件化思想"><a href="#2、Vue组件化思想" class="headerlink" title="2、Vue组件化思想"></a>2、Vue组件化思想</h3><p>组件化是Vue.js中的重要思想。它提供了一种抽象，让我们可以开发出一个个独立可复用的小组件来构造我们的应用。任何的应用都会被抽象成一颗组件树。</p>
<p><img src="/2021/04/19/VUE/38.png" alt="image-20210321224237074"></p>
<p>组件化思想的应用：</p>
<ul>
<li>有了组件化的思想，我们在之后的开发中就要充分的利用它。</li>
<li>尽可能的将页面拆分成一个个小的、可复用的组件。</li>
<li>这样让我们的代码更加方便组织和管理，并且扩展性也更强。</li>
</ul>
<p>注意：每一个组件都有独属于自己的data、<code>methods</code>、<code>computed</code>、<code>components</code>、<code>template</code>等等。其中<code>app</code>可以看成所有组件的<strong>根组件（root）。</strong>但要注意，app也只能调用自己的<code>儿子</code>组件，不能去跨辈调用<code>孙子</code>组件。</p>
<h3 id="3、注册组件"><a href="#3、注册组件" class="headerlink" title="3、注册组件"></a>3、注册组件</h3><p>组件的使用分成三个步骤：</p>
<ol>
<li>创建组件构造器</li>
<li>注册组件</li>
<li>使用组件：组件只能在注册过的实例里使用，否则Vue因没有进行管理不会加载组件。</li>
</ol>
<p>注意：字符串的表达除了有<code>&#39;&#39;</code>（单引号）、<code>&quot;&quot;</code>（双引号）以外，还有<code>``</code>（尖引号）。尖引号可以实现字符串的跨行。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!--3.使用组件--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">my-cpn</span>&gt;</span><span class="tag">&lt;/<span class="name">my-cpn</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">my-cpn</span>&gt;</span><span class="tag">&lt;/<span class="name">my-cpn</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">my-cpn</span>&gt;</span><span class="tag">&lt;/<span class="name">my-cpn</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">my-cpn</span>&gt;</span><span class="tag">&lt;/<span class="name">my-cpn</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">my-cpn</span>&gt;</span><span class="tag">&lt;/<span class="name">my-cpn</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--以下没有在app实例里使用，Vue没有进行管理不会加载组件--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">my-cpn</span>&gt;</span><span class="tag">&lt;/<span class="name">my-cpn</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="comment">// 1.创建组件构造器对象</span></span></span><br><span class="line"><span class="javascript">  <span class="keyword">const</span> cpnC = Vue.extend(&#123;</span></span><br><span class="line">    template: `</span><br><span class="line"><span class="handlebars"><span class="xml">      <span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span></span><br><span class="line"><span class="handlebars"><span class="xml">        <span class="tag">&lt;<span class="name">h2</span>&gt;</span>组件标题<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span></span><br><span class="line"><span class="handlebars"><span class="xml">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>我是组件中的一个段落内容<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span></span><br><span class="line"><span class="handlebars"><span class="xml">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span>`</span></span></span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line"><span class="javascript">  <span class="comment">// 2.注册组件</span></span></span><br><span class="line"><span class="javascript">  <span class="comment">// 参数1：组件的名称，参数2：组件构造器对象的名称</span></span></span><br><span class="line"><span class="javascript">  Vue.component(<span class="string">&#x27;my-cpn&#x27;</span>, cpnC)</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">  <span class="keyword">const</span> app = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">    el: <span class="string">&#x27;#app&#x27;</span>,</span></span><br><span class="line">    data: &#123;</span><br><span class="line"><span class="javascript">      message: <span class="string">&#x27;你好啊&#x27;</span></span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="注册组件步骤解析"><a href="#注册组件步骤解析" class="headerlink" title="注册组件步骤解析"></a>注册组件步骤解析</h4><ol>
<li><p>Vue.extend()：</p>
<ol>
<li>调用Vue.extend()创建的是一个组件构造器；</li>
<li>通常在创建组件构造器时，传入template代表我们自定义组件的模板；</li>
<li>该模板就是在使用到组件的地方，要显示的HTML代码；</li>
<li>事实上，这种写法在Vue2.x的文档中几乎已经看不到了，它会直接使用下面我们会讲到的语法糖，但是在很多资料还是会提到这种方式，而且这种方式是学习后面方式的基础</li>
</ol>
</li>
<li><p>Vue.component()：</p>
<ol>
<li>调用Vue.component()是将刚才的组件构造器注册为一个组件，并且给它起一个组件的标签名称；</li>
<li>所以需要传递两个参数：<ol>
<li>注册组件的标签名</li>
<li>组件构造器</li>
</ol>
</li>
</ol>
</li>
<li><p>组件必须挂载在某个Vue实例下，否则它不会生效：</p>
<ol>
<li><p>我们来看下面我使用了三次<my-cpn></my-cpn></p>
</li>
<li><p>而第三次其实并没有生效：</p>
<p><img src="/2021/04/19/VUE/39.png" alt="image-20210322023308247"></p>
</li>
</ol>
</li>
</ol>
<h3 id="4、全局组件和局部组件"><a href="#4、全局组件和局部组件" class="headerlink" title="4、全局组件和局部组件"></a>4、全局组件和局部组件</h3><p>当我们通过<strong>调用Vue.component()注册组件</strong>时，组件的注册是<strong>全局的</strong>。</p>
<p><strong>这意味着该组件可以在任意Vue示例下使用。</strong></p>
<p><img src="/2021/04/19/VUE/40.png" alt="image-20210322023704676"></p>
<p>如果我们注册的组件是挂载在某个实例中, 那么就是一个局部组件</p>
<p><img src="/2021/04/19/VUE/41.png" alt="image-20210322023725407"></p>
<h3 id="5、父组件和子组件"><a href="#5、父组件和子组件" class="headerlink" title="5、父组件和子组件"></a>5、父组件和子组件</h3><p>在前面我们看到了组件树：组件和组件之间存在层级关系。而其中一种非常重要的关系就是父子组件的关系</p>
<p>我们来看通过代码如何组成的这种层级关系：</p>
<p><img src="/2021/04/19/VUE/42.png" alt="image-20210322024427807"></p>
<p>父子组件错误用法：以子标签的形式在Vue实例中使用</p>
<ul>
<li>因为当子组件注册到父组件的components时，Vue会编译好父组件的模块</li>
<li>该模板的内容已经决定了父组件将要渲染的HTML（相当于父组件中已经有了子组件中的内容了）</li>
<li><child-cpn></child-cpn>是只能在父组件中被识别的。</li>
<li>类似这种用法，<child-cpn></child-cpn>是会被浏览器忽略的。</li>
</ul>
<h3 id="6、注册组件语法糖"><a href="#6、注册组件语法糖" class="headerlink" title="6、注册组件语法糖"></a>6、注册组件语法糖</h3><p>在上面注册组件的方式，可能会有些繁琐。Vue为了简化这个过程，提供了注册的语法糖。</p>
<p>主要是省去了调用Vue.extend()的步骤，而是可以直接使用一个对象来代替。</p>
<p>语法糖注册全局组件和局部组件：</p>
<ul>
<li><p>全局组件的语法糖：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">cpn1</span>&gt;</span><span class="tag">&lt;/<span class="name">cpn1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">Vue.component(<span class="string">&#x27;cpn1&#x27;</span>, &#123;</span></span><br><span class="line">    template: `</span><br><span class="line"><span class="handlebars"><span class="xml">      <span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span></span><br><span class="line"><span class="handlebars"><span class="xml">        <span class="tag">&lt;<span class="name">h2</span>&gt;</span>我是标题1<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span></span><br><span class="line"><span class="handlebars"><span class="xml">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>我是内容, 哈哈哈哈<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span></span><br><span class="line"><span class="handlebars"><span class="xml">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span></span><br><span class="line">    `</span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line"><span class="javascript"><span class="keyword">const</span> app = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">    el: <span class="string">&#x27;#app&#x27;</span></span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>局部组件的语法糖：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">cpn2</span>&gt;</span><span class="tag">&lt;/<span class="name">cpn2</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="comment">// 注册局部组件的语法糖</span></span></span><br><span class="line"><span class="javascript">  <span class="keyword">const</span> app = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">    el: <span class="string">&#x27;#app&#x27;</span>,</span></span><br><span class="line">    components: &#123;</span><br><span class="line"><span class="javascript">      <span class="string">&#x27;cpn2&#x27;</span>: &#123;</span></span><br><span class="line">        template: `</span><br><span class="line"><span class="handlebars"><span class="xml">          <span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span></span><br><span class="line"><span class="handlebars"><span class="xml">            <span class="tag">&lt;<span class="name">h2</span>&gt;</span>我是标题2<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span></span><br><span class="line"><span class="handlebars"><span class="xml">            <span class="tag">&lt;<span class="name">p</span>&gt;</span>我是内容, 呵呵呵<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span></span><br><span class="line"><span class="handlebars"><span class="xml">          <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span></span><br><span class="line">   		 `</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

</li>
</ul>
<h3 id="7、模板的分离写法"><a href="#7、模板的分离写法" class="headerlink" title="7、模板的分离写法"></a>7、模板的分离写法</h3><p>以上代码虽然通过语法糖简化了Vue组件的注册过程，但还有一个地方的写法比较麻烦，就是template模块写法。如果我们能将其中的HTML分离出来写，然后挂载到对应的组件上，必然结构会变得非常清晰。</p>
<p>Vue提供了两种方案来定义HTML模块内容：</p>
<ul>
<li><p>使用<script>标签：添加类型：text/x-template；用id的值来建立组件与模板之间的关系</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--script标签, 注意:类型必须是text/x-template--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/x-template&quot;</span> <span class="attr">id</span>=<span class="string">&quot;cpn&quot;</span>&gt;</span>--&gt;</span><br><span class="line"><span class="handlebars"><span class="xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span></span><br><span class="line"><span class="handlebars"><span class="xml">	<span class="tag">&lt;<span class="name">h2</span>&gt;</span>我是标题<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span></span><br><span class="line"><span class="handlebars"><span class="xml">	<span class="tag">&lt;<span class="name">p</span>&gt;</span>我是内容,哈哈哈<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span></span><br><span class="line"><span class="handlebars"><span class="xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript"><span class="comment">// 注册一个全局组件</span></span></span><br><span class="line"><span class="javascript">Vue.component(<span class="string">&#x27;cpn&#x27;</span>, &#123;</span></span><br><span class="line"><span class="javascript">	template: <span class="string">&#x27;#cpn&#x27;</span></span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>使用<template>标签：用id的值来建立组件与模板之间的关系</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--template标签--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span> <span class="attr">id</span>=<span class="string">&quot;cpn&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>我是标题<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>我是内容,呵呵呵<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript"><span class="comment">// 注册一个全局组件</span></span></span><br><span class="line"><span class="javascript">Vue.component(<span class="string">&#x27;cpn&#x27;</span>, &#123;</span></span><br><span class="line"><span class="javascript">	template: <span class="string">&#x27;#cpn&#x27;</span></span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>注意：组件模板必须要有一个根。</strong>可以是<div></div></p>
</li>
</ul>
<h3 id="8、组件的数据存放"><a href="#8、组件的数据存放" class="headerlink" title="8、组件的数据存放"></a>8、组件的数据存放</h3><h4 id="1、组件可以访问Vue实例数据吗？"><a href="#1、组件可以访问Vue实例数据吗？" class="headerlink" title="1、组件可以访问Vue实例数据吗？"></a>1、组件可以访问Vue实例数据吗？</h4><p>组件是一个单独功能模块的封装：这个模块有属于自己的HTML模板，也应该有属性自己的数据data。</p>
<p>组件中的数据是保存在哪里呢？顶层的Vue实例中吗？我们先来测试一下，组件中能不能直接访问Vue实例中的data。</p>
<p><img src="VUE/43.png" alt="image-20210322131356074"></p>
<p>我们发现不能访问，而且即使可以访问，<strong>如果将所有的数据都放在Vue实例中，Vue实例就会变的非常臃肿</strong>。</p>
<p><strong>结论：Vue组件应该有自己保存数据的地方。</strong></p>
<h4 id="2、组件自己的数据存放"><a href="#2、组件自己的数据存放" class="headerlink" title="2、组件自己的数据存放"></a>2、组件自己的数据存放</h4><p>组件对象也有一个data属性(也可以有methods等属性)</p>
<ul>
<li><p>只是这个data属性<strong>必须是一个函数</strong></p>
</li>
<li><p>而且这个函数<strong>返回一个对象，对象内部保存着数据</strong></p>
<p><img src="VUE/45.png" alt="image-20210322132158055"></p>
</li>
</ul>
<p>为什么data属性在组件中一定要是一个函数？</p>
<ul>
<li><p>首先，如果不是一个函数，Vue直接就会报错（直接原因Vue不允许）</p>
</li>
<li><p>其次，原因是在于Vue让每个组件对象<strong>都返回一个新的实例</strong>（存储地址不同），因为如果是同一个对象的，组件在多次使用后会相互影响。</p>
</li>
<li><p>组件是可复用的vue实例，一个组件被创建好之后，就可能被用在各个地方，而组件不管被复用了多少次，组件中的data数据都应该是相互隔离，互不影响的</p>
</li>
<li><p>data返回一个实例所以每个counter都存在自己的实例的堆里面，如果直接返回一个data对象那么3个都共用一个堆会一起改变。</p>
<p><img src="VUE/46.png" alt="image-20210322132442881"></p>
</li>
</ul>
<h3 id="9、父子组件的通信"><a href="#9、父子组件的通信" class="headerlink" title="9、父子组件的通信"></a>9、父子组件的通信</h3><p>因为子组件是不能引用父组件或者Vue实例的数据的。但是，在开发中，往往一些数据确实需要从上层传递到下层：</p>
<ul>
<li>比如在一个页面中，我们从服务器请求到了很多的数据。</li>
<li>其中一部分数据，并非是我们整个页面的大组件来展示的，而是需要下面的子组件进行展示。</li>
<li>这个时候，并不会让子组件再次发送一个网络请求，而是直接让**大组件(父组件)将数据传递给小组件(子组件)**。</li>
</ul>
<p>那么父子组件间如何通信呢？Vue官方提到</p>
<ul>
<li>通过props向子组件传递数据</li>
<li>通过事件向父组件发送消息</li>
</ul>
<p><img src="VUE/47.png" alt="image-20210322183204442"></p>
<h4 id="1、父级向子级传递数据"><a href="#1、父级向子级传递数据" class="headerlink" title="1、父级向子级传递数据"></a>1、父级向子级传递数据</h4><p>在组件中，使用选项props来声明需要从父级接收到的数据。</p>
<p>props写在子组件中，使用子组件时使用props的属性，对应属性的值填父组件的变量，即可通过props中的属性获取父组件的变量值。</p>
<p>父组件模板通过<code>:</code>也就是<code>v-on:</code>来绑定父组件向子组件传递的数据的名称。</p>
<p>props的值有两种方式：</p>
<ul>
<li><p>方式一：字符串数组，数组中的字符串就是传递时的名称。</p>
</li>
<li><p>方式二：对象，对象可以设置：</p>
<ul>
<li><p>传递时的类型：type，type既可以是基本数据类型，也可以是数组，或者自定义的一些对象。若props有可能的好几种，也可以写成数组的形式。[String,Arrary]</p>
</li>
<li><p>默认值：default，给props提供一些默认值。</p>
<p>注意：但props的类型为数组或对象时，不能直接设置默认值，而是必须从一个工厂函数中获取。</p>
</li>
<li><p>必传值：required，required是一个Boolean值。表示传过来的是否一定需要传入props</p>
</li>
<li><p>验证：validator，为一个函数，其参数为一个值，传入值必须与设置字符串其中之一匹配。返回值是一个Boolean值：true则匹配成功，false则匹配失败。</p>
</li>
</ul>
</li>
<li><p>其中当需要对<strong>props进行类型等验证时</strong>，就需要对象写法了。验证支持的数据类型（其中<code>null</code>可以匹配所有类型）：</p>
<ul>
<li><p>String</p>
</li>
<li><p>Number</p>
</li>
<li><p>Boolean</p>
</li>
<li><p>Array</p>
</li>
<li><p>Object</p>
</li>
<li><p>Date</p>
</li>
<li><p>Function</p>
</li>
<li><p>Symbol</p>
</li>
<li><p>当我们有自定义构造函数时，验证也支持自定义的类型</p>
<p><img src="VUE/48.png" alt="image-20210322192825268"></p>
</li>
</ul>
</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--父组件模板--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">cpn</span> <span class="attr">:cmessage</span>=<span class="string">&quot;message&quot;</span> <span class="attr">:cmovies</span>=<span class="string">&quot;movies&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">cpn</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--子组件模板--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span> <span class="attr">id</span>=<span class="string">&quot;cpn&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;item in cmovies&quot;</span>&gt;</span>&#123;&#123;item&#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123;cmessage&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="comment">// 父传子: props</span></span></span><br><span class="line"><span class="javascript">  <span class="comment">// 子组件</span></span></span><br><span class="line"><span class="javascript">  <span class="keyword">const</span> cpn = &#123;</span></span><br><span class="line"><span class="javascript">    template: <span class="string">&#x27;#cpn&#x27;</span>,</span></span><br><span class="line"><span class="javascript">    <span class="comment">// 方式一：字符串数组，数组中的字符串就是传递时的名称</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">// props: [&#x27;cmovies&#x27;, &#x27;cmessage&#x27;],</span></span></span><br><span class="line">      </span><br><span class="line"><span class="javascript">    <span class="comment">// 方式二：对象，对象可以设置传递时的类型，也可以设置默认值等。</span></span></span><br><span class="line">    props: &#123;</span><br><span class="line"><span class="javascript">      <span class="comment">// 1.类型限制</span></span></span><br><span class="line"><span class="javascript">      <span class="comment">// cmovies: Array,</span></span></span><br><span class="line"><span class="javascript">      <span class="comment">// cmessage: String,</span></span></span><br><span class="line"></span><br><span class="line"><span class="javascript">      <span class="comment">// 2.提供一些默认值, 以及必传值</span></span></span><br><span class="line">      cmessage: &#123;</span><br><span class="line"><span class="javascript">        type: <span class="built_in">String</span>,</span></span><br><span class="line"><span class="javascript">        <span class="keyword">default</span>: <span class="string">&#x27;aaaaaaaa&#x27;</span>,</span></span><br><span class="line"><span class="javascript">        required: <span class="literal">true</span></span></span><br><span class="line">      &#125;,</span><br><span class="line"><span class="javascript">      <span class="comment">// 类型是对象或者数组时, 默认值必须是一个函数</span></span></span><br><span class="line">      cmovies: &#123;</span><br><span class="line"><span class="javascript">        type: <span class="built_in">Array</span>,</span></span><br><span class="line"><span class="javascript">        <span class="function"><span class="title">default</span>(<span class="params"></span>)</span> &#123;</span></span><br><span class="line"><span class="javascript">          <span class="keyword">return</span> []</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line"><span class="javascript">    <span class="function"><span class="title">data</span>(<span class="params"></span>)</span> &#123;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">return</span> &#123;&#125;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"><span class="javascript">  <span class="comment">// 2.父组件</span></span></span><br><span class="line"><span class="javascript">  <span class="keyword">const</span> app = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">    el: <span class="string">&#x27;#app&#x27;</span>,</span></span><br><span class="line">    data: &#123;</span><br><span class="line"><span class="javascript">      message: <span class="string">&#x27;你好啊&#x27;</span>,</span></span><br><span class="line"><span class="javascript">      movies: [<span class="string">&#x27;海王&#x27;</span>, <span class="string">&#x27;海贼王&#x27;</span>, <span class="string">&#x27;海尔兄弟&#x27;</span>]</span></span><br><span class="line">    &#125;,</span><br><span class="line">    components: &#123;</span><br><span class="line">      cpn</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="2、子级向父级传递数据"><a href="#2、子级向父级传递数据" class="headerlink" title="2、子级向父级传递数据"></a>2、子级向父级传递数据</h4><p>我们需要使用<strong>自定义事件</strong>来完成子级向父级的数据传递。<code>@</code>(v-on)不仅仅可以用于监听DOM事件，也可以用于监听组件间的自定义事件。所有可以用<code>@</code> + <code>$emit()</code>自定义事件来完成子级向父级的数据传递。</p>
<p>自定义事件的流程：</p>
<ul>
<li>在子组件中，通过$emit()来触发事件。<ul>
<li>参数一：自定义事件的标签（注意不要用驼峰）</li>
<li>参数二：事件的对象</li>
</ul>
</li>
<li>在父组件中，通过v-on来监听子组件事件。</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--父组件模板--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">cpn</span> @<span class="attr">item-click</span>=<span class="string">&quot;cpnClick&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">cpn</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--子组件模板--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span> <span class="attr">id</span>=<span class="string">&quot;cpn&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">v-for</span>=<span class="string">&quot;item in categories&quot;</span></span></span><br><span class="line"><span class="tag">            @<span class="attr">click</span>=<span class="string">&quot;btnClick(item)&quot;</span>&gt;</span></span><br><span class="line">      &#123;&#123;item.name&#125;&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">  <span class="comment">// 1.子组件</span></span></span><br><span class="line"><span class="javascript">  <span class="keyword">const</span> cpn = &#123;</span></span><br><span class="line"><span class="javascript">    template: <span class="string">&#x27;#cpn&#x27;</span>,</span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="title">data</span>(<span class="params"></span>)</span> &#123;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">return</span> &#123;</span></span><br><span class="line">        categories: [</span><br><span class="line"><span class="javascript">          &#123;<span class="attr">id</span>: <span class="string">&#x27;aaa&#x27;</span>, <span class="attr">name</span>: <span class="string">&#x27;热门推荐&#x27;</span>&#125;,</span></span><br><span class="line"><span class="javascript">          &#123;<span class="attr">id</span>: <span class="string">&#x27;bbb&#x27;</span>, <span class="attr">name</span>: <span class="string">&#x27;手机数码&#x27;</span>&#125;,</span></span><br><span class="line"><span class="javascript">          &#123;<span class="attr">id</span>: <span class="string">&#x27;ccc&#x27;</span>, <span class="attr">name</span>: <span class="string">&#x27;家用家电&#x27;</span>&#125;,</span></span><br><span class="line"><span class="javascript">          &#123;<span class="attr">id</span>: <span class="string">&#x27;ddd&#x27;</span>, <span class="attr">name</span>: <span class="string">&#x27;电脑办公&#x27;</span>&#125;,</span></span><br><span class="line">        ]</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line"><span class="javascript">      <span class="function"><span class="title">btnClick</span>(<span class="params">item</span>)</span> &#123;</span></span><br><span class="line"><span class="javascript">        <span class="comment">// $emit发射事件: 自定义事件</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// 参数一：自定义事件的标签（注意不要用驼峰）</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// 参数二：事件的对象</span></span></span><br><span class="line"><span class="javascript">        <span class="built_in">this</span>.$emit(<span class="string">&#x27;item-click&#x27;</span>, item)</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="javascript">  <span class="comment">// 2.父组件</span></span></span><br><span class="line"><span class="javascript">  <span class="keyword">const</span> app = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">    el: <span class="string">&#x27;#app&#x27;</span>,</span></span><br><span class="line">    data: &#123;</span><br><span class="line"><span class="javascript">      message: <span class="string">&#x27;你好啊&#x27;</span></span></span><br><span class="line">    &#125;,</span><br><span class="line">    components: &#123;</span><br><span class="line">      cpn</span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line"><span class="javascript">      <span class="function"><span class="title">cpnClick</span>(<span class="params">item</span>)</span> &#123;</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(<span class="string">&#x27;cpnClick&#x27;</span>, item);</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="3、标签驼峰问题"><a href="#3、标签驼峰问题" class="headerlink" title="3、标签驼峰问题"></a>3、标签驼峰问题</h4><p>在html的自定义标签的时候，最好不要用驼峰的写法，其实不是Vue不支持驼峰。而是在HTML属性不支持大写，即浏览器会将cInfo会自动解析成cinfo。由于浏览器解析后的标签名与代码的标签名对不上，会导致渲染失败。若需要分隔单词的时候，不要写成驼峰，而是推荐写成 “<strong><code>小写单词</code> + <code>-</code> + <code>小写单词</code></strong>“ 的方式。如：childMyMessage -&gt; child-my-message</p>
<h4 id="4、案例（父传子、子传父、在之间实现功能、数据流）"><a href="#4、案例（父传子、子传父、在之间实现功能、数据流）" class="headerlink" title="4、案例（父传子、子传父、在之间实现功能、数据流）"></a>4、案例（父传子、子传父、在之间实现功能、数据流）</h4><p>需求以及注意的点：</p>
<ol>
<li><p>父为app，子为cpn。</p>
</li>
<li><p>父组件里面有两个值1/0，父组件通过props向子组件传递这两个值</p>
</li>
<li><p>在子组件的两个值对应添加相应的输入框input，并将各自input与值用<code>v-mode</code>进行双向绑定。希望在改变输入框的值的时候，双向绑定到子组件的值，去修改子组件的值。</p>
<p>存在的问题：由于子组件的值是由父组件的值传递过来的，但你去修改子组件的值时会同时影响改变父组件的值。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">cpn</span> <span class="attr">:number1</span> = <span class="string">&quot;num1&quot;</span> <span class="attr">:number2</span> = <span class="string">&quot;num2&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">cpn</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span> <span class="attr">id</span>=<span class="string">&quot;cpn&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123;number1&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;number1&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">id</span>=<span class="string">&quot;number1&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;number1&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123;number2&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;number2&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">id</span>=<span class="string">&quot;number2&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;number2&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">const</span> app = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">    el: <span class="string">&#x27;#app&#x27;</span>,</span></span><br><span class="line">    data: &#123;</span><br><span class="line">      num1: 1,</span><br><span class="line">      num2: 0</span><br><span class="line">    &#125;,</span><br><span class="line">    components: &#123;</span><br><span class="line">      cpn: &#123;</span><br><span class="line"><span class="javascript">        template: <span class="string">&#x27;#cpn&#x27;</span>,</span></span><br><span class="line">        props: &#123;</span><br><span class="line"><span class="javascript">          number1: <span class="built_in">Number</span>,</span></span><br><span class="line"><span class="javascript">          number2: <span class="built_in">Number</span></span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><img src="VUE/49.png" alt="image-20210322222858177"></p>
<p>注意：虽然以上代码实现了功能（改变子组件的值，但同时改变了父组件的值），但是浏览器却报错：避免直接改变属性，因为每当父组件重新渲染时，该值将被覆盖。所以应当让父组件来将其进行重写。</p>
<p>相反，它让我们使用基于属性值的data或computed去改变绑定的值。</p>
<p>其实：Vue建议我们最好不要通过修改子组件的值，从而去修改父组件的值。这样会引起很多问题。</p>
<ul>
<li>可以这样理解：父亲传过来的参数，我既使不满意但我也不能改变，于是自己搞个数据默认值为父亲传过来的参数，这样既可以改变数值，又没有改变父亲的参数。</li>
<li>从父组件传过来的值放在props绑定的组件变量里，而组件变量的值deepcopy了一份到data里，v-model绑定的是data数据，不影响props。</li>
</ul>
<p>修改的代码：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">id</span>=<span class="string">&quot;number1&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;dnumber1&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">id</span>=<span class="string">&quot;number2&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;dnumber2&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">        dnumber1: this.number1,</span><br><span class="line">        dnumber2: this.number2</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>效果：</p>
<p><img src="VUE/50.png" alt="image-20210322235953981"></p>
</li>
<li><p>将子组件改变的值重新传回父组件。（也就是调试改变props里的值）。</p>
<ol>
<li><p>将v-mode转换为用v-on与v-bind来表示。v-bind绑定value,v-on监听输入事件，并将其抽离成一个方法。</p>
</li>
<li><p>并在那方法里实现$emit()方法来与父组件传递数据。</p>
</li>
<li><p>$emit()方法传入自定义事件num1change()和子组件data里的值</p>
</li>
<li><p>在父组件的methods里实现自定义事件num1change()，用来修改父组件data里的值，因为父组件的data里的值被修改，父组件向子组件传递的props里的值也被改变。</p>
</li>
<li><p>向浏览器进行渲染</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">cpn</span> <span class="attr">:number1</span> = <span class="string">&quot;num1&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">:number2</span> = <span class="string">&quot;num2&quot;</span></span></span><br><span class="line"><span class="tag">       @<span class="attr">num1change</span> = <span class="string">&quot;num1change&quot;</span></span></span><br><span class="line"><span class="tag">       @<span class="attr">num2change</span> = <span class="string">&quot;num2change&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">cpn</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span> <span class="attr">id</span>=<span class="string">&quot;cpn&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>props: &#123;&#123;number1&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>data: &#123;&#123;dnumber1&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;number1&quot;</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--      &lt;input type=&quot;text&quot; id=&quot;number1&quot; v-model=&quot;dnumber1&quot;&gt;--&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">id</span>=<span class="string">&quot;number1&quot;</span> <span class="attr">:value</span>=<span class="string">&quot;dnumber1&quot;</span> @<span class="attr">input</span>=<span class="string">&quot;num1Input&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>props: &#123;&#123;number2&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>data: &#123;&#123;dnumber2&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;number2&quot;</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--      &lt;input type=&quot;text&quot; id=&quot;number2&quot; v-model=&quot;dnumber2&quot;&gt;--&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">id</span>=<span class="string">&quot;number2&quot;</span> <span class="attr">:value</span>=<span class="string">&quot;dnumber2&quot;</span> @<span class="attr">input</span>=<span class="string">&quot;num2Input&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">const</span> app = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">    el: <span class="string">&#x27;#app&#x27;</span>,</span></span><br><span class="line">    data: &#123;</span><br><span class="line">      num1: 1,</span><br><span class="line">      num2: 0</span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line"><span class="javascript">      <span class="function"><span class="title">num1change</span>(<span class="params">value</span>)</span> &#123;</span></span><br><span class="line"><span class="javascript">        <span class="built_in">this</span>.num1 = value</span></span><br><span class="line">      &#125;,</span><br><span class="line"><span class="javascript">      <span class="function"><span class="title">num2change</span>(<span class="params">value</span>)</span> &#123;</span></span><br><span class="line"><span class="javascript">        <span class="built_in">this</span>.num2 = value</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    components: &#123;</span><br><span class="line">      cpn: &#123;</span><br><span class="line"><span class="javascript">        template: <span class="string">&#x27;#cpn&#x27;</span>,</span></span><br><span class="line">        props: &#123;</span><br><span class="line"><span class="javascript">          number1: <span class="built_in">Number</span>,</span></span><br><span class="line"><span class="javascript">          number2: <span class="built_in">Number</span></span></span><br><span class="line">        &#125;,</span><br><span class="line"><span class="javascript">        <span class="function"><span class="title">data</span>(<span class="params"></span>)</span> &#123;</span></span><br><span class="line"><span class="javascript">          <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="javascript">            dnumber1: <span class="built_in">this</span>.number1,</span></span><br><span class="line"><span class="javascript">            dnumber2: <span class="built_in">this</span>.number2</span></span><br><span class="line">          &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        methods: &#123;</span><br><span class="line"><span class="javascript">          <span class="function"><span class="title">num1Input</span>(<span class="params">event</span>)</span> &#123;</span></span><br><span class="line"><span class="javascript">            <span class="comment">// 1.将input中的value赋值到dnumber中</span></span></span><br><span class="line"><span class="javascript">            <span class="built_in">this</span>.dnumber1 = event.target.value;</span></span><br><span class="line"><span class="javascript">            <span class="comment">// 2.为了让父组件可以修改值, 发出一个事件</span></span></span><br><span class="line"><span class="javascript">            <span class="built_in">this</span>.$emit(<span class="string">&quot;num1change&quot;</span>,<span class="built_in">this</span>.dnumber1)</span></span><br><span class="line"></span><br><span class="line">          &#125;,</span><br><span class="line"><span class="javascript">          <span class="function"><span class="title">num2Input</span>(<span class="params">event</span>)</span> &#123;</span></span><br><span class="line"><span class="javascript">            <span class="built_in">this</span>.dnumber2 = event.target.value;</span></span><br><span class="line"><span class="javascript">            <span class="built_in">this</span>.$emit(<span class="string">&quot;num2change&quot;</span>,<span class="built_in">this</span>.dnumber2)</span></span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><img src="VUE/51.png" alt="image-20210323011007374"></p>
</li>
<li><p>注意：以上报错是因为传入的数据默认为字符串（String）类型，二代码里的值的类型是Number类型。两者类型不同而报错。可以将浏览器传来的value进行类型转换就行。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">methods: &#123;</span><br><span class="line">      num1change(value) &#123;</span><br><span class="line">        this.num1 = parseFloat(value)</span><br><span class="line">      &#125;,</span><br><span class="line">      num2change(value) &#123;</span><br><span class="line">        this.num2 = parseFloat(value)</span><br><span class="line">      &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="VUE/52.png" alt="image-20210323012409525"></p>
</li>
</ol>
</li>
<li><p>在下面的值为上面的值的100倍，在上面的值为下面的值的1/100倍.</p>
<p>实现：在numxInput函数里添加业务需求就行</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">methods: &#123;</span><br><span class="line">          num1Input(event) &#123;</span><br><span class="line">            // 1.将input中的value赋值到dnumber中</span><br><span class="line">            this.dnumber1 = event.target.value;</span><br><span class="line">            // 2.为了让父组件可以修改值, 发出一个事件</span><br><span class="line">            this.$emit(&quot;num1change&quot;,this.dnumber1);</span><br><span class="line">            // 3.同时修饰dnumber2的值</span><br><span class="line">            this.dnumber2 = this.dnumber1 * 100</span><br><span class="line"></span><br><span class="line">          &#125;,</span><br><span class="line">          num2Input(event) &#123;</span><br><span class="line">            this.dnumber2 = event.target.value;</span><br><span class="line">            this.$emit(&quot;num2change&quot;,this.dnumber2)</span><br><span class="line">            this.dnumber1 = this.dnumber2 / 100</span><br><span class="line">          &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="VUE/53.png" alt="image-20210323013317559"></p>
<p>出现问题：</p>
<p>当上面值修改时，下面只有data里的值变成了上面值的100倍，而props里的值并没有改变。</p>
<p>解决方法：</p>
<p>在实现业务修改data的值后，再把data里的值通过自定义事件的方式（$erim）传递给父组件，父组件改变后在去改变子组件props里的值。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">methods: &#123;</span><br><span class="line">          num1Input(event) &#123;</span><br><span class="line">            // 1.将input中的value赋值到dnumber中</span><br><span class="line">            this.dnumber1 = event.target.value;</span><br><span class="line">            // 2.为了让父组件可以修改值, 发出一个事件</span><br><span class="line">            this.$emit(&quot;num1change&quot;,this.dnumber1);</span><br><span class="line">            // 3.同时修饰dnumber2的值</span><br><span class="line">            this.dnumber2 = this.dnumber1 * 100;</span><br><span class="line">            this.$emit(&quot;num2change&quot;,this.dnumber2)</span><br><span class="line">          &#125;,</span><br><span class="line">          num2Input(event) &#123;</span><br><span class="line">            this.dnumber2 = event.target.value;</span><br><span class="line">            this.$emit(&quot;num2change&quot;,this.dnumber2)</span><br><span class="line">            this.dnumber1 = this.dnumber2 / 100;</span><br><span class="line">            this.$emit(&quot;num1change&quot;,this.dnumber1)</span><br><span class="line">          &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="VUE/54.png" alt="image-20210323014120094"></p>
</li>
</ol>
<p>以上程序完整代码：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">cpn</span> <span class="attr">:number1</span> = <span class="string">&quot;num1&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">:number2</span> = <span class="string">&quot;num2&quot;</span></span></span><br><span class="line"><span class="tag">       @<span class="attr">num1change</span> = <span class="string">&quot;num1change&quot;</span></span></span><br><span class="line"><span class="tag">       @<span class="attr">num2change</span> = <span class="string">&quot;num2change&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">cpn</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span> <span class="attr">id</span>=<span class="string">&quot;cpn&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>props: &#123;&#123;number1&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>data: &#123;&#123;dnumber1&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;number1&quot;</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--      &lt;input type=&quot;text&quot; id=&quot;number1&quot; v-model=&quot;dnumber1&quot;&gt;--&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">id</span>=<span class="string">&quot;number1&quot;</span> <span class="attr">:value</span>=<span class="string">&quot;dnumber1&quot;</span> @<span class="attr">input</span>=<span class="string">&quot;num1Input&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>props: &#123;&#123;number2&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>data: &#123;&#123;dnumber2&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;number2&quot;</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--      &lt;input type=&quot;text&quot; id=&quot;number2&quot; v-model=&quot;dnumber2&quot;&gt;--&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">id</span>=<span class="string">&quot;number2&quot;</span> <span class="attr">:value</span>=<span class="string">&quot;dnumber2&quot;</span> @<span class="attr">input</span>=<span class="string">&quot;num2Input&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">const</span> app = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">    el: <span class="string">&#x27;#app&#x27;</span>,</span></span><br><span class="line">    data: &#123;</span><br><span class="line">      num1: 1,</span><br><span class="line">      num2: 0</span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line"><span class="javascript">      <span class="function"><span class="title">num1change</span>(<span class="params">value</span>)</span> &#123;</span></span><br><span class="line"><span class="javascript">        <span class="built_in">this</span>.num1 = <span class="built_in">parseFloat</span>(value)</span></span><br><span class="line">      &#125;,</span><br><span class="line"><span class="javascript">      <span class="function"><span class="title">num2change</span>(<span class="params">value</span>)</span> &#123;</span></span><br><span class="line"><span class="javascript">        <span class="built_in">this</span>.num2 = <span class="built_in">parseFloat</span>(value)</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    components: &#123;</span><br><span class="line">      cpn: &#123;</span><br><span class="line"><span class="javascript">        template: <span class="string">&#x27;#cpn&#x27;</span>,</span></span><br><span class="line">        props: &#123;</span><br><span class="line"><span class="javascript">          number1: <span class="built_in">Number</span>,</span></span><br><span class="line"><span class="javascript">          number2: <span class="built_in">Number</span></span></span><br><span class="line">        &#125;,</span><br><span class="line"><span class="javascript">        <span class="function"><span class="title">data</span>(<span class="params"></span>)</span> &#123;</span></span><br><span class="line"><span class="javascript">          <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="javascript">            dnumber1: <span class="built_in">this</span>.number1,</span></span><br><span class="line"><span class="javascript">            dnumber2: <span class="built_in">this</span>.number2</span></span><br><span class="line">          &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        methods: &#123;</span><br><span class="line"><span class="javascript">          <span class="function"><span class="title">num1Input</span>(<span class="params">event</span>)</span> &#123;</span></span><br><span class="line"><span class="javascript">            <span class="comment">// 1.将input中的value赋值到dnumber中</span></span></span><br><span class="line"><span class="javascript">            <span class="built_in">this</span>.dnumber1 = event.target.value;</span></span><br><span class="line"><span class="javascript">            <span class="comment">// 2.为了让父组件可以修改值, 发出一个事件</span></span></span><br><span class="line"><span class="javascript">            <span class="built_in">this</span>.$emit(<span class="string">&quot;num1change&quot;</span>,<span class="built_in">this</span>.dnumber1);</span></span><br><span class="line"><span class="javascript">            <span class="comment">// 3.同时修饰dnumber2的值</span></span></span><br><span class="line"><span class="javascript">            <span class="built_in">this</span>.dnumber2 = <span class="built_in">this</span>.dnumber1 * <span class="number">100</span>;</span></span><br><span class="line"><span class="javascript">            <span class="built_in">this</span>.$emit(<span class="string">&quot;num2change&quot;</span>,<span class="built_in">this</span>.dnumber2)</span></span><br><span class="line">          &#125;,</span><br><span class="line"><span class="javascript">          <span class="function"><span class="title">num2Input</span>(<span class="params">event</span>)</span> &#123;</span></span><br><span class="line"><span class="javascript">            <span class="built_in">this</span>.dnumber2 = event.target.value;</span></span><br><span class="line"><span class="javascript">            <span class="built_in">this</span>.$emit(<span class="string">&quot;num2change&quot;</span>,<span class="built_in">this</span>.dnumber2)</span></span><br><span class="line"><span class="javascript">            <span class="built_in">this</span>.dnumber1 = <span class="built_in">this</span>.dnumber2 / <span class="number">100</span>;</span></span><br><span class="line"><span class="javascript">            <span class="built_in">this</span>.$emit(<span class="string">&quot;num1change&quot;</span>,<span class="built_in">this</span>.dnumber1)</span></span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>将以上代码执行流程总结成一张图如下：</p>
<p><img src="VUE/58.png"></p>
<p>我们也可以用watch属性 + v-mode来实现以上需求：</p>
<p>watch属性：里面可以写一些函数用来监听组件内某一属性的改变。</p>
<p>里面函数的参数：</p>
<ul>
<li>newValue（常用）：变化的新值</li>
<li>oldValue（不常用）：变化前的值</li>
</ul>
<p>代码：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">cpn</span> <span class="attr">:number1</span>=<span class="string">&quot;num1&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">:number2</span>=<span class="string">&quot;num2&quot;</span></span></span><br><span class="line"><span class="tag">       @<span class="attr">num1change</span>=<span class="string">&quot;num1change&quot;</span></span></span><br><span class="line"><span class="tag">       @<span class="attr">num2change</span>=<span class="string">&quot;num2change&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span> <span class="attr">id</span>=<span class="string">&quot;cpn&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>props:&#123;&#123;number1&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>data:&#123;&#123;dnumber1&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;dnumber1&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>props:&#123;&#123;number2&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>data:&#123;&#123;dnumber2&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;dnumber2&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">const</span> app = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">    el: <span class="string">&#x27;#app&#x27;</span>,</span></span><br><span class="line">    data: &#123;</span><br><span class="line">      num1: 1,</span><br><span class="line">      num2: 0</span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line"><span class="javascript">      <span class="function"><span class="title">num1change</span>(<span class="params">value</span>)</span> &#123;</span></span><br><span class="line"><span class="javascript">        <span class="built_in">this</span>.num1 = <span class="built_in">parseFloat</span>(value)</span></span><br><span class="line">      &#125;,</span><br><span class="line"><span class="javascript">      <span class="function"><span class="title">num2change</span>(<span class="params">value</span>)</span> &#123;</span></span><br><span class="line"><span class="javascript">        <span class="built_in">this</span>.num2 = <span class="built_in">parseFloat</span>(value)</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    components: &#123;</span><br><span class="line">      cpn: &#123;</span><br><span class="line"><span class="javascript">        template: <span class="string">&#x27;#cpn&#x27;</span>,</span></span><br><span class="line">        props: &#123;</span><br><span class="line"><span class="javascript">          number1: <span class="built_in">Number</span>,</span></span><br><span class="line"><span class="javascript">          number2: <span class="built_in">Number</span>,</span></span><br><span class="line"><span class="javascript">          name: <span class="string">&#x27;&#x27;</span></span></span><br><span class="line">        &#125;,</span><br><span class="line"><span class="javascript">        <span class="function"><span class="title">data</span>(<span class="params"></span>)</span> &#123;</span></span><br><span class="line"><span class="javascript">          <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="javascript">            dnumber1: <span class="built_in">this</span>.number1,</span></span><br><span class="line"><span class="javascript">            dnumber2: <span class="built_in">this</span>.number2</span></span><br><span class="line">          &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        watch: &#123;</span><br><span class="line"><span class="javascript">          <span class="function"><span class="title">dnumber1</span>(<span class="params">newValue</span>)</span> &#123;</span></span><br><span class="line"><span class="javascript">            <span class="built_in">this</span>.dnumber2 = newValue * <span class="number">100</span>;</span></span><br><span class="line"><span class="javascript">            <span class="built_in">this</span>.$emit(<span class="string">&#x27;num1change&#x27;</span>, newValue);</span></span><br><span class="line">          &#125;,</span><br><span class="line"><span class="javascript">          <span class="function"><span class="title">dnumber2</span>(<span class="params">newValue</span>)</span> &#123;</span></span><br><span class="line"><span class="javascript">            <span class="built_in">this</span>.number1 = newValue / <span class="number">100</span>;</span></span><br><span class="line"><span class="javascript">            <span class="built_in">this</span>.$emit(<span class="string">&#x27;num2change&#x27;</span>, newValue);</span></span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="10、父子组件的访问"><a href="#10、父子组件的访问" class="headerlink" title="10、父子组件的访问"></a>10、父子组件的访问</h3><p>有时候我们需要父组件直接访问子组件，子组件直接访问父组件，或者是子组件访问跟组件。</p>
<ul>
<li>父组件访问子组件：使用<code>$children</code>或<code>$refs</code></li>
<li>子组件访问父组件：使用<code>$parent</code>或<code>$root</code></li>
</ul>
<h4 id="1、父组件直接访问子组件"><a href="#1、父组件直接访问子组件" class="headerlink" title="1、父组件直接访问子组件"></a>1、父组件直接访问子组件</h4><h5 id="1、-children（不常用）"><a href="#1、-children（不常用）" class="headerlink" title="1、$children（不常用）"></a>1、$children（不常用）</h5><p>this.$children是一个数组类型，它包含所有子组件对象。我们可以通过一个遍历，取出所有子组件的数值data、方法methods、计算属性computed等等。<img src="VUE/55.png" alt="image-20210323014719042"></p>
<p>$children的缺陷：</p>
<ul>
<li>通过$children访问子组件时，是一个数组类型，访问其中的子组件必须通过索引值。</li>
<li>但是当子组件过多，我们需要拿到其中一个时，往往不能确定它的索引值，甚至还可能会发生变化（其他组件的插入删除等等）。</li>
<li>有时候，我们想明确获取其中一个特定的组件，这个时候就可以使用$refs</li>
</ul>
<h5 id="2、-refs（常用）"><a href="#2、-refs（常用）" class="headerlink" title="2、$refs（常用）"></a>2、$refs（常用）</h5><p>$refs的使用：</p>
<ul>
<li><code>$refs</code>和<code>ref</code>指令通常是一起使用的。</li>
<li>首先，我们<strong>通过ref给某一个子组件绑定一个特定的ID</strong>。</li>
<li>其次，通过<code>this.$refs.ID</code>就可以访问到该组件了。</li>
</ul>
<p><img src="VUE/56.png" alt="image-20210323015200643"></p>
<h4 id="2、子组件访问父组件"><a href="#2、子组件访问父组件" class="headerlink" title="2、子组件访问父组件"></a>2、子组件访问父组件</h4><h5 id="1、-parent（不常用）"><a href="#1、-parent（不常用）" class="headerlink" title="1、$parent（不常用）"></a>1、$parent（不常用）</h5><p>注意事项：</p>
<ul>
<li>尽管在Vue开发中，我们允许通过$parent来访问父组件，但是在真实开发中尽量不要这样做。</li>
<li>子组件应该尽量避免直接访问父组件的数据，因为这样<strong>耦合度太高</strong>了。</li>
<li><strong>如果我们将子组件放在另外一个组件之内，很可能该父组件没有对应的属性，往往会引起问题</strong>。</li>
<li>另外，更不好做的是通过$parent直接修改父组件的状态，那么父组件中的状态将变得飘忽不定，很不利于我的调试和维护。</li>
</ul>
<p><img src="VUE/57.png" alt="image-20210323015429354"></p>
<h5 id="2、-root（不常用）"><a href="#2、-root（不常用）" class="headerlink" title="2、$root（不常用）"></a>2、$root（不常用）</h5><p>我们可以通过$root访问到根组件，也就是app。但实际上我们在开发过程中也很少用这个$root.因为在root组件里什么都没有，非常简单。它只有一些非常重要的东西，比如：路由、Vuex。所以我们一般不访问根组件。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">console.log(this.$root.message);</span><br></pre></td></tr></table></figure>

<h3 id="11、插槽slot"><a href="#11、插槽slot" class="headerlink" title="11、插槽slot"></a>11、插槽slot</h3><h4 id="1、概念"><a href="#1、概念" class="headerlink" title="1、概念"></a>1、概念</h4><p>组件的插槽：</p>
<ul>
<li>组件的插槽也是为了让我们封装的组件<strong>更加具有扩展性</strong>。</li>
<li>让使用者可以决定组件内部的一些内容到底展示什么。</li>
</ul>
<p>组件插槽的例子：移动网站中的导航栏。</p>
<p>移动开发中，几乎每个页面都有导航栏。导航栏我们必然会封装成一个插件，比如nav-bar组件。一旦有了这个组件，我们就可以在多个页面中复用了。但是每个页面的导航栏是不一样，它们也很多<strong>区别</strong>，但是也有很多<strong>共性</strong>。</p>
<ul>
<li>如果，我们每一个单独去封装一个组件，显然不合适：比如每个页面都返回，这部分内容我们就要重复去封装（<strong>共性</strong>）。</li>
<li>如果我们封装成一个，好像也不合理：有些左侧是菜单，有些是返回，有些中间是搜索，有些是文字等等，每一个组件又不一样（<strong>区别</strong>）。</li>
</ul>
<p>那么该如何封装合适呢？抽取共性，保留不同</p>
<ul>
<li>最好的封装方式就是将<strong>共性抽取到组件中</strong>，将<strong>区别暴露为插槽（slot）</strong>。</li>
<li>一旦我们预留了插槽，就可以让使用者根据自己的需求，决定插槽中插入什么内容。</li>
<li>是搜索框，还是文字，还是菜单。由调用者自己来决定。</li>
</ul>
<h4 id="2、slot的基本使用"><a href="#2、slot的基本使用" class="headerlink" title="2、slot的基本使用"></a>2、slot的基本使用</h4><ul>
<li><p>在子组件中，使用特殊的元素<slot>就可以为子组件开启一个插槽。</p>
</li>
<li><p>该插槽插入什么内容取决于父组件如何使用。</p>
</li>
<li><p>我们也可以为插槽设置默认值，当父组件没有使用该插槽的时候，插槽显示的就是默认值。</p>
<p>插槽的默认值 <slot>button</slot></p>
</li>
<li><p>如果父组件有多个值, 同时放入到组件的插槽进行替换时, 这多个值会一起作为替换元素。</p>
</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!--插槽显示默认值--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">cpn</span>&gt;</span><span class="tag">&lt;/<span class="name">cpn</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">&lt;!--插槽显示父组件修改的样式--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">cpn</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>哈哈哈<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">cpn</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">cpn</span>&gt;</span><span class="tag">&lt;<span class="name">i</span>&gt;</span>呵呵呵<span class="tag">&lt;/<span class="name">i</span>&gt;</span><span class="tag">&lt;/<span class="name">cpn</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">  <span class="comment">&lt;!--插槽显示父组件的多个值，多个值一起作为插槽的替换元素--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">cpn</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">i</span>&gt;</span>呵呵呵<span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span>我是div元素<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>我是p元素<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">cpn</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">&lt;!--插槽显示默认值--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">cpn</span>&gt;</span><span class="tag">&lt;/<span class="name">cpn</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span> <span class="attr">id</span>=<span class="string">&quot;cpn&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>我是组件<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>我是组件, 哈哈哈<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">slot</span>&gt;</span><span class="tag">&lt;<span class="name">button</span>&gt;</span>按钮<span class="tag">&lt;/<span class="name">button</span>&gt;</span><span class="tag">&lt;/<span class="name">slot</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">const</span> app = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">    el: <span class="string">&#x27;#app&#x27;</span>,</span></span><br><span class="line">    data: &#123;</span><br><span class="line"><span class="javascript">      message: <span class="string">&#x27;你好啊&#x27;</span></span></span><br><span class="line">    &#125;,</span><br><span class="line">    components: &#123;</span><br><span class="line">      cpn: &#123;</span><br><span class="line"><span class="javascript">        template: <span class="string">&#x27;#cpn&#x27;</span></span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="2、具名插槽（多个插槽）"><a href="#2、具名插槽（多个插槽）" class="headerlink" title="2、具名插槽（多个插槽）"></a>2、具名插槽（多个插槽）</h4><p>当子组件的功能复杂时，子组件的插槽可能并非是一个。</p>
<ul>
<li>比如我们封装一个导航栏的子组件，可能就需要三个插槽，分别代表左边、中间、右边。</li>
<li>那么，外面在给插槽插入内容时，如何区分插入的是哪一个呢？</li>
<li>这个时候，我们就需要给插槽起一个名字。这就是具名插槽。</li>
</ul>
<p>那么如何使用具名插槽呢？</p>
<ul>
<li><p>只要在子组件的template中给slot元素一个name属性即可</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">slot</span> <span class="attr">name</span>=<span class="string">&#x27;myslot&#x27;</span>&gt;</span><span class="tag">&lt;/<span class="name">slot</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>然后在父组件使用子组件插槽的时候用slot属性并赋予将要操作的插槽的name即可。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">cpn</span>&gt;</span><span class="tag">&lt;<span class="name">button</span> <span class="attr">slot</span>=<span class="string">&quot;mysolt&quot;</span>&gt;</span>返回<span class="tag">&lt;/<span class="name">button</span>&gt;</span><span class="tag">&lt;/<span class="name">cpn</span>&gt;</span></span><br></pre></td></tr></table></figure>

</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">cpn</span>&gt;</span><span class="tag">&lt;<span class="name">span</span> <span class="attr">slot</span>=<span class="string">&quot;center&quot;</span>&gt;</span>标题<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">cpn</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">cpn</span>&gt;</span><span class="tag">&lt;<span class="name">button</span> <span class="attr">slot</span>=<span class="string">&quot;left&quot;</span>&gt;</span>返回<span class="tag">&lt;/<span class="name">button</span>&gt;</span><span class="tag">&lt;/<span class="name">cpn</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span> <span class="attr">id</span>=<span class="string">&quot;cpn&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">slot</span> <span class="attr">name</span>=<span class="string">&quot;left&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>左边<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">slot</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">slot</span> <span class="attr">name</span>=<span class="string">&quot;center&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>中间<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">slot</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">slot</span> <span class="attr">name</span>=<span class="string">&quot;right&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>右边<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">slot</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">const</span> app = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">    el: <span class="string">&#x27;#app&#x27;</span>,</span></span><br><span class="line">    data: &#123;</span><br><span class="line"><span class="javascript">      message: <span class="string">&#x27;你好啊&#x27;</span></span></span><br><span class="line">    &#125;,</span><br><span class="line">    components: &#123;</span><br><span class="line">      cpn: &#123;</span><br><span class="line"><span class="javascript">        template: <span class="string">&#x27;#cpn&#x27;</span></span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="3、编译作用域"><a href="#3、编译作用域" class="headerlink" title="3、编译作用域"></a>3、编译作用域</h4><p>官方给出了一条准则：</p>
<ul>
<li><strong>父组件模板的所有东西都会在父级作用域内编译；</strong></li>
<li><strong>子组件模板的所有东西都会在子级作用域内编译。</strong></li>
</ul>
<p>即：在父组件模板使用的数据内容来自于父组件自己本身，而不会从自己绑定的子组件里面拿数据内容。在子组件模板里面使用的数据内容与来自子组件本身，不会从自己的父组件里面拿数据内容。</p>
<p>示例：</p>
<p><img src="VUE/59.png" alt="image-20210323220612323"></p>
<p>以上的代码是否最终是可以渲染出来的：</p>
<ul>
<li><my-cpn v-show="isShow"></my-cpn>中，我们使用了isShow属性。</li>
<li>isShow属性包含在组件中，也包含在Vue实例中。</li>
</ul>
<p>答案：最终可以渲染出来，也就是使用的是Vue实例的属性。</p>
<ul>
<li>我们在使用<my-cpn v-show="isShow"></my-cpn>的时候，<strong>整个组件的使用过程是相当于在父组件</strong>（父组件模板）中出现的。</li>
<li>那么他的作用域就是父组件，使用的属性也是属于父组件的属性。</li>
<li>因此，isShow使用的是Vue实例中的属性，而不是子组件的属性。</li>
</ul>
<h4 id="4、作用域插槽"><a href="#4、作用域插槽" class="headerlink" title="4、作用域插槽"></a>4、作用域插槽</h4><p>有时，父组件使用插槽的时候需要用到子组件里面的内容，又因为父子组件都有自己的编译作用域。父组件不能拿到子组件的内容。所以才出现了作用域插槽。</p>
<p>有一句话总结：父组件替换插槽的标签，但是内容由子组件来提供。</p>
<p>使用作用域插槽：</p>
<p>父组件：</p>
<ul>
<li><p>在父组件使用子组件<cpn></p>
</li>
<li><p>在<cpn>里面使用<template>标签，在<template>里有一个属性：</p>
<ul>
<li><p>v-solt：作用域插槽，格式：</p>
<p><strong>v-slot :+ 插槽名称 + = + 组件内部绑定作用域值的映射。</strong></p>
</li>
</ul>
<p>注意：在<cpn>里不是一定要使用<template>标签。在Vue2.6版本以后就可以使用其他标签了，如<div>、<span>等等，但是为了兼容Vue2.6以前的版本，我们一般会使用<template></p>
</li>
<li><p>然后在<template>里面完成自己的业务</p>
</li>
</ul>
<p>子组件：</p>
<ul>
<li><p>在子组件模板里使用<slot>插槽，里面有几个属性：</p>
<ul>
<li><p>name：实现具名插槽</p>
</li>
<li><p>v-bind(<code>:</code>)：与子组件的值进行绑定。</p>
<p>如：:user=”user”  :message=”message”  :data=”data”</p>
</li>
</ul>
</li>
<li><p>在子组件内部要定义好在子组件模板插槽里与之绑定的数据。</p>
</li>
</ul>
<p>通过以上父子组件两步设置就可以完成：父组件使用子组件的插槽时可以拿到子组件的数据内容。</p>
<p>需求：</p>
<ul>
<li>子组件中包括一组数据，比如：pLanguages: [‘JavaScript’, ‘Python’, ‘Swift’, ‘Go’, ‘C++’]</li>
<li>需要在多个界面进行展示：<ul>
<li>某些界面是以列表形式展示的</li>
<li>某些界面要用<code>-</code>进行分隔</li>
<li>某些界面要用<code>*</code>进行分隔</li>
</ul>
</li>
</ul>
<p>代码实现：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">cpn</span>&gt;</span><span class="tag">&lt;/<span class="name">cpn</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">cpn</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--目的是获取子组件中的pLanguages--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">template</span> <span class="attr">v-slot:cpn</span>=<span class="string">&quot;slotProps&quot;</span>&gt;</span></span><br><span class="line">      <span class="comment">&lt;!--&lt;span v-for=&quot;item in slot.data&quot;&gt; - &#123;&#123;item&#125;&#125;&lt;/span&gt;--&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">span</span>&gt;</span>&#123;&#123;slotProps.data.join(&#x27; - &#x27;)&#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">cpn</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">cpn</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--目的是获取子组件中的pLanguages--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">template</span> <span class="attr">v-slot:cpn</span>=<span class="string">&quot;slotProps&quot;</span>&gt;</span></span><br><span class="line">      <span class="comment">&lt;!--&lt;span v-for=&quot;item in slot.data&quot;&gt; - &#123;&#123;item&#125;&#125;&lt;/span&gt;--&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">span</span>&gt;</span>&#123;&#123;slotProps.data.join(&#x27; * &#x27;)&#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">cpn</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span> <span class="attr">id</span>=<span class="string">&quot;cpn&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">slot</span> <span class="attr">name</span>=<span class="string">&quot;cpn&quot;</span> <span class="attr">:data</span>=<span class="string">&quot;pLanguages&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;item in pLanguages&quot;</span>&gt;</span>&#123;&#123;item&#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">slot</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">const</span> app = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="javascript">    el: <span class="string">&#x27;#app&#x27;</span>,</span></span><br><span class="line">    data: &#123;</span><br><span class="line"><span class="javascript">      message: <span class="string">&#x27;你好啊&#x27;</span></span></span><br><span class="line">    &#125;,</span><br><span class="line">    components: &#123;</span><br><span class="line">      cpn: &#123;</span><br><span class="line"><span class="javascript">        template: <span class="string">&#x27;#cpn&#x27;</span>,</span></span><br><span class="line"><span class="javascript">        <span class="function"><span class="title">data</span>(<span class="params"></span>)</span> &#123;</span></span><br><span class="line"><span class="javascript">          <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="javascript">            pLanguages: [<span class="string">&#x27;JavaScript&#x27;</span>, <span class="string">&#x27;C++&#x27;</span>, <span class="string">&#x27;Java&#x27;</span>, <span class="string">&#x27;C#&#x27;</span>, <span class="string">&#x27;Python&#x27;</span>, <span class="string">&#x27;Go&#x27;</span>, <span class="string">&#x27;Swift&#x27;</span>]</span></span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>效果：</p>
<p><img src="VUE/60.png" alt="image-20210324003729089"></p>
<h2 id="四、前端模块化"><a href="#四、前端模块化" class="headerlink" title="四、前端模块化"></a>四、前端模块化</h2><h3 id="1、为什么需要模块化"><a href="#1、为什么需要模块化" class="headerlink" title="1、为什么需要模块化"></a>1、为什么需要模块化</h3><p>在网页开发的早期，js制作作为一种脚本语言，做一些简单的表单验证或动画实现等，那个时候代码还是很少的，可以直接将代码写在<script>标签中。</p>
<p>但随着ajax异步请求的出现，慢慢形成了前后端的分离：</p>
<ul>
<li><p>客户端需要完成的事情越来越多，代码量也是与日俱增。</p>
</li>
<li><p>为了应对代码量的剧增，我们通常会将代码组织在多个js文件中，进行维护</p>
</li>
<li><p>但是这种维护方式，依然不能避免一些灾难性的问题：</p>
<ul>
<li><p>全局变量同名问题</p>
<p><img src="VUE/61.png" alt="image-20210324102745837"></p>
</li>
<li><p>对js文件的依赖顺序几乎是强制性的(对js文件导入的顺序不同，所得到的结果也是不同的)</p>
</li>
<li><p>但是当js文件过多，比如有几十个的时候，弄清楚它们的顺序是一件比较同时的事情。</p>
</li>
<li><p>而且即使你弄清楚顺序了，也不能避免上面出现的这种尴尬问题的发生。</p>
</li>
</ul>
</li>
</ul>
<p>随着重名问题的出现，也随之出现了解决方法：</p>
<p>使用<strong>匿名函数</strong>来解决方面的重名问题（闭包）。因为函数是有自己的作用域的。重名的变量或者方法都只有在对应的函数里面才有效。将一个个重名的全局变量变成一个个局部变量。</p>
<p><img src="VUE/62.png" alt="image-20210324103304290"></p>
<p>但随之而来又出现了新的问题：程序的代码复用性大大的下降。因为定义的变量都是局部变量，只有在自己匿名函数的内部使用，不能在其他js文件里引用。</p>
<p>所以，模块化思想就出现了。我们可以使用一个模块作为出口，将我们需要的局部变量与方法暴露出来。外部的js文件就可以通过这个模块去调用匿名函数里面的变量与方法。</p>
<p>那么怎么是匿名函数模块化呢？</p>
<p>匿名函数：</p>
<ul>
<li>在匿名函数内部，定义一个对象；</li>
<li>给对象添加各种需要暴露到外面的属性和方法(不需要暴露的直接定义即可)；</li>
<li>最后将这个对象返回，并且在外面使用了一个MoudleA接受。</li>
</ul>
<p>调用方（某js文件）：</p>
<ul>
<li>只需要使用属于自己模块的属性和方法即可</li>
</ul>
<p><img src="VUE/63.png" alt="image-20210324104648346"></p>
<p>这就是模块最基础的封装。但前端模块化开发到今天，已经有了很多既有的规范，以及对应的实现方案。常见的模块化规范：</p>
<ul>
<li>CommonJS：在Nodejs里使用（了解）</li>
<li>ES6的Modules（主要学习）</li>
<li>AMD</li>
<li>CMD</li>
</ul>
<h3 id="2、CommonJS"><a href="#2、CommonJS" class="headerlink" title="2、CommonJS"></a>2、CommonJS</h3><p>CommonJS模块化有两个核心：导出和导入</p>
<p>CommonJS的导出：</p>
<p><img src="VUE/64.png" alt="image-20210324105207224"></p>
<p>CommonJS的导入：</p>
<p><img src="VUE/65.png" alt="image-20210324105241377"></p>
<h3 id="3、ES6的Modules"><a href="#3、ES6的Modules" class="headerlink" title="3、ES6的Modules"></a>3、ES6的Modules</h3><h4 id="1、ES6的Modules的导出：export"><a href="#1、ES6的Modules的导出：export" class="headerlink" title="1、ES6的Modules的导出：export"></a>1、ES6的Modules的导出：export</h4><h5 id="1、export导出变量"><a href="#1、export导出变量" class="headerlink" title="1、export导出变量"></a>1、export导出变量</h5><ul>
<li><p>导出方式一：先定义好变量，在将需要导出的变量一起导出</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> flag = <span class="literal">true</span></span><br><span class="line"><span class="keyword">var</span> message = <span class="string">&#x27;hello&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 1.先定义好变量，在将需要导出的变量一起导出</span></span><br><span class="line"><span class="keyword">export</span> &#123;</span><br><span class="line">  flag, message</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>导出方式二：在定义变量的同时导出</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 2.在定义变量的同时导出</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">var</span> num1 = <span class="number">1000</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">var</span> height = <span class="number">1.88</span></span><br></pre></td></tr></table></figure>

</li>
</ul>
<h5 id="2、export导出函数或者类"><a href="#2、export导出函数或者类" class="headerlink" title="2、export导出函数或者类"></a>2、export导出函数或者类</h5><ul>
<li><p>导出方式三：导出函数</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 3.导出函数</span></span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">mul</span>(<span class="params">num1, num2</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> num1 * num2</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>导出方式四：导出类</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 4.导出类</span></span><br><span class="line"><span class="keyword">export</span> <span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="title">run</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;在奔跑&#x27;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h5 id="3、export-default"><a href="#3、export-default" class="headerlink" title="3、export default"></a>3、export default</h5><p>某些情况下，一个模块中包含某个的功能，我们并不希望给这个功能命名，而且让导入者可以自己来命名。这个时候就可以使用export default。</p>
<p><strong>需要注意</strong>：<strong>export default在同一个模块中，不允许同时存在多个。</strong></p>
<ul>
<li><p>导出方式五：export default为一个变量</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> address = <span class="string">&#x27;北京市&#x27;</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> address</span><br></pre></td></tr></table></figure>
</li>
<li><p>导出方式六：export default为一个方法</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="function"><span class="keyword">function</span> (<span class="params">argument</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(argument);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h4 id="2、ES6的Modules的导入：import"><a href="#2、ES6的Modules的导入：import" class="headerlink" title="2、ES6的Modules的导入：import"></a>2、ES6的Modules的导入：import</h4><p>我们使用**<code>export</code><strong>指令导出了模块对外提供的接口，下面我们就可以通过</strong><code>import</code>**命令来加载对应的这个模块了。</p>
<p>关于import的使用：</p>
<ol>
<li><p>首先，我们需要在HTML代码中<strong>引入两个js文件</strong>，并且<strong>类型需要设置为module</strong>。</p>
<p><img src="VUE/67.png" alt="image-20210324111327722"></p>
</li>
<li><p>import指令用于导入模块中的内容。以下为导入的几种形式（对应上面的方式一到六）：</p>
<ol>
<li><p>导入的{}中定义的变量（对应方式一）：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;flag, message&#125; <span class="keyword">from</span> <span class="string">&quot;./aaa.js&quot;</span>;</span><br><span class="line"><span class="keyword">if</span> (flag) &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&#x27;小明是天才, 哈哈哈&#x27;</span>);</span><br><span class="line">  <span class="built_in">console</span>.log(message);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>直接导入export定义的变量（对应方式二）：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;num1, height&#125; <span class="keyword">from</span> <span class="string">&quot;./aaa.js&quot;</span>;</span><br><span class="line"><span class="built_in">console</span>.log(num1);</span><br><span class="line"><span class="built_in">console</span>.log(height);</span><br></pre></td></tr></table></figure>
</li>
<li><p>导入 export的function（对应方式三）：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;mul&#125; <span class="keyword">from</span> <span class="string">&quot;./aaa.js&quot;</span>;</span><br><span class="line"><span class="built_in">console</span>.log(mul(<span class="number">30</span>, <span class="number">50</span>));</span><br></pre></td></tr></table></figure>
</li>
<li><p>导入 export的class（对应方式四）：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;mul, Person&#125; <span class="keyword">from</span> <span class="string">&quot;./aaa.js&quot;</span>;</span><br><span class="line"><span class="keyword">const</span> p = <span class="keyword">new</span> Person();</span><br><span class="line">p.run()</span><br></pre></td></tr></table></figure>
</li>
<li><p>导入 export default中的内容（变量）（对应方式五）：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> addr <span class="keyword">from</span> <span class="string">&quot;./aaa.js&quot;</span>;</span><br><span class="line"><span class="built_in">console</span>.log(addr);</span><br></pre></td></tr></table></figure>
</li>
<li><p>导入 export default中的内容（方法）（对应方式六）：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> todo <span class="keyword">from</span> <span class="string">&quot;./aaa.js&quot;</span>;</span><br><span class="line">todo(<span class="string">&#x27;你好啊&#x27;</span>);</span><br></pre></td></tr></table></figure>
</li>
<li><p>统一全部导入：</p>
<p>我们希望某个模块中所有的信息都导入，一个个导入显然有些麻烦</p>
<p>通过<code>*</code>可以导入模块中所有的export变量</p>
<p>但是通常情况下我们需要给<code>*</code>用<code>as</code><strong>起一个别名</strong>，方便后续的使用</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// import &#123;flag, num, num1, height, Person, mul, sum&#125; from &quot;./aaa.js&quot;;</span></span><br><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> aaa <span class="keyword">from</span> <span class="string">&#x27;./aaa.js&#x27;</span></span><br><span class="line"><span class="built_in">console</span>.log(aaa.flag);</span><br><span class="line"><span class="built_in">console</span>.log(aaa.height);</span><br></pre></td></tr></table></figure>



</li>
</ol>
</li>
</ol>
<h2 id="五、webpack"><a href="#五、webpack" class="headerlink" title="五、webpack"></a>五、webpack</h2><h3 id="1、什么是webpack？"><a href="#1、什么是webpack？" class="headerlink" title="1、什么是webpack？"></a>1、什么是webpack？</h3><p>官方解释：</p>
<ul>
<li>At its core, <strong>webpack</strong> is a <em>static module bundler</em> for modern JavaScript applications. </li>
<li>从本质上来讲，webpack是一个现代的JavaScript应用的静态<strong>模块打包</strong>工具。</li>
</ul>
<p><img src="VUE/68.png" alt="image-20210325215829591"></p>
<p>我们从两个点来解释上面这句话：<strong>模块</strong> 和 <strong>打包</strong></p>
<ul>
<li><p>模块：</p>
<p>前端模块化的必要性之前已经提及，而且也提到了目前使用前端模块化的一些方案：AMD、CMD、CommonJS、ES6。</p>
<p>但在ES6之前，我们要想进行模块化开发，就必须借助于其他的工具，让我们可以进行模块化开发并且在通过模块化开发完成了项目后，还需要处理模块间的各种依赖，并且将其进行整合打包。</p>
<p>而webpack其中一个核心就是让我们可能进行模块化开发，并且会帮助我们处理模块间的依赖关系。而且不仅仅是JavaScript文件，我们的CSS、图片、json文件，以及一些less、scss、stylus文件等等在webpack中都可以被当做模块来使用。</p>
</li>
<li><p>打包：</p>
<p>理解了webpack可以帮助我们进行模块化，并且处理模块间的各种复杂关系后，打包的概念就非常好理解了。</p>
<p>webpack的打包就是将webpack中的各种资源模块进行打包合并成一个或多个包(Bundle)。并且在打包的过程中，还可以对资源进行处理，比如压缩图片，将scss转成css，将ES6语法转成ES5语法，将TypeScript转成JavaScript等等操作。</p>
<p>也就是说，开发的时候你可以使用AMD、CMD、CommonJS、ES6等模块化方案进行编码开发，发布到浏览器的时候可以通过webpack打包成一个浏览器能够识别的（如ES5）代码文件。然后再将这个代码文件部署到服务器。</p>
<p>但是打包的操作似乎<code>grunt</code>/<code>gulp</code>/<code>rollup</code>(Vue的源码就是用rollup构建的)也可以帮助我们完成。为什么要用webpack呢？</p>
</li>
</ul>
<h3 id="2、webpack和grunt-gulp的对比"><a href="#2、webpack和grunt-gulp的对比" class="headerlink" title="2、webpack和grunt/gulp的对比"></a>2、webpack和grunt/gulp的对比</h3><h4 id="1、grunt-gulp"><a href="#1、grunt-gulp" class="headerlink" title="1、grunt/gulp"></a>1、grunt/gulp</h4><p><strong>grunt/gulp的核心是Task（任务）</strong></p>
<p>我们可以配置一系列的task，并且定义task要处理的事务（例如ES6、ts转化，图片压缩，scss转成css）。之后让grunt/gulp来依次执行这些task，而且让整个流程自动化。所以grunt/gulp也被称为<strong>前端自动化任务管理工具</strong>。</p>
<p>一个gulp的task：</p>
<ul>
<li>下面的task就是将src下面的所有js文件转成ES5的语法。</li>
<li>并且最终输出到dist文件夹中。</li>
</ul>
<p><img src="VUE/69.png" alt="image-20210325221756978"></p>
<p>什么时候用grunt/gulp？什么时候用webpack？</p>
<ul>
<li>如果你的工程模块依赖非常简单，甚至是没有用到模块化的概念。</li>
<li>只需要进行简单的合并、压缩，就使用grunt/gulp即可。</li>
<li>但是如果整个项目使用了模块化管理，而且相互依赖非常强，我们就可以使用更加强大的webpack了。</li>
</ul>
<h4 id="2、grunt-gulp和webpack有什么不同呢？"><a href="#2、grunt-gulp和webpack有什么不同呢？" class="headerlink" title="2、grunt/gulp和webpack有什么不同呢？"></a>2、grunt/gulp和webpack有什么不同呢？</h4><ul>
<li>grunt/gulp更加强调的是<strong>前端流程的自动化</strong>，模块化不是它的核心。</li>
<li>webpack更加强调<strong>模块化开发管理</strong>，而文件压缩合并、预处理等功能，是他附带的功能。</li>
</ul>
<h3 id="3、webpack的安装"><a href="#3、webpack的安装" class="headerlink" title="3、webpack的安装"></a>3、webpack的安装</h3><ol>
<li><p>安装webpack首先需要安装Node.js，Node.js自带了软件包管理工具npm</p>
<p>查看自己的node版本：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">node -v</span><br></pre></td></tr></table></figure>

<p>查看自己的npm版本：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm -v</span><br></pre></td></tr></table></figure>

<p>webpack和node和npm的关系：</p>
<p><img src="VUE/77.png" alt="webpack和node和npm的关系"></p>
</li>
<li><p>全局安装webpack（<strong>全局的webpack</strong>）（少用）</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">// -g进行全局安装（默认安装最新版本）</span><br><span class="line">npm install webpack -g</span><br><span class="line"></span><br><span class="line">// 也可以通过@+版本号进行具体版本的安装</span><br><span class="line">npm install webpack@3.6.0 -g </span><br></pre></td></tr></table></figure>

<p><strong>局部安装webpack</strong>（常用）</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">cd 对应目录</span><br><span class="line">// 可以通过@+版本号安装该模块需要的webpack版本</span><br><span class="line">// --save-dev`是开发时依赖，项目打包后不需要继续使用的</span><br><span class="line">npm install webpack --save-dev</span><br></pre></td></tr></table></figure>

<p>为什么全局安装后，还需要局部安装呢？</p>
<ul>
<li>全局安装：在终端直接执行webpack命令，使用的全局安装的webpack</li>
<li>局部安装：当在package.json中定义了scripts时，其中包含了webpack命令，那么使用的是局部webpack。</li>
</ul>
<p>开发时依赖与运行时依赖（<a target="_blank" rel="noopener" href="https://docs.npmjs.com/cli/v7/configuring-npm/package-json">npm的5种依赖种类</a>）</p>
<ul>
<li><p>开发时依赖（package.json中的devDependencies）：</p>
<p>开发中所使用的的依赖，<strong>线上生产环境上并不需要他们</strong>，npm官方文档将它定义为开发中所使用的外部的测试或者文档框架。目的是为了减少在安装依赖时node_modules的体积，提升安装依赖的速度，节省线上及其的硬盘资源以及部署上线的时间。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install/i xxx -D/--save-dev</span><br></pre></td></tr></table></figure>
</li>
<li><p>运行时依赖（package.json中的dependencies）：</p>
<p>这是npm最基本的依赖，写在一个简单的对象中，将依赖程序包映射到版本范围。比较常用</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install/i xxx@version -S/--save</span><br></pre></td></tr></table></figure>

<p>如果不指定版本号version，则默认安装最新版本</p>
</li>
</ul>
</li>
</ol>
<h3 id="4、使用webpack进行开发"><a href="#4、使用webpack进行开发" class="headerlink" title="4、使用webpack进行开发"></a>4、使用webpack进行开发</h3><h4 id="1、webpack基础"><a href="#1、webpack基础" class="headerlink" title="1、webpack基础"></a>1、webpack基础</h4><ol>
<li><p>我们创建如下文件和文件夹：</p>
<ul>
<li><p>index.html：浏览器打开展示的首页html</p>
</li>
<li><p>dist文件夹：用于存放之后打包的文件</p>
</li>
<li><p>src文件夹：用于存放我们写的源文件</p>
</li>
<li><p>js文件夹：用于存放我们写的js文件</p>
<ul>
<li><p>main.js：项目的入口文件。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1.使用commonjs的模块化规范进行导入</span></span><br><span class="line"><span class="keyword">const</span> &#123;add, mul,dec&#125; = <span class="built_in">require</span>(<span class="string">&#x27;./mathUtils.js&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(add(<span class="number">20</span>, <span class="number">30</span>));</span><br><span class="line"><span class="built_in">console</span>.log(mul(<span class="number">20</span>, <span class="number">30</span>));</span><br><span class="line"><span class="built_in">console</span>.log(dec(<span class="number">30</span>, <span class="number">10</span>));</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2.使用ES6的模块化的规范进行导入</span></span><br><span class="line"><span class="keyword">import</span> &#123;name, age, height&#125; <span class="keyword">from</span> <span class="string">&quot;./info&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(name);</span><br><span class="line"><span class="built_in">console</span>.log(age);</span><br><span class="line"><span class="built_in">console</span>.log(height);</span><br></pre></td></tr></table></figure>
</li>
<li><p>mathUtils.js：定义了一些数学工具函数，可以在其他地方引用，并且使用。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 加法</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params">num1, num2</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> num1 + num2</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 乘法</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">mul</span>(<span class="params">num1, num2</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> num1 * num2</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 减法</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">dec</span>(<span class="params">num1,num2</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> num1 - num2</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用CommonJS进行导出</span></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  add,</span><br><span class="line">  mul,</span><br><span class="line">  dec</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>info.js：定义了一些属性，可以在其他地方引用，并且使用。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 使用ES6的模块化的规范进行导出</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> name = <span class="string">&#x27;why&#x27;</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> age = <span class="number">18</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> height = <span class="number">1.88</span>;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>package.json：通过npm init生成的，npm包管理的文件（下面会提）</p>
</li>
</ul>
</li>
<li><p>现在的js文件中使用了模块化的方式进行开发，但是他们并不可以直接使用。</p>
<ul>
<li>因为如果直接在index.html引入这两个js文件，浏览器并不识别其中的模块化代码</li>
<li>另外，在真实项目中当有许多这样的js文件时，我们一个个引用非常麻烦，并且后期非常不方便对它们进行管理</li>
</ul>
</li>
<li><p>所以我们应使用webpack工具，对多个js文件进行打包。</p>
<ul>
<li>webpack就是一个模块化的打包工具，所以它支持我们代码中写模块化，可以对模块化的代码进行处理。</li>
<li>另外，如果在处理完所有模块之间的关系后，将多个js打包到一个js文件中，引入时就变得非常方便了。</li>
<li>而且，在打包的时候也不用将所有的js文件进行打包，只选择有导入其他模块（js文件）的主js文件（main.js）进行打包即可。因为webpack会自动处理模块间的依赖，它会根据依赖找到相关联的js文件，然后webpack会将主js文件（main.js）与之相关联的文件一起打包。如以上代码只需打包main.js文件即可。</li>
</ul>
</li>
<li><p>在终端进到项目的目录，使用webpack的指令进行打包（webpack 3.6.0版本）。将src下的main.js打包到dist下的bundle.js文件（自动生成）</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">webpack ./src/main.js ./dist/bundle.js</span><br></pre></td></tr></table></figure>

<p><img src="VUE/70.png" alt="image-20210325233912009"></p>
</li>
<li><p>打包后会在dist文件下，生成一个bundle.js文件</p>
<ul>
<li><p>文件内容有些复杂，这里暂时先不看，后续再进行分析</p>
</li>
<li><p>bundle.js文件，是webpack处理了项目直接文件依赖后生成的一个js文件，我们只需要将这个js文件在index.html中引入即可</p>
<p><img src="VUE/71.png" alt="image-20210325234101665"></p>
</li>
</ul>
</li>
<li><p>bundle.js：核心方法：__webpack_require__（用来就将ES6解析成ES5）</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/******/</span> (<span class="function"><span class="keyword">function</span>(<span class="params">modules</span>) </span>&#123; <span class="comment">// webpackBootstrap</span></span><br><span class="line"><span class="comment">/******/</span> 	<span class="comment">// The module cache</span></span><br><span class="line"><span class="comment">/******/</span> 	<span class="keyword">var</span> installedModules = &#123;&#125;;</span><br><span class="line"><span class="comment">/******/</span></span><br><span class="line"><span class="comment">/******/</span> 	<span class="comment">// The require function</span></span><br><span class="line"><span class="comment">/******/</span> 	<span class="function"><span class="keyword">function</span> <span class="title">__webpack_require__</span>(<span class="params">moduleId</span>) </span>&#123;</span><br><span class="line"><span class="comment">/******/</span></span><br><span class="line"><span class="comment">/******/</span> 		<span class="comment">// Check if module is in cache</span></span><br><span class="line"><span class="comment">/******/</span> 		<span class="function"><span class="title">if</span>(<span class="params">installedModules[moduleId]</span>)</span> &#123;</span><br><span class="line"><span class="comment">/******/</span> 			<span class="keyword">return</span> installedModules[moduleId].exports;</span><br><span class="line"><span class="comment">/******/</span> 		&#125;</span><br><span class="line"><span class="comment">/******/</span> 		<span class="comment">// Create a new module (and put it into the cache)</span></span><br><span class="line"><span class="comment">/******/</span> 		<span class="keyword">var</span> <span class="built_in">module</span> = installedModules[moduleId] = &#123;</span><br><span class="line"><span class="comment">/******/</span> 			i: moduleId,</span><br><span class="line"><span class="comment">/******/</span> 			l: <span class="literal">false</span>,</span><br><span class="line"><span class="comment">/******/</span> 			<span class="built_in">exports</span>: &#123;&#125;</span><br><span class="line"><span class="comment">/******/</span> 		&#125;;</span><br><span class="line"><span class="comment">/******/</span></span><br><span class="line"><span class="comment">/******/</span> 		<span class="comment">// Execute the module function</span></span><br><span class="line"><span class="comment">/******/</span> 		modules[moduleId].call(<span class="built_in">module</span>.exports, <span class="built_in">module</span>, <span class="built_in">module</span>.exports, __webpack_require__);</span><br><span class="line"><span class="comment">/******/</span></span><br><span class="line"><span class="comment">/******/</span> 		<span class="comment">// Flag the module as loaded</span></span><br><span class="line"><span class="comment">/******/</span> 		<span class="built_in">module</span>.l = <span class="literal">true</span>;</span><br><span class="line"><span class="comment">/******/</span></span><br><span class="line"><span class="comment">/******/</span> 		<span class="comment">// Return the exports of the module</span></span><br><span class="line"><span class="comment">/******/</span> 		<span class="keyword">return</span> <span class="built_in">module</span>.exports;</span><br><span class="line"><span class="comment">/******/</span> 	&#125;</span><br><span class="line"><span class="comment">/******/</span></span><br><span class="line"><span class="comment">/******/</span></span><br><span class="line"><span class="comment">/******/</span> 	<span class="comment">// expose the modules object (__webpack_modules__)</span></span><br><span class="line"><span class="comment">/******/</span> 	__webpack_require__.m = modules;</span><br><span class="line"><span class="comment">/******/</span></span><br><span class="line"><span class="comment">/******/</span> 	<span class="comment">// expose the module cache</span></span><br><span class="line"><span class="comment">/******/</span> 	__webpack_require__.c = installedModules;</span><br><span class="line"><span class="comment">/******/</span></span><br><span class="line"><span class="comment">/******/</span> 	<span class="comment">// define getter function for harmony exports</span></span><br><span class="line"><span class="comment">/******/</span> 	__webpack_require__.d = <span class="function"><span class="keyword">function</span>(<span class="params"><span class="built_in">exports</span>, name, getter</span>) </span>&#123;</span><br><span class="line"><span class="comment">/******/</span> 		<span class="function"><span class="title">if</span>(<span class="params">!__webpack_require__.o(<span class="built_in">exports</span>, name)</span>)</span> &#123;</span><br><span class="line"><span class="comment">/******/</span> 			<span class="built_in">Object</span>.defineProperty(<span class="built_in">exports</span>, name, &#123;</span><br><span class="line"><span class="comment">/******/</span> 				configurable: <span class="literal">false</span>,</span><br><span class="line"><span class="comment">/******/</span> 				enumerable: <span class="literal">true</span>,</span><br><span class="line"><span class="comment">/******/</span> 				get: getter</span><br><span class="line"><span class="comment">/******/</span> 			&#125;);</span><br><span class="line"><span class="comment">/******/</span> 		&#125;</span><br><span class="line"><span class="comment">/******/</span> 	&#125;;</span><br><span class="line"><span class="comment">/******/</span></span><br><span class="line"><span class="comment">/******/</span> 	<span class="comment">// getDefaultExport function for compatibility with non-harmony modules</span></span><br><span class="line"><span class="comment">/******/</span> 	__webpack_require__.n = <span class="function"><span class="keyword">function</span>(<span class="params"><span class="built_in">module</span></span>) </span>&#123;</span><br><span class="line"><span class="comment">/******/</span> 		<span class="keyword">var</span> getter = <span class="built_in">module</span> &amp;&amp; <span class="built_in">module</span>.__esModule ?</span><br><span class="line"><span class="comment">/******/</span> 			<span class="function"><span class="keyword">function</span> <span class="title">getDefault</span>(<span class="params"></span>) </span>&#123; <span class="keyword">return</span> <span class="built_in">module</span>[<span class="string">&#x27;default&#x27;</span>]; &#125; :</span><br><span class="line"><span class="comment">/******/</span> 			<span class="function"><span class="keyword">function</span> <span class="title">getModuleExports</span>(<span class="params"></span>) </span>&#123; <span class="keyword">return</span> <span class="built_in">module</span>; &#125;;</span><br><span class="line"><span class="comment">/******/</span> 		__webpack_require__.d(getter, <span class="string">&#x27;a&#x27;</span>, getter);</span><br><span class="line"><span class="comment">/******/</span> 		<span class="keyword">return</span> getter;</span><br><span class="line"><span class="comment">/******/</span> 	&#125;;</span><br><span class="line"><span class="comment">/******/</span></span><br><span class="line"><span class="comment">/******/</span> 	<span class="comment">// Object.prototype.hasOwnProperty.call</span></span><br><span class="line"><span class="comment">/******/</span> 	__webpack_require__.o = <span class="function"><span class="keyword">function</span>(<span class="params">object, property</span>) </span>&#123; <span class="keyword">return</span> <span class="built_in">Object</span>.prototype.hasOwnProperty.call(object, property); &#125;;</span><br><span class="line"><span class="comment">/******/</span></span><br><span class="line"><span class="comment">/******/</span> 	<span class="comment">// __webpack_public_path__</span></span><br><span class="line"><span class="comment">/******/</span> 	__webpack_require__.p = <span class="string">&quot;&quot;</span>;</span><br><span class="line"><span class="comment">/******/</span></span><br><span class="line"><span class="comment">/******/</span> 	<span class="comment">// Load entry module and return exports</span></span><br><span class="line"><span class="comment">/******/</span> 	<span class="keyword">return</span> __webpack_require__(__webpack_require__.s = <span class="number">0</span>);</span><br><span class="line"><span class="comment">/******/</span> &#125;)</span><br><span class="line"><span class="comment">/************************************************************************/</span></span><br><span class="line"><span class="comment">/******/</span> ([</span><br><span class="line"><span class="comment">/* 0 */</span></span><br><span class="line"><span class="comment">/***/</span> (<span class="function"><span class="keyword">function</span>(<span class="params"><span class="built_in">module</span>, __webpack_exports__, __webpack_require__</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="meta">&quot;use strict&quot;</span>;</span><br><span class="line"><span class="built_in">Object</span>.defineProperty(__webpack_exports__, <span class="string">&quot;__esModule&quot;</span>, &#123; <span class="attr">value</span>: <span class="literal">true</span> &#125;);</span><br><span class="line"><span class="comment">/* harmony import */</span> <span class="keyword">var</span> __WEBPACK_IMPORTED_MODULE_0__info__ = __webpack_require__(<span class="number">2</span>);</span><br><span class="line"><span class="comment">// 1.使用commonjs的模块化规范</span></span><br><span class="line"><span class="keyword">const</span> &#123;add, mul,dec&#125; = __webpack_require__(<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(add(<span class="number">20</span>, <span class="number">30</span>));</span><br><span class="line"><span class="built_in">console</span>.log(mul(<span class="number">20</span>, <span class="number">30</span>));</span><br><span class="line"><span class="built_in">console</span>.log(dec(<span class="number">30</span>, <span class="number">10</span>));</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2.使用ES6的模块化的规范</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(__WEBPACK_IMPORTED_MODULE_0__info__[<span class="string">&quot;c&quot;</span> <span class="comment">/* name */</span>]);</span><br><span class="line"><span class="built_in">console</span>.log(__WEBPACK_IMPORTED_MODULE_0__info__[<span class="string">&quot;a&quot;</span> <span class="comment">/* age */</span>]);</span><br><span class="line"><span class="built_in">console</span>.log(__WEBPACK_IMPORTED_MODULE_0__info__[<span class="string">&quot;b&quot;</span> <span class="comment">/* height */</span>]);</span><br><span class="line"></span><br><span class="line"><span class="comment">/***/</span> &#125;),</span><br><span class="line"><span class="comment">/* 1 */</span></span><br><span class="line"><span class="comment">/***/</span> (<span class="function"><span class="keyword">function</span>(<span class="params"><span class="built_in">module</span>, <span class="built_in">exports</span></span>) </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params">num1, num2</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> num1 + num2</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">mul</span>(<span class="params">num1, num2</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> num1 * num2</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">dec</span>(<span class="params">num1,num2</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> num1 - num2</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  add,</span><br><span class="line">  mul,</span><br><span class="line">  dec</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/***/</span> &#125;),</span><br><span class="line"><span class="comment">/* 2 */</span></span><br><span class="line"><span class="comment">/***/</span> (<span class="function"><span class="keyword">function</span>(<span class="params"><span class="built_in">module</span>, __webpack_exports__, __webpack_require__</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="meta">&quot;use strict&quot;</span>;</span><br><span class="line"><span class="keyword">const</span> name = <span class="string">&#x27;why&#x27;</span>;</span><br><span class="line"><span class="comment">/* harmony export (immutable) */</span> __webpack_exports__[<span class="string">&quot;c&quot;</span>] = name;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> age = <span class="number">18</span>;</span><br><span class="line"><span class="comment">/* harmony export (immutable) */</span> __webpack_exports__[<span class="string">&quot;a&quot;</span>] = age;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> height = <span class="number">1.88</span>;</span><br><span class="line"><span class="comment">/* harmony export (immutable) */</span> __webpack_exports__[<span class="string">&quot;b&quot;</span>] = height;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/***/</span> &#125;)</span><br><span class="line"><span class="comment">/******/</span> ]);</span><br></pre></td></tr></table></figure>
</li>
<li><p>结果：</p>
<p><img src="VUE/72.png" alt="image-20210325234538965"></p>
</li>
</ol>
<h4 id="2、webpack的配置"><a href="#2、webpack的配置" class="headerlink" title="2、webpack的配置"></a>2、webpack的配置</h4><p>如果每次使用webpack的命令都需要写上入口和出口作为参数，就非常麻烦，有没有一种方法可以将这两个参数写到配置中，在运行时，直接读取呢？</p>
<p>当然可以，就是创建一个**<code>webpack.config.js</code>**文件。文件名字不能修改。在里面设置路径、出口与入口。</p>
<ul>
<li>入口：项目打包的文件</li>
<li>出口：项目要打包到哪里</li>
<li>路径：用来确定出口的位置。注意路径必须是绝对路径，但是又不能写死，所以需要我们动态获取路径。通过Nodejs的<code>path</code>模块进行路径的动态获取。</li>
</ul>
<p>如何获取Nodejs的<code>path</code>模块？安装步骤：</p>
<ol>
<li><p>在终端输入</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm init</span><br></pre></td></tr></table></figure>

<p>当项目需要使用到Nodejs的东西的时候，就需要我们初始化npm。</p>
<p>npm初始化过程：</p>
<ul>
<li>package name：给包起一个名称（排除中文与一些特殊符号）</li>
<li>version：版本号</li>
<li>description：描述（可不填）</li>
<li>entry point：index.js（在webpack用不上）</li>
<li>test command：测试命令</li>
<li>git repository：git仓库</li>
<li>keywords：密码</li>
<li>author：作者</li>
<li>license：协议（如果为开源就需要设置）</li>
</ul>
<p>一旦初始化就会生成一个**<code>package.json</code>**的文件：任何一个项目，如果想单独依赖Nodejs环境的话，一般情况下，都需要一个package.json文件。这个文件是用来告知当前项目的一些信息的。</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;meetwebpack&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;version&quot;</span>: <span class="string">&quot;1.0.0&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;description&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;main&quot;</span>: <span class="string">&quot;index.js&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;scripts&quot;</span>: &#123;</span><br><span class="line">    <span class="attr">&quot;test&quot;</span>: <span class="string">&quot;echo \&quot;Error: no test specified\&quot; &amp;&amp; exit 1&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;build&quot;</span>: <span class="string">&quot;webpack&quot;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">&quot;author&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;license&quot;</span>: <span class="string">&quot;ISC&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;devDependencies&quot;</span>: &#123;</span><br><span class="line">    <span class="attr">&quot;webpack&quot;</span>: <span class="string">&quot;^3.6.0&quot;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>一些命令：</p>
<ul>
<li>npm install：若项目有依赖一些模块的话，他会根据你在package.json里所有的依赖，帮助我们在当前文件夹下安装一些东西。</li>
</ul>
</li>
<li><p>然后在**<code>webpack.config.js</code>**文件里的路径处使用path的resolve函数。</p>
<p>resolve函数：用于对两个路径进行拼接</p>
<p>而绝对路径的拼接还需要一个全局变量：__dirname：保存当前文件所在的路径。</p>
</li>
</ol>
<p><strong>webpack.config.js</strong>：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&#x27;path&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  entry: <span class="string">&#x27;./src/main.js&#x27;</span>,</span><br><span class="line">  output: &#123;</span><br><span class="line">    path: path.resolve(__dirname, <span class="string">&#x27;dist&#x27;</span>),</span><br><span class="line">    filename: <span class="string">&#x27;bundle.js&#x27;</span></span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>之后就可以直接使用<code>webpack</code>对项目进行打包。</p>
<p>但是当项目越来越复杂的时候，即不止一个webpack.config.js，还存在production.comfig.js等等文件的时候。执行webpack的时候，还得加上具体的js文件。这是还可以通过将webpack命令统一映射到一个命令上，如<code>npm run build</code>。那么怎么设置映射呢？</p>
<p>在package.json里对scripts（脚本）设置自己的执行脚本：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">&quot;scripts&quot;</span>: &#123;</span><br><span class="line">    <span class="attr">&quot;test&quot;</span>: <span class="string">&quot;echo \&quot;Error: no test specified\&quot; &amp;&amp; exit 1&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;build&quot;</span>: <span class="string">&quot;webpack&quot;</span></span><br><span class="line">  	&#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>package.json中的scripts的脚本在执行时，会按照一定的顺序寻找命令对应的位置。</p>
<ol>
<li>首先，会寻找本地的node_modules/.bin路径中对应的命令</li>
<li>如果没有找到，会去全局的环境变量中寻找。<ul>
<li>在这里全局的环境变量指的是当时我们安装的全局webpack。</li>
<li>而本地的node_modules/.bin路径指的是我们在当前项目安装的局部webpack。</li>
<li>上文有提：<code>webpack</code>命令执行的全局的webpack，因为它是在终端命令的；而npm run build命令执行的是局部的webpack，因为它是根据scripts的脚本执行的，找的是本地的webpack。<strong>而在大项目中，每个子项目往往依赖特定的webpack版本，很少去使用全局的webpack，全局的版本可能很这个项目的webpack版本不一致，导出打包出现问题</strong>。（反正全局的webpack的版本太高而出现bug）<strong>所以通常一个项目，都有自己局部的webpack</strong>。而我们也要使用局部webpack的方式**<code>node_modules/.bin/webpack</code>**进行局部打包。但是我们可以通过映射的方式简化命令，这也是我们要设置映射，使用 npm run bulid 而不使用webpack的一大原因。</li>
</ul>
</li>
</ol>
<h3 id="5、webpack其他文件的转化（Loader）"><a href="#5、webpack其他文件的转化（Loader）" class="headerlink" title="5、webpack其他文件的转化（Loader）"></a>5、webpack其他文件的转化（Loader）</h3><p>webpack用来做什么呢？</p>
<ul>
<li>在我们之前的实例中，我们主要是用webpack来处理我们写的js代码，并且webpack会自动处理js之间相关的依赖。</li>
<li>但是，在开发中我们不仅仅有基本的js代码处理，我们也需要加载css、图片，也包括一些高级的将ES6转成ES5代码，将TypeScript转成ES5代码，将scss、less转成css，将.jsx、.vue文件转成js文件等等。</li>
<li>对于webpack本身的能力来说，对于这些转化是不支持的。</li>
<li>所以，就需要给webpack扩展对应的loader。</li>
<li>loader是webpack中一个非常核心的概念</li>
</ul>
<p>loader使用过程：</p>
<ol>
<li>通过npm安装需要使用的loader</li>
<li>在webpack.config.js中的module关键字下进行配置</li>
</ol>
<p>大部分loader我们都可以在<a target="_blank" rel="noopener" href="https://webpack.docschina.org/loaders/">webpack的官网</a>中找到，并且学习对应的用法。</p>
<h4 id="1、CSS文件"><a href="#1、CSS文件" class="headerlink" title="1、CSS文件"></a>1、CSS文件</h4><p>项目开发过程中，我们必然需要添加很多的样式，而样式我们往往写到一个单独的文件中。在src目录中，创建一个css文件，在该文件夹下写我们css的一些代码。</p>
<p>但是这个时候，我们写的.css文件中的样式并不会生效：</p>
<ul>
<li>我们压根就没有引用它</li>
<li>webpack也不可能找到它，因为我们只有一个入口，webpack会从入口开始查找其他依赖的文件</li>
</ul>
<p>所以需要我们在入口js文件里引用需要的css文件：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 依赖css文件</span></span><br><span class="line"><span class="built_in">require</span>(<span class="string">&#x27;./css/normal.css&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p>重新打包，会出现如下错误：</p>
<p><img src="VUE/73.png" alt="image-20210326013352060"></p>
<p>这个错误告诉我们：加载normal.css文件必须有对应的loader。</p>
<p>在<a target="_blank" rel="noopener" href="https://webpack.docschina.org/loaders/">webpack的官方</a>中，我们可以找到如下关于样式的loader使用方法：</p>
<p><img src="VUE/75.png" alt="image-20210326013640249"></p>
<ul>
<li><p>按照官方先安装css-loader</p>
</li>
<li><p>按照官方配置webpack.config.js文件（暂时不配置style-loader看情况）</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&#x27;path&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  entry: <span class="string">&#x27;./src/main.js&#x27;</span>,</span><br><span class="line">  output: &#123;</span><br><span class="line">    path: path.resolve(__dirname, <span class="string">&#x27;dist&#x27;</span>),</span><br><span class="line">    filename: <span class="string">&#x27;bundle.js&#x27;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="built_in">module</span>: &#123;</span><br><span class="line">    rules: [</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="comment">// 正则表达式 \.对.进行转义，$为结束标志</span></span><br><span class="line">        <span class="comment">// 匹配.css文件</span></span><br><span class="line">        test: <span class="regexp">/\.css$/</span>,</span><br><span class="line">        use: [ <span class="string">&#x27;css-loader&#x27;</span> ]</span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<p>重新打包项目，运行index.html，你会发现样式并没有生效。原因：</p>
<ul>
<li>css-loader只负责加载css文件，但是并不负责将css具体样式嵌入到文档中</li>
<li>这个时候，我们还需要一个style-loader帮助我们处理。</li>
</ul>
<p>安装style-loader：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save-dev style-loader</span><br></pre></td></tr></table></figure>

<p>在webpack.config.js配置：</p>
<p><strong>注意：style-loader需要放在css-loader的前面。</strong>（官网也是这么配置的）</p>
<p>疑惑：不对吧？按照我们的逻辑，在处理css文件过程中，应该是css-loader先加载css文件，再由style-loader来进行进一步的处理，为什么会将style-loader放在前面呢？</p>
<p>答案：这次<strong>因为webpack在读取使用的loader的过程中，是按照从右向左的顺序读取的</strong>。否则打包报错：</p>
<p><img src="VUE/76.png" alt="image-20210326015106671"></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>: &#123;</span><br><span class="line">    rules: [</span><br><span class="line">      &#123;</span><br><span class="line">        test: <span class="regexp">/\.css$/</span>,</span><br><span class="line">        <span class="comment">// css-loader只负责将css文件进行加载</span></span><br><span class="line">        <span class="comment">// style-loader负责将样式添加到DOM中</span></span><br><span class="line">        <span class="comment">// 使用多个loader时, 是从右向左</span></span><br><span class="line">        use: [ <span class="string">&#x27;style-loader&#x27;</span>, <span class="string">&#x27;css-loader&#x27;</span> ]</span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<h4 id="2、less文件"><a href="#2、less文件" class="headerlink" title="2、less文件"></a>2、less文件</h4><p>如果我们希望在项目中使用less、scss、stylus来写样式，与css一样，webpack并不可以帮助我们处理。需要我们添加对应的loader。（以less为例，scss与stylus一样）</p>
<p>先创建一个less文件，依然放在css文件夹中。在less文件夹里编写我们的less代码。并在main.js里面依赖less文件，然后对项目进行打包（报错）：</p>
<p><img src="VUE/78.png" alt="image-20210326015525314"></p>
<p>继续在官方中查找，我们会找到less-loader相关的使用说明</p>
<p><img src="VUE/79.png" alt="image-20210326015729535"></p>
<ol>
<li><p>首先，还是需要安装对应的loader</p>
<p>注意：我们这里还安装了less，因为webpack会使用<strong>less对less文件进行编译解析</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install less less-loader --save-dev</span><br></pre></td></tr></table></figure>
</li>
<li><p>其次，修改对应的配置文件webpack.config.js</p>
<p>添加一个rules选项，用于处理.less文件</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">rules: [</span><br><span class="line">      &#123;</span><br><span class="line">        test: <span class="regexp">/\.css$/</span>,</span><br><span class="line">        <span class="comment">// css-loader只负责将css文件进行加载</span></span><br><span class="line">        <span class="comment">// style-loader负责将样式添加到DOM中</span></span><br><span class="line">        <span class="comment">// 使用多个loader时, 是从右向左</span></span><br><span class="line">        use: [ <span class="string">&#x27;style-loader&#x27;</span>, <span class="string">&#x27;css-loader&#x27;</span> ]</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        test: <span class="regexp">/\.less$/</span>,</span><br><span class="line">        use: [&#123;</span><br><span class="line">          loader: <span class="string">&quot;style-loader&quot;</span>, <span class="comment">// creates style nodes from JS strings</span></span><br><span class="line">        &#125;, &#123;</span><br><span class="line">          loader: <span class="string">&quot;css-loader&quot;</span> <span class="comment">// translates CSS into CommonJS</span></span><br><span class="line">        &#125;, &#123;</span><br><span class="line">          loader: <span class="string">&quot;less-loader&quot;</span>, <span class="comment">// compiles Less to CSS</span></span><br><span class="line">        &#125;]</span><br><span class="line">      &#125;,</span><br><span class="line">    ]</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h4 id="3、图片文件处理"><a href="#3、图片文件处理" class="headerlink" title="3、图片文件处理"></a>3、图片文件处理</h4><h5 id="1、url-loader与file-loader"><a href="#1、url-loader与file-loader" class="headerlink" title="1、url-loader与file-loader"></a>1、url-loader与file-loader</h5><ol>
<li><p>首先，我们在项目中加入两张图片：</p>
<ul>
<li>一张较小的图片test.jpg(小于13kb)，一张较大的图片timg.jpeg(大于13kb)</li>
<li>待会儿我们会针对这两张图片进行不同的处理</li>
</ul>
</li>
<li><p>将这两张图片放在src文件夹下的img文件夹里</p>
</li>
<li><p>先考虑在css样式中引用图片的情况，所以我更改了normal.css中的样式：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">  <span class="comment">/*background-color: red;*/</span></span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">url</span>(<span class="string">&quot;../img/test.jpg&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>如果我们现在直接打包，会出现如下问题</p>
<p><img src="VUE/80.png" alt="image-20210326021448341"></p>
</li>
<li><p>图片处理，我们使用url-loader来处理（在webpack5之后有改变，<a target="_blank" rel="noopener" href="https://webpack.docschina.org/guides/asset-modules/">详情</a>）</p>
</li>
<li><p>依然先安装url-loader</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install url-loader --save-dev</span><br></pre></td></tr></table></figure>
</li>
<li><p>在webpack.config.js配置：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">        test: <span class="regexp">/\.(png|jpg|gif|jpeg)$/</span>,</span><br><span class="line">        use: [</span><br><span class="line">          &#123;</span><br><span class="line">            loader: <span class="string">&#x27;url-loader&#x27;</span>,</span><br><span class="line">            options: &#123;</span><br><span class="line">              <span class="comment">// 当加载的图片, 小于limit时, 会将图片编译成base64字符串形式.</span></span><br><span class="line">              <span class="comment">// 当加载的图片, 大于limit时, 需要使用file-loader模块进行加载.</span></span><br><span class="line">              limit: <span class="number">13000</span>,</span><br><span class="line">            &#125;,</span><br><span class="line">          &#125;</span><br><span class="line">        ]</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>
</li>
<li><p>再次打包，运行index.html，就会发现我们的背景图片选出了出来。</p>
<ul>
<li><p>而仔细观察，你会发现背景图是通过base64显示出来的</p>
<p><img src="VUE/81.png" alt="image-20210326022233777"></p>
</li>
<li><p>OK，这就是limit属性的作用，当图片小于13kb时，对图片进行base64编码</p>
</li>
</ul>
</li>
<li><p>那么问题来了，如果大于13kb呢？我们将background的图片改成test02.jpg</p>
<ul>
<li><p>这次因为大于8kb的图片，会通过file-loader进行处理，但是我们的项目中并没有file-loader</p>
<p><img src="VUE/82.png" alt="image-20210326022436695"></p>
</li>
</ul>
</li>
<li><p>所以，我们需要安装file-loader</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install file-loader --save-dev</span><br></pre></td></tr></table></figure>
</li>
<li><p>在webpack.config.js配置：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">        test: <span class="regexp">/\.(png|jpe?g|gif)$/i</span>,</span><br><span class="line">        use: [</span><br><span class="line">          &#123;</span><br><span class="line">            loader: <span class="string">&#x27;file-loader&#x27;</span>,</span><br><span class="line">          &#125;,</span><br><span class="line">        ],</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>
</li>
<li><p>将项目重新打包，运行index.html，发现图片并未显示出来，控制台报404错误。</p>
</li>
</ol>
<p><img src="VUE/83.png"></p>
<p>原因：</p>
<ul>
<li><p>因为之前使用url-loader加载图片时是通过base64进行的，不需要单独一个文件来存储。</p>
</li>
<li><p>而现在使用的file-loader加载图片是将其看成一个完整的图片，就需要对它进行打包到dist文件夹里面，并对其进行重新命名（以哈希方式，防止重复）。</p>
</li>
<li><p>以后发布时连同bundle.js一起发布到服务器。所以打开dist文件夹下多了一个图片文件：</p>
<p><img src="VUE/84.png" alt="image-20210326024243736"></p>
</li>
<li><p>当浏览器加载图片的时候加载的是dist里打包的hash的图片文件，而不是我们开发时用的src/img下的图片。</p>
</li>
<li><p>控制台报404找不到浏览器需要加载的图片是因为浏览器是在index.html当前路径下查找图片的：</p>
<p><img src="VUE/85.png" alt="image-20210326024731783"></p>
</li>
<li><p>而我们的图片是在dist文件夹下面的，所以需要我们把路径改成dist/32f5576… .jpg</p>
</li>
<li><p>但我们不能改变css里面的代码，不能把它写死，应该让他在使用路径自动加上dist这个文件夹，所以我们需要对webpack.config.js的output属性进行修改，添加一个publicPath属性：值为<code>&#39;dist/&#39;</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">output: &#123;</span><br><span class="line">    path: path.resolve(__dirname, <span class="string">&#x27;dist&#x27;</span>),</span><br><span class="line">    filename: <span class="string">&#x27;bundle.js&#x27;</span>,</span><br><span class="line">    publicPath: <span class="string">&#x27;dist/&#x27;</span></span><br><span class="line">  &#125;,</span><br></pre></td></tr></table></figure>

<p>设置以后，以后只要用到url的时候，就会在url前面添加dist/</p>
</li>
</ul>
<p>将项目重新打包，运行index.html。发现图片加载成功。</p>
<p><strong>注意：开发时我们可以使用这种方式，但在之后，我们项目发布服务器的时候是要将index.html文件打包进dist文件夹里面的，此时图片就在index.html的当前路径下，不需要在路径前面添加dist/，所以当项目发布的时候需要将publicPath属性删除。</strong></p>
<h5 id="2、修改dist图片文件名称"><a href="#2、修改dist图片文件名称" class="headerlink" title="2、修改dist图片文件名称"></a>2、<strong>修改dist图片文件名称</strong></h5><p>我们发现webpack自动帮助我们在dist文件夹里生成一个非常长的名字的图片。</p>
<ul>
<li>这是一个32位hash值，目的是防止名字重复</li>
<li>但是，真实开发中，我们可能对打包的图片名字有一定的要求</li>
<li>比如，将所有的图片放在一个文件夹img中，跟上<strong>图片原来的名称</strong>，同时也要防止重复，所以也需要进行<strong>hash</strong>方式（其中ext是为了保存后缀名 ext = extension）：img/name.hash:8.ext</li>
</ul>
<p>所以，我们可以在options中添加上如下选项：</p>
<ul>
<li>img：文件要打包到的文件夹</li>
<li>name：获取图片原来的名字，放在该位置</li>
<li>hash:8：为了防止图片名称冲突，依然使用hash，但是我们只保留8位</li>
<li>ext：使用图片原来的扩展名</li>
</ul>
<p>对webpack.config.js进行修改：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">        test: <span class="regexp">/\.(png|jpg|gif|jpeg)$/</span>,</span><br><span class="line">        use: [</span><br><span class="line">          &#123;</span><br><span class="line">            loader: <span class="string">&#x27;url-loader&#x27;</span>,</span><br><span class="line">            options: &#123;</span><br><span class="line">              <span class="comment">// 当加载的图片, 小于limit时, 会将图片编译成base64字符串形式.</span></span><br><span class="line">              <span class="comment">// 当加载的图片, 大于limit时, 需要使用file-loader模块进行加载.</span></span><br><span class="line">              limit: <span class="number">13000</span>,</span><br><span class="line">              name: <span class="string">&#x27;img/[name].[hash:8].[ext]&#x27;</span></span><br><span class="line">            &#125;,</span><br><span class="line">          &#125;</span><br><span class="line">        ]</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>

<p>注意：**name、hash、ext要用中括号<code>[]</code>**，webpack会把<code>[]</code>里的值当成一个变量</p>
<ul>
<li>如果有些中括号<code>[]</code>,webpack在读取配置的时候会根据原有变量对应的值对<code>[]</code>里的内容进行替换</li>
<li>如果没有中括号<code>[]</code>,webpack会将其统一命名成name.png</li>
</ul>
<p>将项目进行打包后，发现配置成功：</p>
<p><img src="VUE/86.png" alt="image-20210326031643907"></p>
<h4 id="4、ES6语法处理（babel）"><a href="#4、ES6语法处理（babel）" class="headerlink" title="4、ES6语法处理（babel）"></a>4、ES6语法处理（babel）</h4><p>如果你仔细阅读webpack打包的js文件，发现写的ES6语法并没有转成ES5，那么就意味着可能一些对ES6还不支持的浏览器没有办法很好的运行我们的代码。</p>
<p>如果希望将ES6的语法转成ES5，那么就需要使用babel。而在webpack中，我们直接使用babel对应的loader就可以了。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save-dev babel-loader@7 babel-core babel-preset-es2015</span><br></pre></td></tr></table></figure>

<p>配置webpack.config.js文件：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">        test: <span class="regexp">/\.js$/</span>,</span><br><span class="line">        <span class="comment">// exclude: 排除</span></span><br><span class="line">        <span class="comment">// include: 包含</span></span><br><span class="line">        exclude: <span class="regexp">/(node_modules|bower_components)/</span>,</span><br><span class="line">        use: &#123;</span><br><span class="line">          loader: <span class="string">&#x27;babel-loader&#x27;</span>,</span><br><span class="line">          options: &#123;</span><br><span class="line">            presets: [<span class="string">&#x27;es2015&#x27;</span>]</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="6、webpack配置vue"><a href="#6、webpack配置vue" class="headerlink" title="6、webpack配置vue"></a>6、webpack配置vue</h3><p>后续项目中，我们会使用Vuejs进行开发，而且会以特殊的文件来组织vue的组件。所以，需要我们在我们的webpack环境中集成Vuejs。</p>
<p>现在，我们希望在项目中使用Vuejs，那么必然需要对其有依赖，所以需要先进行安装</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install vue --save</span><br></pre></td></tr></table></figure>

<p><strong>注意：因为我们后续是在实际项目中也会使用vue的，所以并不是开发时依赖</strong></p>
<p>在main.js引入vue</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 5.使用Vue进行开发</span></span><br><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> app = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  el: <span class="string">&#x27;#app&#x27;</span>,</span><br><span class="line">  data: &#123;</span><br><span class="line">      message: <span class="string">&#x27;Hello&#x27;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>在index.html里挂载app：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">  &#123;&#123;message&#125;&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>打包运行index.html，控制台报错：</p>
<p><img src="VUE/87.png" alt="image-20210326033342069"></p>
<p>原因：</p>
<ul>
<li><p>Vue在构建最终的发布版本的时候，它构建了两类版本：</p>
<ul>
<li><p>runtime-only：</p>
<p>代码中不允许有任何template（app算vue实例的template），因为该版本内没有包含对template编译解析的代码（only只包含运行，不包含编译）。</p>
</li>
<li><p>runtime-compiler：</p>
<p>代码中允许有template，因为该版本中有compiler可以用于编译template</p>
</li>
</ul>
</li>
</ul>
<p>解决方法：<a target="_blank" rel="noopener" href="https://cn.vuejs.org/v2/guide/installation.html#%E5%AF%B9%E4%B8%8D%E5%90%8C%E6%9E%84%E5%BB%BA%E7%89%88%E6%9C%AC%E7%9A%84%E8%A7%A3%E9%87%8A">Vue不同版本构建</a></p>
<p>修改webpack的配置，添加如下内容即可</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">resolve: &#123;</span><br><span class="line">    <span class="comment">// alias: 别名</span></span><br><span class="line">    alias: &#123;</span><br><span class="line">      <span class="string">&#x27;vue$&#x27;</span>: <span class="string">&#x27;vue/dist/vue.esm.js&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="VUE/88.png" alt="image-20210326034650420"></p>
<h3 id="7、Vue的正确格式（el与template区别）"><a href="#7、Vue的正确格式（el与template区别）" class="headerlink" title="7、Vue的正确格式（el与template区别）"></a>7、Vue的正确格式（el与template区别）</h3><p>正常运行之后，我们来考虑另外一个问题：</p>
<ul>
<li>如果我们希望将data中的数据显示在界面中，就必须是修改index.html</li>
<li>如果我们后面自定义了组件，也必须修改index.html来使用组件</li>
<li>但是html模板在之后的开发中，我并不希望手动的来频繁修改。</li>
</ul>
<p>SPA（single page web application）:单页面复用。只有一个index.html。多页面我们也可以通过单页面实现（通过路由跳转vue-router（前端路由））。所以一般我们不改index.html里的东西，只用于挂载vue实例和导入主js文件（到时候插件帮我们将index.html导入到dist文件夹的是会自动生成，不需要我们手动写）。</p>
<ol>
<li><p>修改index.html</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;./dist/bundle.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>在main.js了删除Vue实例前面的变量app，将之前写在index.html里面的vue实例的模板通过template搬到Vue实例中。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 5.使用Vue进行开发</span></span><br><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  el: <span class="string">&#x27;#app&#x27;</span>,</span><br><span class="line">  template:  <span class="string">`</span></span><br><span class="line"><span class="string">      &lt;div&gt;</span></span><br><span class="line"><span class="string">        &lt;h2&gt;&#123;&#123;message&#125;&#125;&lt;/h2&gt;</span></span><br><span class="line"><span class="string">        &lt;button @click=&quot;btnClick&quot;&gt;按钮&lt;/button&gt;</span></span><br><span class="line"><span class="string">        &lt;h2&gt;&#123;&#123;name&#125;&#125;&lt;/h2&gt;</span></span><br><span class="line"><span class="string">      &lt;/div&gt;</span></span><br><span class="line"><span class="string">  `</span>,</span><br><span class="line">  <span class="function"><span class="title">data</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      message: <span class="string">&#x27;Hello Webpack&#x27;</span>,</span><br><span class="line">      name: <span class="string">&#x27;coderwhy&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    <span class="function"><span class="title">btnClick</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p><strong>el与template的区别</strong>：</p>
<ul>
<li>在我们之前的学习中，我们知道el用于指定Vue要管理的DOM，可以帮助解析其中的指令、事件监听等等</li>
<li>而如果Vue实例中同时指定了template，那么<strong>template模板的内容会替换掉挂载的对应el的模板</strong>。</li>
<li>这样做的好处：之后我们就不需要在以后的开发中再次操作index.html，只需要在template中写入对应的标签即可。</li>
</ul>
<p>但是，书写template模块非常麻烦臃肿怎么办呢？</p>
<p>最终会将template模板中的内容进行抽离，会分成三部分书写：template、script、style，结构变得非常清晰</p>
</li>
<li><p>将vue实例的内容抽取成一个组件，在vue实例中使用抽取的组件：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 5.使用Vue进行开发</span></span><br><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> App = &#123;</span><br><span class="line">  template:  <span class="string">`</span></span><br><span class="line"><span class="string">  &lt;div&gt;</span></span><br><span class="line"><span class="string">    &lt;h2&gt;&#123;&#123;message&#125;&#125;&lt;/h2&gt;</span></span><br><span class="line"><span class="string">    &lt;button @click=&quot;btnClick&quot;&gt;按钮&lt;/button&gt;</span></span><br><span class="line"><span class="string">    &lt;h2&gt;&#123;&#123;name&#125;&#125;&lt;/h2&gt;</span></span><br><span class="line"><span class="string">  &lt;/div&gt;</span></span><br><span class="line"><span class="string">  `</span>,</span><br><span class="line">  <span class="function"><span class="title">data</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      message: <span class="string">&#x27;Hello Webpack&#x27;</span>,</span><br><span class="line">      name: <span class="string">&#x27;coderwhy&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    <span class="function"><span class="title">btnClick</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  el: <span class="string">&#x27;#app&#x27;</span>,</span><br><span class="line">  template: <span class="string">&#x27;&lt;App/&gt;&#x27;</span>,</span><br><span class="line">  components: &#123;</span><br><span class="line">    App</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
</li>
<li><p>将抽取出去的App组件当成一个对象，在src下创建一个vue文件夹，在该文件夹下创建app.js：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  template:  <span class="string">`</span></span><br><span class="line"><span class="string">  &lt;div&gt;</span></span><br><span class="line"><span class="string">    &lt;h2&gt;&#123;&#123;message&#125;&#125;&lt;/h2&gt;</span></span><br><span class="line"><span class="string">    &lt;button @click=&quot;btnClick&quot;&gt;按钮&lt;/button&gt;</span></span><br><span class="line"><span class="string">    &lt;h2&gt;&#123;&#123;name&#125;&#125;&lt;/h2&gt;</span></span><br><span class="line"><span class="string">  &lt;/div&gt;</span></span><br><span class="line"><span class="string">  `</span>,</span><br><span class="line">  <span class="function"><span class="title">data</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      message: <span class="string">&#x27;Hello Webpack&#x27;</span>,</span><br><span class="line">      name: <span class="string">&#x27;coderwhy&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    <span class="function"><span class="title">btnClick</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在main.js进行导入</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> App <span class="keyword">from</span> <span class="string">&#x27;./vue/app&#x27;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>但是存在一个问题：app.js里模板与js代码没有分离。</p>
<p>解决方法：在src/vue文件夹下创建App.vue文件</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;h2 class&#x3D;&quot;title&quot;&gt;&#123;&#123;message&#125;&#125;&lt;&#x2F;h2&gt;</span><br><span class="line">    &lt;button @click&#x3D;&quot;btnClick&quot;&gt;按钮&lt;&#x2F;button&gt;</span><br><span class="line">    &lt;h2&gt;&#123;&#123;name&#125;&#125;&lt;&#x2F;h2&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">  export default &#123;</span><br><span class="line">    name: &quot;App&quot;,</span><br><span class="line">    data() &#123;</span><br><span class="line">      return &#123;</span><br><span class="line">        message: &#39;Hello Webpack&#39;,</span><br><span class="line">        name: &#39;coderwhy&#39;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line">      btnClick() &#123;</span><br><span class="line"></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">  .title &#123;</span><br><span class="line">    color: green;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>

<p>在main.js里引入：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 5.使用Vue进行开发</span></span><br><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="comment">// import App from &#x27;./vue/app&#x27;</span></span><br><span class="line"><span class="keyword">import</span> App <span class="keyword">from</span> <span class="string">&#x27;./vue/App.vue&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  el: <span class="string">&#x27;#app&#x27;</span>,</span><br><span class="line">  template: <span class="string">&#x27;&lt;App/&gt;&#x27;</span>,</span><br><span class="line">  components: &#123;</span><br><span class="line">    App</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>打包运行报错：没有对应的loader。</p>
</li>
<li><p>安装vue-loader和vue-template-compiler</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install vue-loader vue-template-compiler --save-dev</span><br></pre></td></tr></table></figure>

<p>修改webpack.config.js的配置文件：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">        test: <span class="regexp">/\.vue$/</span>,</span><br><span class="line">        use: [<span class="string">&#x27;vue-loader&#x27;</span>]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>但依旧存在问题：缺少插件。在vue-loader14开始，如果要使用vue-loader，还必须另外给它配置个插件。</p>
<p>解决方法：降低版本，在package.json里进行修改</p>
<p>其中：<code>^</code>大于等于，表示在13 &lt; vue-loader &lt; 14在这中间安装一个版本。</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&quot;vue-loader&quot;: &quot;^13.0.0&quot;,</span><br></pre></td></tr></table></figure>

<p>在终端执行命令<code>npm install</code>重新安装</p>
</li>
<li><p>在vue编写其他组件</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;h2&gt;我是cpn组件的标题&lt;&#x2F;h2&gt;</span><br><span class="line">    &lt;p&gt;我是cpn组件的内容, 哈哈哈&lt;&#x2F;p&gt;</span><br><span class="line">    &lt;h2&gt;&#123;&#123;name&#125;&#125;&lt;&#x2F;h2&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">  export default &#123;</span><br><span class="line">    name: &quot;Cpn&quot;,</span><br><span class="line">    data() &#123;</span><br><span class="line">      return &#123;</span><br><span class="line">        name: &#39;CPN组件的name&#39;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line"></span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>

<p>在App.vue里使用Cpn.vue组件：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;h2 class&#x3D;&quot;title&quot;&gt;&#123;&#123;message&#125;&#125;&lt;&#x2F;h2&gt;</span><br><span class="line">    &lt;button @click&#x3D;&quot;btnClick&quot;&gt;按钮&lt;&#x2F;button&gt;</span><br><span class="line">    &lt;h2&gt;&#123;&#123;name&#125;&#125;&lt;&#x2F;h2&gt;</span><br><span class="line">    &lt;Cpn&#x2F;&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">  import Cpn from &#39;.&#x2F;Cpn.vue&#39;</span><br><span class="line"></span><br><span class="line">  export default &#123;</span><br><span class="line">    name: &quot;App&quot;,</span><br><span class="line">    components: &#123;</span><br><span class="line">      Cpn</span><br><span class="line">    &#125;,</span><br><span class="line">    data() &#123;</span><br><span class="line">      return &#123;</span><br><span class="line">        message: &#39;Hello Webpack&#39;,</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line">      btnClick() &#123;</span><br><span class="line"></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">  .title &#123;</span><br><span class="line">    color: green;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>若你在导入Cpn.vue的时候想要省略掉.vue的话，就需要修改webpack.config.js文件：在resolve里添加属性extensions，值为要省略的扩展名。如[‘.js’, ‘.css’, ‘.vue’]</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">resolve: &#123;</span><br><span class="line">    <span class="comment">// alias: 别名</span></span><br><span class="line">    extensions: [<span class="string">&#x27;.js&#x27;</span>, <span class="string">&#x27;.css&#x27;</span>, <span class="string">&#x27;.vue&#x27;</span>],</span><br><span class="line">    alias: &#123;</span><br><span class="line">      <span class="string">&#x27;vue$&#x27;</span>: <span class="string">&#x27;vue/dist/vue.esm.js&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>之后在App.vue里引入的时候就能省略扩展名</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">import Cpn from &#39;.&#x2F;Cpn&#39;</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h3 id="8、插件（plugin）"><a href="#8、插件（plugin）" class="headerlink" title="8、插件（plugin）"></a>8、插件（plugin）</h3><h4 id="1、插件（plugin）是什么"><a href="#1、插件（plugin）是什么" class="headerlink" title="1、插件（plugin）是什么"></a>1、插件（plugin）是什么</h4><ul>
<li>通常是用于对某个现有的架构进行扩展</li>
<li>webpack中的插件，就是对webpack现有功能的各种扩展，比如打包优化，文件压缩等等</li>
</ul>
<h4 id="2、loader和plugin区别"><a href="#2、loader和plugin区别" class="headerlink" title="2、loader和plugin区别"></a>2、loader和plugin区别</h4><ul>
<li>loader主要用于转换某些类型的模块，它是一个转换器和加载器。</li>
<li>plugin是插件，它是对webpack本身的扩展，是一个扩展器</li>
</ul>
<h4 id="3、plugin的使用过程"><a href="#3、plugin的使用过程" class="headerlink" title="3、plugin的使用过程"></a>3、plugin的使用过程</h4><ol>
<li>通过npm安装需要使用的plugins(某些webpack已经内置的插件不需要安装)</li>
<li>在webpack.config.js中的plugins中配置插件</li>
</ol>
<h4 id="4、webpack的常用插件"><a href="#4、webpack的常用插件" class="headerlink" title="4、webpack的常用插件"></a>4、webpack的常用插件</h4><h5 id="1、添加版权的Plugin（BannerPlugin）"><a href="#1、添加版权的Plugin（BannerPlugin）" class="headerlink" title="1、添加版权的Plugin（BannerPlugin）"></a>1、添加版权的Plugin（BannerPlugin）</h5><p>BannerPlugin可以为打包的文件添加版权声明，属于webpack自带的插件</p>
<p>可以按照下面的方式来修改webpack.config.js的文件：</p>
<p><img src="VUE/89.png" alt="image-20210326140918356"></p>
<p>重新打包程序：查看bundle.js文件的头部，看到如下信息:</p>
<p><img src="VUE/90.png" alt="image-20210326141001962"></p>
<h5 id="2、打包html的plugin（HtmlWebpackPlugin）"><a href="#2、打包html的plugin（HtmlWebpackPlugin）" class="headerlink" title="2、打包html的plugin（HtmlWebpackPlugin）"></a>2、打包html的plugin（HtmlWebpackPlugin）</h5><p>目前，我们的index.html文件是存放在项目的根目录下的。我们知道，在真实发布项目时，发布的是dist文件夹中的内容，但是dist文件夹中如果没有index.html文件，那么打包的js等文件也就没有意义了。所以，我们需要将index.html文件打包到dist文件夹中，这个时候就可以使用HtmlWebpackPlugin插件。</p>
<p>HtmlWebpackPlugin插件可以为我们做这些事情：</p>
<ul>
<li>自动生成一个index.html文件(可以指定模板来生成)</li>
<li>将打包的js文件，自动通过script标签插入到body中</li>
</ul>
<p>安装HtmlWebpackPlugin插件：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install html-webpack-plugin --save-dev</span><br></pre></td></tr></table></figure>

<p>使用插件，修改webpack.config.js文件中plugins部分的内容如下：</p>
<ul>
<li>这里的template表示根据什么模板来生成index.html</li>
<li>另外，我们需要删除之前在output中添加的publicPath属性</li>
<li>否则插入的script标签中的src可能会有问题</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> HtmlWebpackPlugin = <span class="built_in">require</span>(<span class="string">&#x27;html-webpack-plugin&#x27;</span>)</span><br><span class="line"></span><br><span class="line">plugins: [</span><br><span class="line">      <span class="keyword">new</span> webpack.BannerPlugin(<span class="string">&#x27;最终版权归aaa所有&#x27;</span>),</span><br><span class="line">      <span class="keyword">new</span> HtmlWebpackPlugin(&#123;</span><br><span class="line">        template: <span class="string">&#x27;index.html&#x27;</span></span><br><span class="line">      &#125;),</span><br><span class="line">],</span><br></pre></td></tr></table></figure>

<h5 id="3、js压缩的Plugin（uglifyjs-webpack-plugin）"><a href="#3、js压缩的Plugin（uglifyjs-webpack-plugin）" class="headerlink" title="3、js压缩的Plugin（uglifyjs-webpack-plugin）"></a>3、js压缩的Plugin（uglifyjs-webpack-plugin）</h5><p>在项目发布之前，我们必然需要对js等文件进行压缩处理，这里，我们就对打包的js文件进行压缩。我们使用一个第三方的插件uglifyjs-webpack-plugin，并且版本号指定1.1.1，和CLI2保持一致。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install uglifyjs-webpack-plugin@1.1.1 --save-dev</span><br></pre></td></tr></table></figure>

<p>修改webpack.config.js文件，使用插件：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> UglifyjsWebpackPlugin = <span class="built_in">require</span>(<span class="string">&#x27;uglifyjs-webpack-plugin&#x27;</span>)</span><br><span class="line"></span><br><span class="line">plugins: [</span><br><span class="line">      <span class="keyword">new</span> webpack.BannerPlugin(<span class="string">&#x27;最终版权归aaa所有&#x27;</span>),</span><br><span class="line">      <span class="keyword">new</span> HtmlWebpackPlugin(&#123;</span><br><span class="line">        template: <span class="string">&#x27;index.html&#x27;</span></span><br><span class="line">      &#125;),</span><br><span class="line">      <span class="keyword">new</span> UglifyjsWebpackPlugin()</span><br><span class="line">],</span><br></pre></td></tr></table></figure>

<p>注意：<code>uglifyjs-webpack-plugin丑化插件</code>会将js代码进行压缩处理，删除多余的注释、空行与空格，并将出现的变量使用简单的字母进行替换。也就是说，也会删除我们之前由<code>添加版权的插件BannerPlugin</code>生成的注释版权信息。</p>
<p>解决方法：由于在配置文件中，plugins为一个数组，只要将<code>uglifyjs-webpack-plugin丑化插件</code>放在<code>添加版权的插件BannerPlugin</code>前面，让<code>uglifyjs-webpack-plugin丑化插件</code>先执行，在执行<code>添加版权的插件BannerPlugin</code>。就可以实现在丑化的js文件中添加版本信息。</p>
<h5 id="4、搭建本地服务器"><a href="#4、搭建本地服务器" class="headerlink" title="4、搭建本地服务器"></a>4、搭建本地服务器</h5><p>我们在开发的时候，如果要一次次经过重建项目的方式去查看代码效果，这将给我们的开发带来很大麻烦，开发效率也很低。webpack提供了一个可选的本地开发服务器，这个本地服务器基于node.js搭建，内部使用express框架，每次点击保存的时候就可以实现我们想要的让浏览器自动刷新显示我们修改后的结果。等我们将代码修改完成后在将代码进行构建。</p>
<p>express框架的在Vue本地服务器的粗略理解：</p>
<p>express服务于某个文件夹，实时的监听该文件夹里面的代码有没有发生改动，一旦发生改变，它就会对这些改变的代码重新进行编译。重新编译的话一开始并不会生成最终的文件，而是会将其生成一些新的我们要编译的东西，但并没有将其存入磁盘里面，而是存进内存之中，方便开发人员进行测试。当真正进行发布的时候在存储进磁盘里面。</p>
<p>一句话总结：由于系统访问内存的速度要远远快于访问磁盘的速度。而express就相当于一个中间件，我们开发过程的编译生成的代码先通过express存储进内存，方便测试。发布的时候再有express将其存储进磁盘。</p>
<p>本地开发服务器它是一个单独的模块，在webpack中使用之前需要先安装它</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save-dev webpack-dev-server@2.9.3</span><br></pre></td></tr></table></figure>

<p>devserver也是作为webpack中的一个选项，选项本身可以设置如下属性：</p>
<ul>
<li>contentBase：为哪一个文件夹提供本地服务，默认是根文件夹，我们这里要填写./dist</li>
<li>inline：页面实时刷新</li>
<li>port：端口号（默认8080）</li>
<li>historyApiFallback：在SPA页面中，依赖HTML5的history模式</li>
</ul>
<p>webpack.config.js文件配置修改如下：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">devServer: &#123;</span><br><span class="line">  contentBase: <span class="string">&#x27;./dist&#x27;</span>,</span><br><span class="line">  inline: <span class="literal">true</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>我们可以再package.json配置另外一个scripts：–open参数表示直接打开浏览器</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&quot;scripts&quot;: &#123;</span><br><span class="line">    &quot;test&quot;: &quot;echo \&quot;Error: no test specified\&quot; &amp;&amp; exit 1&quot;,</span><br><span class="line">    &quot;build&quot;: &quot;webpack&quot;,</span><br><span class="line">    &quot;dev&quot;: &quot;webpack-dev-server --open&quot;</span><br><span class="line">  &#125;,</span><br></pre></td></tr></table></figure>

<h4 id="5、开发与发布配置文件的分离"><a href="#5、开发与发布配置文件的分离" class="headerlink" title="5、开发与发布配置文件的分离"></a>5、开发与发布配置文件的分离</h4><p>在webpack.config.js配置文件中，我们进行了很多的配置，有些配置是在开发时才需要使用（如：本地服务器的配置），而生产环境下需要将其移除；有些配置是在发布的时候才需要使用（如：js丑化插件），而开发环境不需要使用（js丑化后不利于开发人员调试）。而我们在生产到发布的进行转换时，每次都需要删除开发时注释，在去添加生产时注释。如果项目代码量大的话，这也是一种灾难。</p>
<p>解决方法：</p>
<p>对webpack.config.js配置文件中的配置进行分离，将其中<code>公共的配置（base.config.js）</code>抽离出来，再将剩余配置分成<code>开发时配置（dev.config.js）</code>与<code>生产时配置（prod.config.js）</code>。我们在开发的时候就使用base.config.js + dev.config.js，发布的时候就使用base.config.js + prod.config.js。</p>
<p>实现步骤：</p>
<ol>
<li><p>在项目根目录新建文件夹build，在build文件夹里新建base.config.js、dev.config.js、prod.config.js三个js配置文件。</p>
<ul>
<li><p>base.config.js：一些公共的配置，开发时和生产时都需要使用到的配置。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&#x27;path&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> webpack = <span class="built_in">require</span>(<span class="string">&#x27;webpack&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> HtmlWebpackPlugin = <span class="built_in">require</span>(<span class="string">&#x27;html-webpack-plugin&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> UglifyjsWebpackPlugin = <span class="built_in">require</span>(<span class="string">&#x27;uglifyjs-webpack-plugin&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  entry: &#123;</span><br><span class="line">      app: <span class="string">&#x27;./src/main.js&#x27;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  output: &#123;</span><br><span class="line">    path: path.resolve(__dirname, <span class="string">&#x27;dist&#x27;</span>),</span><br><span class="line">    filename: <span class="string">&#x27;bundle.js&#x27;</span>,</span><br><span class="line">    <span class="comment">// publicPath: &#x27;dist/&#x27;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="built_in">module</span>: &#123;</span><br><span class="line">    rules: [</span><br><span class="line">      &#123;</span><br><span class="line">        test: <span class="regexp">/\.css$/</span>,</span><br><span class="line">        <span class="comment">// css-loader只负责将css文件进行加载</span></span><br><span class="line">        <span class="comment">// style-loader负责将样式添加到DOM中</span></span><br><span class="line">        <span class="comment">// 使用多个loader时, 是从右向左</span></span><br><span class="line">        use: [ <span class="string">&#x27;style-loader&#x27;</span>, <span class="string">&#x27;css-loader&#x27;</span> ]</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        test: <span class="regexp">/\.less$/</span>,</span><br><span class="line">        use: [&#123;</span><br><span class="line">          loader: <span class="string">&quot;style-loader&quot;</span>, <span class="comment">// creates style nodes from JS strings</span></span><br><span class="line">        &#125;, &#123;</span><br><span class="line">          loader: <span class="string">&quot;css-loader&quot;</span> <span class="comment">// translates CSS into CommonJS</span></span><br><span class="line">        &#125;, &#123;</span><br><span class="line">          loader: <span class="string">&quot;less-loader&quot;</span>, <span class="comment">// compiles Less to CSS</span></span><br><span class="line">        &#125;]</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        test: <span class="regexp">/\.(png|jpg|gif|jpeg)$/</span>,</span><br><span class="line">        use: [</span><br><span class="line">          &#123;</span><br><span class="line">            loader: <span class="string">&#x27;url-loader&#x27;</span>,</span><br><span class="line">            options: &#123;</span><br><span class="line">              <span class="comment">// 当加载的图片, 小于limit时, 会将图片编译成base64字符串形式.</span></span><br><span class="line">              <span class="comment">// 当加载的图片, 大于limit时, 需要使用file-loader模块进行加载.</span></span><br><span class="line">              limit: <span class="number">13000</span>,</span><br><span class="line">              name: <span class="string">&#x27;img/[name].[hash:8].[ext]&#x27;</span></span><br><span class="line">            &#125;,</span><br><span class="line">          &#125;</span><br><span class="line">        ]</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        test: <span class="regexp">/\.js$/</span>,</span><br><span class="line">        <span class="comment">// exclude: 排除</span></span><br><span class="line">        <span class="comment">// include: 包含</span></span><br><span class="line">        exclude: <span class="regexp">/(node_modules|bower_components)/</span>,</span><br><span class="line">        use: &#123;</span><br><span class="line">          loader: <span class="string">&#x27;babel-loader&#x27;</span>,</span><br><span class="line">          options: &#123;</span><br><span class="line">            presets: [<span class="string">&#x27;es2015&#x27;</span>]</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        test: <span class="regexp">/\.vue$/</span>,</span><br><span class="line">        use: [<span class="string">&#x27;vue-loader&#x27;</span>]</span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;,</span><br><span class="line">  resolve: &#123;</span><br><span class="line">    <span class="comment">// alias: 别名</span></span><br><span class="line">    extensions: [<span class="string">&#x27;.js&#x27;</span>, <span class="string">&#x27;.css&#x27;</span>, <span class="string">&#x27;.vue&#x27;</span>],</span><br><span class="line">    alias: &#123;</span><br><span class="line">      <span class="string">&#x27;vue$&#x27;</span>: <span class="string">&#x27;vue/dist/vue.esm.js&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  plugins: [</span><br><span class="line">    <span class="keyword">new</span> webpack.BannerPlugin(<span class="string">&#x27;最终版权归aaa所有&#x27;</span>),</span><br><span class="line">    <span class="keyword">new</span> HtmlWebpackPlugin(&#123;</span><br><span class="line">      template: <span class="string">&#x27;index.html&#x27;</span></span><br><span class="line">    &#125;)</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>dev.config.js：开发时需要的配置。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  devServer: &#123;</span><br><span class="line">    contentBase: <span class="string">&#x27;./dist&#x27;</span>,</span><br><span class="line">    inline: <span class="literal">true</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>prod.config.js：生产时需要的配置。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> UglifyjsWebpackPlugin = <span class="built_in">require</span>(<span class="string">&#x27;uglifyjs-webpack-plugin&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    plugins: [</span><br><span class="line">    <span class="keyword">new</span> UglifyjsWebpackPlugin()</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>对当前配置文件进行合并，安装合并插件webpack-merge，来帮助我们对配置文件进行合并：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install webpack-merge@4.1.5 --save-dev</span><br></pre></td></tr></table></figure>
</li>
<li><p>在dev.config.js与prod.config.js配置文件里对webpack-merge插件进行导入使用</p>
<p>dev.config.js：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> webpackMerge = <span class="built_in">require</span>(<span class="string">&#x27;webpack-merge&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> baseConfig = <span class="built_in">require</span>(<span class="string">&#x27;./base.config&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = webpackMerge(baseConfig, &#123;</span><br><span class="line">  devServer: &#123;</span><br><span class="line">    contentBase: <span class="string">&#x27;./dist&#x27;</span>,</span><br><span class="line">    inline: <span class="literal">true</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>prod.config.js：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> UglifyjsWebpackPlugin = <span class="built_in">require</span>(<span class="string">&#x27;uglifyjs-webpack-plugin&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> webpackMerge = <span class="built_in">require</span>(<span class="string">&#x27;webpack-merge&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> baseConfig = <span class="built_in">require</span>(<span class="string">&#x27;./base.config&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = webpackMerge(baseConfig, &#123;</span><br><span class="line">  plugins: [</span><br><span class="line">    <span class="keyword">new</span> UglifyjsWebpackPlugin()</span><br><span class="line">  ]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
</li>
<li><p>修改package.json文件里的脚本（scripts）：指定运行时的配置文件。否则打包时会报找不到webpack.config.js配置文件的错误</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&quot;scripts&quot;: &#123;</span><br><span class="line">    &quot;test&quot;: &quot;echo \&quot;Error: no test specified\&quot; &amp;&amp; exit 1&quot;,</span><br><span class="line">    &quot;build&quot;: &quot;webpack --config ./build/prod.config.js&quot;,</span><br><span class="line">    &quot;dev&quot;: &quot;webpack-dev-server --open --config ./build/dev.config.js&quot;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>
</li>
<li><p>但是存在问题：项目打包并没有打包在dist文件夹中，而是打包在了build下新建的一个dist文件夹里</p>
<p>原因：在base.config.js配置文件里，我们配置的绝对路径是当前文件的dist文件夹：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">path: path.resolve(__dirname, <span class="string">&#x27;dist&#x27;</span>),</span><br></pre></td></tr></table></figure>

<p>而base.config.js配置文件是在build文件夹里，所以他会在build文件夹中新建dist文件夹存放打包的东西。所以主要是修改绝对路径的值就行了：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">path: path.resolve(__dirname, <span class="string">&#x27;../dist&#x27;</span>),</span><br></pre></td></tr></table></figure>



</li>
</ol>
<h2 id="六、Vue-cli脚手架"><a href="#六、Vue-cli脚手架" class="headerlink" title="六、Vue-cli脚手架"></a>六、Vue-cli脚手架</h2><h3 id="1、什么是脚手架"><a href="#1、什么是脚手架" class="headerlink" title="1、什么是脚手架"></a>1、什么是脚手架</h3><p>如果你在开发大型项目, 那么你需要, 并且必然需要使用Vue CLI。</p>
<ul>
<li>使用Vue.js开发大型应用时，我们需要考虑代码目录结构、项目结构和部署、热加载、代码单元测试等事情</li>
<li>如果每个项目都要手动完成这些工作，那无疑效率比较低效，所以通常我们会使用一些脚手架工具来帮助完成这些事情</li>
</ul>
<p>CLI是什么意思？</p>
<ul>
<li>CLI是Command-Line Interface, 翻译为命令行界面, 但是俗称脚手架</li>
<li>Vue CLI是一个官方发布 vue.js 项目脚手架</li>
<li>使用 vue-cli 可以快速搭建Vue开发环境以及对应的webpack配置</li>
</ul>
<h3 id="2、使用Vue-cli的前提"><a href="#2、使用Vue-cli的前提" class="headerlink" title="2、使用Vue-cli的前提"></a>2、使用Vue-cli的前提</h3><ol>
<li><p>Nodejs</p>
<p><a target="_blank" rel="noopener" href="http://nodejs.cn/download/">安装NodeJS</a></p>
<p><strong>检测安装的版本</strong>：</p>
<ul>
<li><p>默认情况下自动安装Node和NPM</p>
</li>
<li><p>Vue CLI 4.x 需要 <a target="_blank" rel="noopener" href="https://nodejs.org/">Node.js</a><a target="_blank" rel="noopener" href="https://nodejs.org/"> </a> v8.9 或更高版本 (推荐 v10 以上)。（官方推荐）</p>
</li>
</ul>
<p>什么是NPM：</p>
<ul>
<li>NPM的全称是Node Package Manager</li>
<li>是一个NodeJS包管理和分发工具，已经成为了非官方的发布Node模块（包）的标准。</li>
<li>后续我们会经常使用NPM来安装一些开发过程中依赖包.</li>
</ul>
</li>
<li><p>webpack</p>
<p>Vue.js官方脚手架工具就使用了webpack模板</p>
<ul>
<li>对所有的资源会压缩等优化操作</li>
<li>它在开发过程中提供了一套完整的功能，能够使得我们开发过程中变得高效。</li>
</ul>
</li>
</ol>
<h3 id="3、安装Vue-cli"><a href="#3、安装Vue-cli" class="headerlink" title="3、安装Vue-cli"></a>3、安装Vue-cli</h3><p>安装Vue脚手架：默认下载最新版本（Vue-cli4）</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npm install @vue/cli -g</span><br><span class="line"><span class="meta">#</span><span class="bash"> OR</span></span><br><span class="line">yarn global add @vue/cli</span><br></pre></td></tr></table></figure>

<p>若想要安装Vue-cli3版本的，只需要在@vue/cli后面加上@版本号就行了：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install @vue/cli@3.0.4 -g</span><br></pre></td></tr></table></figure>

<p>其实，Vue-cli3与Vue-cli4之间只有一些微小的差别，具体查看：</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://cli.vuejs.org/migrating-from-v3/#vue-cli-plugin-unit-jest">官网</a></li>
<li><a target="_blank" rel="noopener" href="http://t.zoukankan.com/Super-scarlett-p-12495902.html">相关blog</a></li>
</ul>
<p>关于旧版本（Vue-cli1.x或2.x）</p>
<blockquote>
<p>Vue CLI 的包名称由 <code>vue-cli</code> 改成了 <code>@vue/cli</code>。 如果你已经全局安装了旧版本的 <code>vue-cli</code> (1.x 或 2.x)，你需要先通过 <code>npm uninstall vue-cli -g</code> 或 <code>yarn global remove vue-cli</code> 卸载它。</p>
</blockquote>
<p>安装之后，你就可以用这个命令来验证它是否安装成功以及检查其版本是否正确：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vue --version</span><br></pre></td></tr></table></figure>

<p><img src="VUE/91.png" alt="image-20210326200446984"></p>
<p>注意：上面安装的是Vue CLI4的版本，如果需要想按照Vue CLI2的方式初始化项目时不可以的。如果你在Vue-cli3.x/4.x环境下仍然需要使用旧版本Vue-cli2.x的模板，你可以全局安装一个桥接工具：（之后就可以按照Vue CLI2的方式初始化项目）</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npm install -g @vue/cli-init</span><br><span class="line"><span class="meta">#</span><span class="bash"> `vue init` 的运行效果将会跟 `vue-cli@2.x` 相同</span></span><br><span class="line">vue init webpack my-project</span><br></pre></td></tr></table></figure>

<p><img src="VUE/92.png" alt="image-20210326200544804"></p>
<p>Vue CLI2.x与Vue CLI3.x/4.x怎么初始化项目：</p>
<ul>
<li><p>Vue CLI2初始化项目</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vue init webpack my-project</span><br></pre></td></tr></table></figure>
</li>
<li><p>Vue CLI3初始化项目</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vue create my-project</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h3 id="4、Vue-CLI2项目详解"><a href="#4、Vue-CLI2项目详解" class="headerlink" title="4、Vue CLI2项目详解"></a>4、Vue CLI2项目详解</h3><h4 id="1、Vue-CLI2项目的创建"><a href="#1、Vue-CLI2项目的创建" class="headerlink" title="1、Vue CLI2项目的创建"></a>1、Vue CLI2项目的创建</h4><p>在终端输入<code>vue init webpack 项目名称</code>来初始化Vue CLI2项目：</p>
<ol>
<li><p>Project name：项目名称。括号里面是默认值，即直接回车就默认使用括号里面的内容，但不能包含大写字母。我们使用<code>vue init webpack 项目名称</code>命令使用的<code>项目名称</code>并不是项目的真正名称，而是会根据<code>项目名称</code>创建一个文件夹。项目的名称可以在这里进行命名。（默认就是<code>项目名称</code>）</p>
</li>
<li><p>Project description：项目描述。（默认：A Vue.js project）</p>
</li>
<li><p>Author：作者。（会默认从.gitconfig(C:\Users\Admin.gitconfig)在读取信息）</p>
</li>
<li><p>Vue build：Vue项目构建的方式：</p>
<ul>
<li><p>Runtime + Compiler：推荐大多数用户使用（暂时使用，以后会用Runtime-only的）</p>
</li>
<li><p>Runtime-only：常用</p>
<p>原因：</p>
<ul>
<li>Runtime-only打包后的程序比Runtime + Compiler小</li>
<li>Runtime-only的运行效率更高</li>
</ul>
<p><img src="VUE/94.png" alt="image-20210326202702064"></p>
</li>
</ul>
</li>
<li><p>Install vue-router：是否安装vue路由</p>
</li>
<li><p>Use ESLint to lint your code：是否使用ESLint 检测代码规范</p>
<p>若选择了y，则它会让你选择一种代码规范：</p>
<ul>
<li>Standard：标准规范</li>
<li>Airbnb：爱彼迎。（民宿）</li>
<li>none：不选择，自己配置</li>
</ul>
<p>就算开启，之后也可以在config/index.js中将<code>useEslint</code>的值从true改成false进行关闭。</p>
<p><img src="VUE/95.png" alt="image-20210326203148480"></p>
</li>
<li><p>Set up uint tests：单元测试</p>
</li>
<li><p>Set e2e(end to end 端到端测试) tests with NightWatch</p>
</li>
<li><p>Should we run <code>npm install</code> for you after the project has been create? </p>
</li>
</ol>
<p><img src="VUE/93.png" alt="image-20210326201123763"></p>
<h4 id="2、Vue-cli2项目的目录结构详解"><a href="#2、Vue-cli2项目的目录结构详解" class="headerlink" title="2、Vue-cli2项目的目录结构详解"></a>2、Vue-cli2项目的目录结构详解</h4><p>项目创建完成之后，vue-cli2会帮我们生成一些文件：</p>
<p>我们怎么看一个项目：</p>
<ol>
<li><p>先看package.json，里面有运行的一些脚本scripts</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;scripts&quot;</span>: &#123;</span><br><span class="line">    <span class="string">&quot;dev&quot;</span>: <span class="string">&quot;webpack-dev-server --inline --progress --config build/webpack.dev.conf.js&quot;</span>,</span><br><span class="line">    <span class="string">&quot;start&quot;</span>: <span class="string">&quot;npm run dev&quot;</span>,</span><br><span class="line">    <span class="string">&quot;lint&quot;</span>: <span class="string">&quot;eslint --ext .js,.vue src&quot;</span>,</span><br><span class="line">    <span class="string">&quot;build&quot;</span>: <span class="string">&quot;node build/build.js&quot;</span></span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>

<ul>
<li><p><strong>npm run dev</strong>：本地服务器。执行的指令为<code>webpack-dev-server --inline --progress --config build/webpack.dev.conf.js</code></p>
</li>
<li><p><strong>npm run start</strong>：所有项目的默认开始命令。实际上执行的是<code>npm run dev</code>。（如上）</p>
</li>
<li><p><strong>npm run lint</strong>：执行一些约束</p>
</li>
<li><p><strong>npm run build</strong>：打包项目。实际执行的是<code>node build/build.js</code>命令。</p>
<p>关于node指令：</p>
<p>node为js提供了运行环境，可以直接执行js文件，不需要借助html文件去访问浏览器。</p>
<p>nodejs本身是用C++开发的，里面的核心为：<code>V8引擎</code>（Google开发的，用C++写的）。</p>
<ul>
<li>一般js代码的执行过程是：js -&gt;字节码（class）-&gt;浏览器。（慢）</li>
<li>V8引擎（可以直接跳过字节码，直接把js编译成二进制代码）：js-&gt;二进制代码-&gt;浏览器（快）</li>
</ul>
<p>node的V8引擎为js代码的执行做了一个底层支撑。</p>
</li>
</ul>
</li>
<li><p><strong>构建项目</strong>：由于执行打包命令<strong>npm run build</strong>，执行的是<code>node build/build.js</code>命令。所以再去看build/build.js</p>
<ol>
<li>rm：通过执行rm命令删除之前打包生成的dist文件夹</li>
<li>webpack：通过webpackConfig执行相关配置</li>
<li>webpackConfig：const webpackConfig = require(‘./webpack.prod.conf’)</li>
</ol>
</li>
<li><p>查看build/webpack.prod.conf</p>
<p>merge(baseWebpackConfig,{})</p>
</li>
<li><p>再查看baseWebpackConfig</p>
<p>里面抽取了很多东西（有很多之前讲过的插件）</p>
<p><img src="VUE/99.png" alt="image-20210327013437402"></p>
</li>
<li><p><strong>开发项目</strong>：由于执行本地服务器命令<strong>npm run dev</strong>,执行的指令为<code>webpack-dev-server --inline --progress --config build/webpack.dev.conf.js</code></p>
</li>
<li><p>查看build/webpack.dev.conf.js</p>
<p>merge(baseWebpackConfig,{})</p>
</li>
<li><p>build文件夹中的其他配置都是为前面的配置服务的</p>
</li>
<li><p>在看看config中的配置：</p>
<p>index.js中主要是配置了两个模块：dev、build</p>
<ul>
<li><p>dev配置都是定义了一些变量：</p>
<ul>
<li><p>host: ‘localhost’</p>
</li>
<li><p>port: 8080</p>
</li>
<li><p>autoOpenBrowser: false</p>
<p>……</p>
</li>
</ul>
</li>
<li><p>build配置的是一些index.html的模板路径，资源等等</p>
</li>
</ul>
<p><img src="VUE/98.png" alt="image-20210327013206531"></p>
</li>
<li><p>**<code>node_modules</code>**：放置项目依赖的包</p>
</li>
<li><p>**<code>src</code>**：进行开发的地方</p>
</li>
<li><p>**<code>static</code>**：存放静态资源的地方。到时候打包的时候，Vue-cli会将static文件里的内容原封不动的复制到dist文件夹中。若你把一些图片资源放到src/assets中，Vue-cli会根据你图片的大小与url-loader中<code>limit</code>里的数值进行比对，并将图片重新命名后放入dist。</p>
<p>其中有一个文件：.gitkeep：如果不管该文件夹是否为空，Vue-cli打包的时候都会将其打包上传到服务器。</p>
</li>
<li><p>**<code>.babelrc</code>**：ES代码相关转化配置</p>
<p>其中”browsers”: [“&gt; 1%”, “last 2 versions”, “not ie &lt;= 8”]：</p>
<ul>
<li>“&gt; 1%”：市场份额大于1%</li>
<li>“last 2 versions”：最后的两个版本</li>
<li>“not ie &lt;= 8”：不支持低于IE8版本</li>
</ul>
</li>
<li><p>**<code>.editorconfig</code>**：代码规范</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">root &#x3D; true</span><br><span class="line"></span><br><span class="line">[*]</span><br><span class="line">charset &#x3D; utf-8</span><br><span class="line">indent_style &#x3D; space</span><br><span class="line">indent_size &#x3D; 2</span><br><span class="line">end_of_line &#x3D; lf</span><br><span class="line">insert_final_newline &#x3D; true</span><br><span class="line">trim_trailing_whitespace &#x3D; true</span><br></pre></td></tr></table></figure>

<p>root = true：根据root进行查找文件。Vue-cli在查找.editorconfig文件的时候，只有在root = true的时候才会开始解析。</p>
<p>end_of_line = lf：换行。值<code>lf</code>不同操作系统可能不同，具体网上查看即可</p>
<p>insert_final_newline = true：文件结尾是否空出一行</p>
<p>trim_trailing_whitespace = true：清除掉多余无效的空格</p>
</li>
<li><p>**<code>.eslintignore</code>**：忽略eslint规范的文件夹配置。</p>
</li>
<li><p>**<code>.gitignore</code>**：Git查看忽略的文件夹配置</p>
</li>
<li><p>**<code>.eslintrc.js</code>**：eslint代码检测的配置的js文件</p>
</li>
<li><p>**<code>.postcssrc.js</code>**：在进行css转化的时候配置的js文件</p>
</li>
<li><p>**<code>index.html</code>**：dist文件夹中index.html的模板</p>
</li>
<li><p>package.json与package-lock.json：</p>
<p>在package.json中的插件与依赖存在许多版本，但大部分都不是安装对应版本的依赖（一般会大于设定值），安装的依赖由两个符号决定：</p>
<ul>
<li><code>^</code>开头：改变的是最后一个数值。如<code>^4.15.0</code>，他就只会安装4.15.0到4.15.9之间的依赖</li>
<li><code>~</code>开头：改变的可以是最后两个值。如<code>~4.15.0</code>，它就会安装在4版本内大于4.15.0版本的其它版本，如4.20.7版本。但绝对不会安装到5.xx.x的版本。</li>
</ul>
<p>而package-lock.json就是对应package.json中设定的版本号与实际安装的版本之间的映射关系的js配置文件。</p>
<p>一句话：package.json为依赖安装的大概版本，package-lock.json为依赖安装的实际版本。</p>
</li>
<li><p>README.md：书写项目相关文档</p>
</li>
</ol>
<p><img src="VUE/96.png" alt="image-20210326203911636"></p>
<h3 id="5、Runtime-Compiler和Runtime-only的区别"><a href="#5、Runtime-Compiler和Runtime-only的区别" class="headerlink" title="5、Runtime-Compiler和Runtime-only的区别"></a>5、Runtime-Compiler和Runtime-only的区别</h3><h4 id="1、代码区别"><a href="#1、代码区别" class="headerlink" title="1、代码区别"></a>1、代码区别</h4><p>他们的区别只在一个文件里面：main.js</p>
<ul>
<li><p>Runtime-Compiler的main.js：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> App <span class="keyword">from</span> <span class="string">&#x27;./App&#x27;</span></span><br><span class="line"></span><br><span class="line">Vue.config.productionTip = <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* eslint-disable no-new */</span></span><br><span class="line"><span class="keyword">new</span> Vue(&#123;</span><br><span class="line">	el: <span class="string">&#x27;#app&#x27;</span>,</span><br><span class="line">	template: <span class="string">&#x27;&lt;App/&gt;&#x27;</span>,</span><br><span class="line">	components: &#123; App &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>app的使用步骤：</p>
<ol>
<li>先导入</li>
<li>然后在components里进行注册</li>
<li>最后在template里使用</li>
</ol>
</li>
<li><p>Runtime-only的main.js：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> App <span class="keyword">from</span> <span class="string">&#x27;./App&#x27;</span></span><br><span class="line"></span><br><span class="line">Vue.config.productionTip = <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(App);</span><br><span class="line"></span><br><span class="line"><span class="comment">/* eslint-disable no-new */</span></span><br><span class="line"><span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  el: <span class="string">&#x27;#app&#x27;</span>,</span><br><span class="line">  <span class="comment">// render: h =&gt; h(App)</span></span><br><span class="line">  render: <span class="function"><span class="keyword">function</span> (<span class="params">h</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> h(App)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>app的使用步骤：</p>
<ol>
<li>先导入</li>
<li>使用render进行渲染</li>
</ol>
<p>注意：Runtime-only并不是完全没有template标签，在App.vue里面存在template标签。但是不妨碍代码的执行。因为App.vue里面的template标签在使用之前已经进行渲染了。</p>
</li>
</ul>
<p>  Vue.config.productionTip = false：发布产品的时候（npm run build）会给你一些提示信息；但我在开发的时候（npm run dev）不需要这些提示信息。所以默认为false。但项目真正需要构建build的时候可以改为true。</p>
<h4 id="2、Vue程序的运行过程中的区别"><a href="#2、Vue程序的运行过程中的区别" class="headerlink" title="2、Vue程序的运行过程中的区别"></a>2、Vue程序的运行过程中的区别</h4><p>Vue程序的运行过程：</p>
<p><img src="VUE/97.png" alt="image-20210327001054379"></p>
<ul>
<li><p>对于Runtime-Compiler：template -(解析)-&gt; ast-(编译) -&gt; render -&gt; vdom(虚拟DOM) -&gt; 真实DOM（UI）</p>
</li>
<li><p>对于Runtime-only：render -&gt; vdom(虚拟DOM) -&gt; 真实DOM（UI）</p>
<p>所以，对于Runtime-only有Runtime-Compiler不具备的优势：</p>
<ol>
<li>性能更高 </li>
<li>代码量更少（没有Compiler编译template标签的那部分代码）（6KB左右）</li>
</ol>
</li>
</ul>
<h4 id="3、Runtime-only的实现"><a href="#3、Runtime-only的实现" class="headerlink" title="3、Runtime-only的实现"></a>3、Runtime-only的实现</h4><h5 id="1、对于Runtime-only的render的解析："><a href="#1、对于Runtime-only的render的解析：" class="headerlink" title="1、对于Runtime-only的render的解析："></a>1、对于Runtime-only的render的解析：</h5><p>内部有一个函数<code>h</code>，其实h就是createElement。其中的内容是用来替换app模板里的内容。</p>
<p>函数createElement的用法：</p>
<ol>
<li><p>普通用法: createElement(‘标签’, {标签的属性}, [ ‘内容’ ])：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">render: <span class="function"><span class="keyword">function</span>(<span class="params">createElement</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> createElement(<span class="string">&#x27;h2&#x27;</span>,&#123;<span class="attr">class</span>: <span class="string">&#x27;box&#x27;</span>&#125;,[<span class="string">&#x27;Hello World&#x27;</span>])</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>运行发现：<h2 class="box">Hello World<h2/>代替了<div id="app"></div></p>
</li>
<li><p>普通用法的扩展：既然内容部分是一个数组，那么就可以在里面继续嵌套标签：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">return</span> createElement(<span class="string">&#x27;h2&#x27;</span>,</span><br><span class="line">      &#123;<span class="attr">class</span>: <span class="string">&#x27;box&#x27;</span>&#125;,</span><br><span class="line">      [<span class="string">&#x27;Hello World&#x27;</span>, createElement(<span class="string">&#x27;button&#x27;</span>, [<span class="string">&#x27;按钮&#x27;</span>])])</span><br></pre></td></tr></table></figure>

<p>运行发现：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h2</span> <span class="attr">class</span>=<span class="string">&quot;box&quot;</span>&gt;</span></span><br><span class="line">	&quot;Hello World&quot;</span><br><span class="line">	<span class="tag">&lt;<span class="name">button</span>&gt;</span>按钮<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>传入组件对象</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> cpn = &#123;</span><br><span class="line">  template: <span class="string">&#x27;&lt;div&gt;&#123;&#123;message&#125;&#125;&lt;/div&gt;&#x27;</span>,</span><br><span class="line">  <span class="function"><span class="title">data</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      message: <span class="string">&#x27;我是组件message&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> createElement(cpn)</span><br></pre></td></tr></table></figure>

<p>运行发现：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span>我是组件message<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>有上可得我们可以将App组件传入createElement函数，得到的结果就是Runtime-only的main.js中的写法：只是将createElement换成h。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">render: function (h) &#123;</span><br><span class="line">    return h(App)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h5 id="2、对Runtime-only的App-vue中的template标签的解惑"><a href="#2、对Runtime-only的App-vue中的template标签的解惑" class="headerlink" title="2、对Runtime-only的App.vue中的template标签的解惑"></a>2、对Runtime-only的App.vue中的template标签的解惑</h5><p>Runtime-only的Vue程序的运行过程：render -&gt; vdom(虚拟DOM) -&gt; 真实DOM（UI）。并没有对标签template进行编译解析。那怎么解决Runtime-only的App.vue中的template标签呢？</p>
<p>解答：Runtime-only的App.vue中的template标签并不需要经历template -(解析)-&gt; ast-(编译) -&gt; render的过程，因为在App.vue中的template标签最终被编译出来的就是一个普通的对象，而在这个普通的对象里面，已经将template全部渲染成render函数了。即我们最终用到的App这个对象里面是没有template标签的。所以我们并不需要使用Runtime-Compiler对App进行编译解析了，因为App里面已经没有template标签了。只需要使用我们的Runtime-only进行打包就行了。</p>
<p>那么.vue文件中的template是由谁处理的了?</p>
<p>是由vue-template-compiler对它进行解析处理的</p>
<h3 id="6、Vue-cli3-4（以下以Vue-cli3为例，Vue-cli4差别不大）"><a href="#6、Vue-cli3-4（以下以Vue-cli3为例，Vue-cli4差别不大）" class="headerlink" title="6、Vue-cli3/4（以下以Vue-cli3为例，Vue-cli4差别不大）"></a>6、Vue-cli3/4（以下以Vue-cli3为例，Vue-cli4差别不大）</h3><h4 id="1、nvue-cli-3-与-2-版本有很大区别："><a href="#1、nvue-cli-3-与-2-版本有很大区别：" class="headerlink" title="1、nvue-cli 3 与 2 版本有很大区别："></a>1、nvue-cli 3 与 2 版本有很大区别：</h4><ul>
<li>vue-cli 3 是基于 webpack 4 打造，vue-cli 2 还是 webapck 3</li>
<li>vue-cli 3 的设计原则是“0配置”，移除了根目录下的的配置文件，build和config等目录</li>
<li>vue-cli 3 提供了 vue ui 命令，提供了可视化配置，更加人性化</li>
<li>移除了static文件夹，新增了public文件夹，并且index.html移动到public中</li>
</ul>
<h4 id="2、Vue-CLI3项目详解（Vue-CLI4在创建过程只是多了版本选择）"><a href="#2、Vue-CLI3项目详解（Vue-CLI4在创建过程只是多了版本选择）" class="headerlink" title="2、Vue CLI3项目详解（Vue CLI4在创建过程只是多了版本选择）"></a>2、Vue CLI3项目详解（Vue CLI4在创建过程只是多了版本选择）</h4><h5 id="1、Vue-CLI3项目的创建"><a href="#1、Vue-CLI3项目的创建" class="headerlink" title="1、Vue CLI3项目的创建"></a>1、Vue CLI3项目的创建</h5><p>在终端输入：<code>vue create my-project</code>进行Vue CLI3的项目创建。</p>
<p>创建步骤：</p>
<ol>
<li><p>Please pick a prset：选择配置方式</p>
<ol>
<li>default（bable，eslint）：默认配置</li>
<li>Manually select feature：手动选择特性</li>
<li>若你之前有保存过你的一些特性，可以在这里选择。</li>
</ol>
</li>
<li><p>Check the feature needed for your project：若上一步选择Manually select feature，则这一步会让你选择需要加入的特性。空格选中或反选，回车确定。一些特性说明：</p>
<ul>
<li>TypeScript：相当于ES的超级（有点像java）</li>
<li>Progressive Web App （PWA）Support：先进的web app。里面增加了很多功能：<ul>
<li>可以进行大量的缓存</li>
<li>拥有推送通知的功能</li>
</ul>
</li>
</ul>
</li>
<li><p>Where do you prefer placing config for Babel,PostCSS,ESLint,etc.?</p>
<p>选择对应的配置的生成位置，有两个选择：</p>
<ul>
<li>In dedicated config files：单独生成一个对应的配置文件</li>
<li>In package.json：生成在package.json文件中</li>
</ul>
</li>
<li><p>Save this as a preset for future projects?是否将刚才自己选择的配置保存下来。</p>
</li>
<li><p>Save preset as :若选择保存下来，则会让你设置保存的名称。这样在创建其他项目的时候，第1步就能选择你保存的配置。</p>
<p>如何删除自己保存的配置：</p>
<p>在.vuerc(C:\Users\Admin.vuerc)文件里进行删除</p>
</li>
<li><p>Pick the package manager to use when installing dependencies：在安装依赖的时候选择使用哪个包管理工具，两个选择：</p>
<ul>
<li>Use Yarn</li>
<li>Use NPM</li>
</ul>
</li>
</ol>
<p><img src="VUE/100.png" alt="image-20210327022546764"></p>
<p>Vue-cli3在创建项目时会在当前目录下创建.git文件。它会默认将代码放进git仓库进行管理。</p>
<h5 id="2、Vue-cli3项目的目录结构详解"><a href="#2、Vue-cli3项目的目录结构详解" class="headerlink" title="2、Vue-cli3项目的目录结构详解"></a>2、Vue-cli3项目的目录结构详解</h5><p>项目创建完成之后，vue-cli3会帮我们生成一些文件：</p>
<ul>
<li>**<code>node_modules</code>**：放置项目依赖的包</li>
<li>**<code>public</code>**：相当于之前的static。存放静态资源的地方。到时候打包的时候，Vue-cli会将public文件里的内容原封不动的复制到dist文件夹中。里面存放两个文件：<ul>
<li>favicon.ico：Vue的小图标</li>
<li>index.html</li>
</ul>
</li>
<li>**<code>src</code>**：进行开发的地方</li>
<li>**<code>.browserslistrc</code>**：浏览器相关的配置</li>
<li>**<code>.gitignore</code>**：Git查看忽略的文件夹配置</li>
<li>**<code>babel.config.js</code>**：babel的相关配置</li>
<li>package.json与package-lock.json</li>
<li>**<code>postcss.config.js</code>**：在进行css转化的时候配置的js文件，用来配置转化一些特殊的CSS文件</li>
<li>README.md：书写项目相关文档</li>
</ul>
<p><img src="VUE/101.png" alt="image-20210327025419742"></p>
<p>运行Vue-cli3：npm run serve</p>
<p>查看package.json中的scripts属性：</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&quot;scripts&quot;: &#123;</span><br><span class="line">    &quot;serve&quot;: &quot;vue-cli-service serve&quot;,</span><br><span class="line">    &quot;build&quot;: &quot;vue-cli-service build&quot;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>

<p>main.js文件：</p>
<ul>
<li><p>Vue-cli3：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> App <span class="keyword">from</span> <span class="string">&#x27;./App.vue&#x27;</span></span><br><span class="line"></span><br><span class="line">Vue.config.productionTip = <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> Vue(&#123;</span><br><span class="line">    render: <span class="function"><span class="params">h</span>=&gt;</span> h(App),</span><br><span class="line">&#125;).$mount(<span class="string">&#x27;#app&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p>其实使用el: ‘#app’挂载app的时候，其底层还是使用了mount方法，只是多了个判断。所以这里是使用了mount方法代替el挂载App。</p>
</li>
<li><p>Vue-cli4：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createApp &#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> App <span class="keyword">from</span> <span class="string">&#x27;./App.vue&#x27;</span></span><br><span class="line"></span><br><span class="line">createApp(App).mount(<span class="string">&#x27;#app&#x27;</span>)</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h4 id="3、Vue-cli3配置文件的查看与修改"><a href="#3、Vue-cli3配置文件的查看与修改" class="headerlink" title="3、Vue-cli3配置文件的查看与修改"></a>3、Vue-cli3配置文件的查看与修改</h4><p>vue-cli 3 的设计原则是“0配置”，移除了根目录下的配置文件，build和config等目录。但是配置并不是说消失了，因为要用到webpack，配置是必须的。所以vue-cli 3只是将配置隐藏起来了。那么我们该怎么查看与修改隐藏的配置文件呢？有三种方法：</p>
<ul>
<li><p>通过命令<code>vue ui</code>打开vue-cli 3为我们提供的ui图形界面，端口默认为8000（查看与修改）</p>
<p><img src="VUE/111.png" alt="image-20210327150713404"></p>
<ul>
<li><p>仪表盘：</p>
<p><img src="VUE/104.png" alt="image-20210327144223290"></p>
</li>
<li><p>插件：</p>
<p><img src="VUE/105.png" alt="image-20210327144450855"></p>
</li>
<li><p>依赖</p>
<p><img src="VUE/106.png" alt="image-20210327144610556"></p>
</li>
<li><p>配置</p>
<p><img src="VUE/107.png" alt="image-20210327145616237"></p>
<p><img src="VUE/108.png" alt="image-20210327145738257"></p>
</li>
<li><p>任务：</p>
<p><img src="VUE/109.png" alt="image-20210327150018316"></p>
</li>
</ul>
</li>
<li><p>在项目文件的根目录下有node_modules@vue\cli-service\lib\Service.js（查看）</p>
<p><img src="VUE/112.png" alt="image-20210327151311282"></p>
<p><img src="VUE/110.png" alt="image-20210327150122955"></p>
</li>
<li><p>在项目的根目录下创建文件：<code>vue.config.js</code>（固定）进行自定义配置。如果我们对默认的配置不满意的话，可以在该文件下写我们的配置，最终项目打包时会将<code>vue.config.js</code>里编写的配置与项目隐藏的配置合并一起作为项目的总配置。（修改）</p>
<p><img src="VUE/113.png" alt="image-20210327151516954"></p>
</li>
</ul>
<h2 id="七、箭头函数"><a href="#七、箭头函数" class="headerlink" title="七、箭头函数"></a>七、箭头函数</h2><h3 id="1、箭头函数的基本使用"><a href="#1、箭头函数的基本使用" class="headerlink" title="1、箭头函数的基本使用"></a>1、箭头函数的基本使用</h3><p>箭头函数: 也是一种定义函数的方式</p>
<p>定义函数的方式：</p>
<ul>
<li><p>function：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> aaa = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line"></span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>对象字面量中定义函数：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">    <span class="function"><span class="title">bbb</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>ES6中的箭头函数：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> ccc = <span class="function">() =&gt;</span> &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h3 id="2、箭头函数的参数与返回值"><a href="#2、箭头函数的参数与返回值" class="headerlink" title="2、箭头函数的参数与返回值"></a>2、箭头函数的参数与返回值</h3><p>箭头函数最基础的写法</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> ccc = <span class="function">() =&gt;</span> &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="1、箭头函数的参数"><a href="#1、箭头函数的参数" class="headerlink" title="1、箭头函数的参数"></a>1、箭头函数的参数</h4><h5 id="1、没参数"><a href="#1、没参数" class="headerlink" title="1、没参数"></a>1、没参数</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> ccc = <span class="function">() =&gt;</span> &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="2、有两个参数"><a href="#2、有两个参数" class="headerlink" title="2、有两个参数"></a>2、有两个参数</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> sum = <span class="function">(<span class="params">num1, num2</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> num1 + num2</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="3、只有一个参数（括号可删除）"><a href="#3、只有一个参数（括号可删除）" class="headerlink" title="3、只有一个参数（括号可删除）"></a>3、只有一个参数（括号可删除）</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> power = <span class="function"><span class="params">num</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> num * num</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="2、箭头函数的返回值"><a href="#2、箭头函数的返回值" class="headerlink" title="2、箭头函数的返回值"></a>2、箭头函数的返回值</h4><h5 id="1、函数代码块中有多行代码时"><a href="#1、函数代码块中有多行代码时" class="headerlink" title="1、函数代码块中有多行代码时"></a>1、函数代码块中有多行代码时</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> test = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// 1.打印Hello World</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;Hello World&#x27;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 2.打印Hello Vuejs</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;Hello Vuejs&#x27;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="2、函数代码块中只有一行代码（大括号与return可以省略）"><a href="#2、函数代码块中只有一行代码（大括号与return可以省略）" class="headerlink" title="2、函数代码块中只有一行代码（大括号与return可以省略）"></a>2、函数代码块中只有一行代码（大括号与return可以省略）</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> mul = <span class="function">(<span class="params">num1, num2</span>) =&gt;</span> num1 * num2</span><br></pre></td></tr></table></figure>

<p>当函数没有返回值，返回undefined</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Hello Demo</span></span><br><span class="line"><span class="comment">// undefined</span></span><br><span class="line"><span class="keyword">const</span> demo = <span class="function">() =&gt;</span> <span class="built_in">console</span>.log(<span class="string">&#x27;Hello Demo&#x27;</span>)</span><br></pre></td></tr></table></figure>

<h3 id="3、什么时候使用箭头函数"><a href="#3、什么时候使用箭头函数" class="headerlink" title="3、什么时候使用箭头函数"></a>3、什么时候使用箭头函数</h3><p>箭头函数一般使用在<strong>作为函数参数</strong>传入一个函数时</p>
<h3 id="4、this的使用"><a href="#4、this的使用" class="headerlink" title="4、this的使用"></a>4、this的使用</h3><ul>
<li>以function函数的形式调用时，this永远都是window </li>
<li>以箭头函数的形式调用时，this就是调用方法的那个对象</li>
</ul>
<p>这是因为两者的执行方式不同：</p>
<ul>
<li>function函数是执行了call函数，在call函数中将window作为第一个参数传入，使用this就是window</li>
<li>箭头函数是向外层作用域中, 一层层查找this, 直到有this的定义。</li>
</ul>
<p>例子：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">    <span class="function"><span class="title">aaa</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">      <span class="comment">// 通过function函数方式</span></span><br><span class="line">      <span class="built_in">setTimeout</span>(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">          <span class="built_in">console</span>.log(<span class="string">&#x27;1&#x27;</span> + <span class="built_in">this</span>); <span class="comment">// 1window</span></span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">          <span class="built_in">console</span>.log(<span class="string">&#x27;2&#x27;</span> + <span class="built_in">this</span>); <span class="comment">// 2window</span></span><br><span class="line">        &#125;)</span><br><span class="line">      &#125;)</span><br><span class="line">	 <span class="comment">// 通过箭头函数方式</span></span><br><span class="line">      <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">          <span class="built_in">console</span>.log(<span class="string">&#x27;3&#x27;</span> + <span class="built_in">this</span>); <span class="comment">// 3window</span></span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line">      	<span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">          <span class="built_in">console</span>.log(<span class="string">&#x27;4&#x27;</span> + <span class="built_in">this</span>); <span class="comment">// 4obj</span></span><br><span class="line">        &#125;)</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>解析：</p>
<ul>
<li>1、3好理解，都是通过function函数，this都是window</li>
<li>2是找到上一层，发现是通过function函数方式，箭头函数指向外层的this，外层this是function的this 指向window</li>
<li>4也是找到上一层，上一层还是个箭头函数，就继续往上找，找到了aaa( )</li>
</ul>
<p>总结：function函数的this是由调用者决定，而箭头函数是直接看代码就能知道this是谁，嵌套的话，只要遇到一个function，就由function的this作为最终this。</p>
<h2 id="八、Vue-router路由"><a href="#八、Vue-router路由" class="headerlink" title="八、Vue-router路由"></a>八、Vue-router路由</h2><h3 id="1、认识路由"><a href="#1、认识路由" class="headerlink" title="1、认识路由"></a>1、认识路由</h3><p>路由是一个网络工程里面的术语</p>
<p><strong>路由</strong>（<strong>routing</strong>）就是通过互联的网络把信息从源地址传输到目的地址的活动.     — 维基百科</p>
<p>生活中的路由器是做什么的? 路由和转送</p>
<ul>
<li><p>路由是决定数据包从<strong>来源</strong>到<strong>目的地</strong>的路径</p>
</li>
<li><p>转送将<strong>输入端</strong>的数据转移到合适的<strong>输出端</strong></p>
</li>
<li><p>路由器的工作原理：</p>
<p><img src="VUE/115.png" alt="image-20210327171111712"></p>
</li>
</ul>
<p>路由中有一个非常重要的概念叫路由表。路由表本质上就是一个<strong>映射表</strong>, 决定了数据包的指向。</p>
<h3 id="2、网页开发的发展过程"><a href="#2、网页开发的发展过程" class="headerlink" title="2、网页开发的发展过程"></a>2、网页开发的发展过程</h3><h4 id="1、后端路由阶段"><a href="#1、后端路由阶段" class="headerlink" title="1、后端路由阶段"></a>1、<strong>后端路由阶段</strong></h4><p>早期的网站开发整个HTML页面是由服务器来渲染的。<strong>服务器直接生产渲染好对应的HTML页面</strong>, 返回给客户端进行展示。（jsp + servelet ）（jsp = java server page）</p>
<p>但是, 一个网站, 这么多页面服务器如何处理呢?</p>
<ul>
<li>一个页面有自己对应的网址, 也就是URL</li>
<li>URL会发送到服务器, 服务器会通过正则对该URL进行匹配, 并且最后交给一个Controller进行处理。</li>
<li>Controller进行各种处理, 最终生成HTML或者数据, 返回给前端。</li>
<li>这就完成了一个IO操作。</li>
</ul>
<p>上面的这种操作, 就是<strong>后端路由</strong>：</p>
<ul>
<li>当我们页面中需要请求不同的<strong>路径</strong>内容时, 交给服务器来进行处理, 服务器渲染好整个页面, 并且将页面返回给客户顿。</li>
<li>这种情况下渲染好的页面, 不需要单独加载任何的js和css, 可以直接交给浏览器展示, 这样也有利SEO的优化。</li>
</ul>
<p>后端路由的缺点:</p>
<ul>
<li>一种情况是整个页面的模块由后端人员来编写和维护的。</li>
<li>另一种情况是前端开发人员如果要开发页面, 需要通过PHP和Java等语言来编写页面代码。</li>
<li>而且通常情况下HTML代码和数据以及对应的逻辑会混在一起, 编写和维护都是非常糟糕的事情。</li>
</ul>
<p><img src="VUE/116.png" alt="01-后端路由阶段"></p>
<h4 id="2、前后端分离阶段"><a href="#2、前后端分离阶段" class="headerlink" title="2、前后端分离阶段"></a>2、前后端分离阶段</h4><p>随着Ajax的出现, 有了前后端分离的开发模式：</p>
<ul>
<li>后端只提供API接口来返回数据, 前端通过Ajax获取数据, 并且可以通过JavaScript将数据渲染到页面中。</li>
<li>这样做最大的优点就是前后端责任的清晰, 后端专注于数据上, 前端专注于交互和可视化上。</li>
<li>并且当移动端(iOS/Android)出现后, 后端不需要进行任何处理, 依然使用之前的一套API即可。</li>
<li>目前很多的网站依然采用这种模式开发。</li>
</ul>
<p><img src="VUE/117.png" alt="02-前端后端分离阶段"></p>
<h4 id="3、单页面复应用（SPA）阶段"><a href="#3、单页面复应用（SPA）阶段" class="headerlink" title="3、单页面复应用（SPA）阶段"></a>3、<strong>单页面复应用（SPA）阶段</strong></h4><p>其实SPA最主要的特点就是在前后端分离的基础上加了一层前端路由，也就是前端来维护一套路由规则</p>
<p>上面的这种操作, 就是<strong>前端路由</strong>，前端路由的核心是什么呢？</p>
<ul>
<li>改变URL，但是页面不进行整体的刷新，即不用向服务器请求任何资源。</li>
</ul>
<p><img src="VUE/118.png" alt="03-SPA页面页面的阶段"></p>
<p>前端路由中url和组件的关系：</p>
<p><img src="VUE/119.png" alt="04-前端路由中url和组件的关系"></p>
<p><strong>总结</strong>：（前端路由与后端路由、前端渲染与后端渲染）</p>
<ul>
<li><strong>前端路由与后端路由的区别：看是谁在管理url与页面组件的映射关系</strong>。由前端管理就是前端路由，由后台管理就是后端路由。</li>
<li><strong>前端渲染与后端渲染的区别：看是谁在进行页面的开发渲染。</strong>即上面第一阶段后端路由阶段就是由后台开发渲染页面，称为后端渲染。而第二第三阶段都是由前端开发渲染页面，称为前端渲染。</li>
</ul>
<h3 id="3、前端路由的规则"><a href="#3、前端路由的规则" class="headerlink" title="3、前端路由的规则"></a>3、前端路由的规则</h3><p>怎么实现改变URL，但是页面不进行整体的刷新</p>
<p>有两种方法：URL的hash 与 HTML5的history模式</p>
<ul>
<li><p>URL的hash</p>
<p>URL的hash也就是锚点(#), 本质上是改变window.location的href属性。</p>
<p>我们可以通过直接赋值location.hash来改变href, 但是页面不发生刷新</p>
<p><img src="VUE/120.png" alt="image-20210327194500087"></p>
</li>
<li><p>HTML5的history模式。history接口是HTML5新增的, 它有五种模式改变URL而不刷新页面：</p>
<p><strong>pushState</strong>、<strong>back/forward</strong>、<strong>replaceState</strong>、<strong>go</strong></p>
<ul>
<li><p><strong>pushState</strong>：类似于栈结构，可以实现页面的前进与后退。（实际上每使用一次pushState,都会生成一个新页面代替掉当前页面，浏览器会缓存当前页面的前后页面，可以实现前进与后退）</p>
<ul>
<li>参数1：data数据</li>
<li>参数2：title标题</li>
<li>参数3：url路径</li>
</ul>
<p><img src="VUE/121.png" alt="image-20210327195727256"></p>
</li>
<li><p><strong>back()/forward()**：back()往后，forward()向前（在</strong>pushState**可以使用这两个方法）</p>
<p><img src="VUE/122.png" alt="image-20210327200723241"></p>
<p><img src="VUE/125.png" alt="image-20210327202012268"></p>
</li>
<li><p><strong>replaceState</strong>：修改当前页面。（单一页面，并不存在前进后退。即back()/forward()方法不能使用）</p>
<ul>
<li>参数1：data数据</li>
<li>参数2：title标题</li>
<li>参数3：url路径</li>
</ul>
<p><img src="VUE/123.png" alt="image-20210327201422199"></p>
</li>
<li><p><strong>go</strong>：可以在当前页面指定跳转到前或后页面。参数为跳转的页面数。<code>-</code>表示后退，否则为前进，数值的大小为跳转的页面数。</p>
<p>不适用于replaceState。</p>
<ul>
<li>history.back() 等价于 history.go(-1)</li>
<li>history.forward() 则等价于 history.go(1)</li>
<li>这三个接口等同于浏览器界面的前进后退。</li>
</ul>
<p><img src="VUE/124.png" alt="image-20210327201802927"></p>
</li>
</ul>
</li>
</ul>
<h3 id="4、vue-router"><a href="#4、vue-router" class="headerlink" title="4、vue-router"></a>4、vue-router</h3><h4 id="1、认识vue-router"><a href="#1、认识vue-router" class="headerlink" title="1、认识vue-router"></a>1、认识vue-router</h4><p>目前前端流行的三大框架, 都有自己的路由实现:</p>
<ul>
<li>Angular的ngRouter</li>
<li>React的ReactRouter</li>
<li>Vue的vue-router</li>
</ul>
<p>vue-router：</p>
<ul>
<li>vue-router是Vue.js官方的路由插件，它和vue.js是深度集成的，适合用于构建单页面应用。</li>
<li><a target="_blank" rel="noopener" href="https://router.vuejs.org/zh/">vue-router官网</a></li>
</ul>
<p>vue-router是基于路由和组件的</p>
<ul>
<li>路由用于设定访问路径, 将路径和组件映射起来.</li>
<li>在vue-router的单页面应用中, 页面的路径的改变就是组件的切换.</li>
</ul>
<h4 id="2、安装与使用vue-router"><a href="#2、安装与使用vue-router" class="headerlink" title="2、安装与使用vue-router"></a>2、安装与使用vue-router</h4><p>因为我们已经学习了webpack, 后续开发中我们主要是通过<strong>工程化的方式</strong>进行开发的。所以在后续, 我们直接使用npm来安装路由即可。</p>
<p>步骤一: 安装vue-router</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install vue-router --save</span><br></pre></td></tr></table></figure>

<p>步骤二: 在模块化工程中使用它(因为是一个插件, 所以可以通过Vue.use()来安装路由功能)</p>
<ul>
<li>第一步：导入路由对象，并且调用 Vue.use(VueRouter)</li>
<li>第二步：创建路由实例，并且传入路由映射配置</li>
<li>第三步：在Vue实例中挂载创建的路由实例</li>
</ul>
<p>使用vue-router的步骤:</p>
<ol>
<li><p>第一步: 创建路由对象VueRouter</p>
<ol>
<li>配置路由相关的信息</li>
<li>通过Vue.use(插件), 安装插件</li>
<li>创建VueRouter对象，配置路由和组件之间的应用关系</li>
<li>将router对象传入到Vue实例</li>
<li>到main.js中的Vue实例中挂载router对象</li>
</ol>
<p><img src="D:\blog\XGH-blog\source_posts\VUE\129.png" alt="image-20210328012024702"></p>
<p><img src="VUE/126.png" alt="image-20210328011844476"></p>
</li>
<li><p>第二步: 创建路由组件</p>
<p>在src/cpmponents文件夹下创建组件Home.vue与About.vue</p>
<p><img src="VUE/127.png" alt="image-20210328011915263"></p>
</li>
<li><p>第三步:配置路由映射: 组件和路径映射关系。在main.js中的routes。</p>
<p><img src="VUE/128.png" alt="image-20210328011939671"></p>
</li>
<li><p>第四步:使用路由: 通过<router-link>和<router-view>都是vue-router内定义过的全局组件</p>
<p><router-link>：用于建立与对应组件之间关系，最终会被渲染成<a>标签（页面效果）在App.vue的模板中使用</p>
<p><router-view>：用于占位，展示页面，该标签会根据当前的路径, 动态渲染出不同的组件。<router-view>用在哪里，组件对应模板就渲染在哪里。网页的其他内容, 比如顶部的标题/导航, 或者底部的一些版权信息等会和<router-view>处于同一个等级。在路由切换时, 切换的是<router-view>挂载的组件, 其他内容不会发生改变。</p>
<p><img src="VUE/130.png" alt="image-20210328012112753"></p>
</li>
</ol>
<p>最终效果：</p>
<p><img src="VUE/131.png" alt="image-20210328012306928"></p>
<h4 id="3、细节处理"><a href="#3、细节处理" class="headerlink" title="3、细节处理"></a>3、细节处理</h4><h5 id="1、路由的默认值与修改为history模式"><a href="#1、路由的默认值与修改为history模式" class="headerlink" title="1、路由的默认值与修改为history模式"></a>1、路由的默认值与修改为history模式</h5><h6 id="1、路由的默认值"><a href="#1、路由的默认值" class="headerlink" title="1、路由的默认值"></a>1、路由的默认值</h6><p>我们这里还有一个不太好的实现:</p>
<ul>
<li>默认情况下, 进入网站的首页, 我们希望<router-view>渲染<strong>首页</strong>的内容。</li>
<li>但是我们的实现中, 默认没有显示首页组件, 必须让用户点击才可以。</li>
</ul>
<p>如何可以让一开始的<strong>路径</strong>就默认跳到到<strong>首页</strong>, 并且<router-view>渲染首页组件呢?</p>
<p>我只需要在router的index.js只修改，在配置路由和组件之间的应用关系时再配置一下重定向就可以了</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> routes = [</span><br><span class="line">  &#123;</span><br><span class="line">    path: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">    <span class="comment">// redirect重定向</span></span><br><span class="line">    redirect: <span class="string">&#x27;/home&#x27;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    path: <span class="string">&#x27;/home&#x27;</span>,</span><br><span class="line">    component: Home</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    path: <span class="string">&#x27;/about&#x27;</span>,</span><br><span class="line">    component: About</span><br><span class="line">  &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure>

<p>配置解析:</p>
<ul>
<li>我们在routes中又配置了一个映射。</li>
<li>path配置的是根路径: <code>/</code></li>
<li>redirect是重定向, 也就是我们将根路径重定向到/home的路径下, 这样就可以得到我们想要的结果了</li>
</ul>
<h6 id="2、修改为history模式"><a href="#2、修改为history模式" class="headerlink" title="2、修改为history模式"></a>2、修改为history模式</h6><p>我们前面说过改变路径的方式有两种:</p>
<ul>
<li>URL的hash</li>
<li>HTML5的history</li>
</ul>
<p><strong>默认情况下, 路径的改变使用的URL的hash。</strong>即路径后面会存在只有在hash模式才会出现的<code>#</code>，这其实是hash的锚点。</p>
<p>如果希望使用HTML5的history模式,可以在router的index.js里的router实例的属性进行如下配置即可:</p>
<p><img src="VUE/132.png" alt="image-20210328013637723"></p>
<p>效果：</p>
<p><img src="VUE/133.png" alt="image-20210328014008677"></p>
<h5 id="2、router-link补充"><a href="#2、router-link补充" class="headerlink" title="2、router-link补充"></a>2、router-link补充</h5><p>在前面的<router-link>中, 我们只是使用了一个属性: to, 用于指定跳转的路径。</p>
<p><router-link>中的属性：</p>
<ul>
<li><p>to：用于指定跳转的路径</p>
</li>
<li><p>tag: tag可以指定<router-link>之后渲染成什么组件（默认渲染成<a>）, 比如下面的代码会被渲染成一个<button>元素, 而不是<a></p>
</li>
<li><p>replace: replace不会留下history记录, 所以指定replace的情况下, 后退键返回不能返回到上一个页面中。（默认为pushState）</p>
</li>
<li><p>active-class: 当<router-link>对应的路由匹配成功时, 会自动给当前元素设置一个router-link-active的class, 设置active-class可以修改默认的名称。</p>
<ul>
<li><p>在进行高亮显示的导航菜单或者底部tabbar时, 会使用到该类。</p>
</li>
<li><p>但是通常不会修改类的属性, 会直接使用默认的router-link-active即可。</p>
<p><img src="VUE/134.png" alt="image-20210328014507832"></p>
</li>
<li><p>exact-active-class</p>
<ul>
<li>类似于active-class, 只是在精准匹配下才会出现的class。</li>
<li>后面看到嵌套路由时, 我们再看下这个属性。</li>
</ul>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;router-link to=<span class="string">&quot;/home&quot;</span> tag=<span class="string">&quot;button&quot;</span> replace active-<span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;active&quot;</span>&gt;首页&lt;/router-link&gt;</span><br><span class="line">&lt;router-link to=<span class="string">&quot;/about&quot;</span> tag=<span class="string">&quot;button&quot;</span> replace active-<span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;active&quot;</span>&gt;关于&lt;/router-link&gt;</span><br></pre></td></tr></table></figure>

<ul>
<li><p>若存在很多<router-link>标签，在每一个<router-link>标签内修改active-class的值将十分繁琐，所以有一个全局的配置，在router的index.js里的router实例的属性进行如下配置即可:</p>
<p>!<img src="VUE/136.png" alt="image-20210328015613180"></p>
</li>
</ul>
</li>
</ul>
<h5 id="3、路由代码跳转"><a href="#3、路由代码跳转" class="headerlink" title="3、路由代码跳转"></a>3、路由代码跳转</h5><p>有时候, 页面的跳转可能需要执行对应的JavaScript代码, 这个时候, 就可以使用第二种跳转方式了：</p>
<p><img src="VUE/138.png" alt="138"></p>
<h5 id="4、动态路由"><a href="#4、动态路由" class="headerlink" title="4、动态路由"></a>4、动态路由</h5><p>在某些情况下，一个页面的path路径可能是不确定的，比如我们进入用户界面时，希望是如下的路径：</p>
<ul>
<li>/user/aaaa或/user/bbbb</li>
<li>除了有前面的/user之外，后面还跟上了用户的ID</li>
</ul>
<p>这种path和Component的匹配关系，我们称之为动态路由(也是路由传递数据的一种方式)。</p>
<p>实现：路由有前面的/user之外，后面还<strong>动态</strong>跟上了用户的ID，并在页面展示用户的数据</p>
<ol>
<li><p>创建一个用户组件User.vue</p>
<p><img src="VUE/137.png" alt="image-20210328022521749"></p>
</li>
<li><p>在index.js中配置用户组件User.vue与路由之间的应用关系：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> User <span class="keyword">from</span> <span class="string">&#x27;../components/User&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> routers = [</span><br><span class="line">    &#123;</span><br><span class="line">    	path: <span class="string">&#x27;/user/:id&#x27;</span>,</span><br><span class="line">    	component: User,</span><br><span class="line">    &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure>
</li>
<li><p>在App.vue进行动态渲染：</p>
<p>使用<router-link>方式：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;!--通过v-bind实现字符串拼接--&gt;</span><br><span class="line">&lt;!--如果直接拼接：to&#x3D;&quot;&#x2F;user&#x2F;+userId&quot;，它会将&#x2F;user&#x2F;+userId当成一个字符串--&gt;</span><br><span class="line">&lt;router-link :to&#x3D;&quot;&#39;&#x2F;user&#x2F;&#39;+userId&quot;&gt;用户&lt;&#x2F;router-link&gt;</span><br><span class="line">&lt;router-view&#x2F;&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">    export default &#123;</span><br><span class="line">      name: &#39;App&#39;,</span><br><span class="line">      data() &#123;</span><br><span class="line">        return &#123;</span><br><span class="line">          userId: &#39;zhangsan&#39;,</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>

<p>也可以使用JavaScript代码的方式：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;button @click&#x3D;&quot;userClick&quot;&gt;用户&lt;&#x2F;button&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">    export default &#123;</span><br><span class="line">      name: &#39;App&#39;,</span><br><span class="line">      data() &#123;</span><br><span class="line">        return &#123;</span><br><span class="line">          userId: &#39;zhangsan&#39;,</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;,</span><br><span class="line">      methods: &#123;</span><br><span class="line">        userClick() &#123;</span><br><span class="line">          this.$router.push(&#39;&#x2F;user&#x2F;&#39; + this.userId)</span><br><span class="line">    	&#125;</span><br><span class="line">  	  &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>在User.vue进行模板编写：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;h2&gt;我是用户界面&lt;&#x2F;h2&gt;</span><br><span class="line">    &lt;p&gt;我是用户的相关信息, 嘿嘿嘿&lt;&#x2F;p&gt;</span><br><span class="line">    &lt;h2&gt;&#123;&#123;userId&#125;&#125;&lt;&#x2F;h2&gt;</span><br><span class="line">    &lt;!--也可以不使用计算属性，直接写--&gt;</span><br><span class="line">    &lt;!--&lt;h2&gt;&#123;&#123;$route.params.id&#125;&#125;&lt;&#x2F;h2&gt;--&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">    export default &#123;</span><br><span class="line">        name: &quot;User&quot;,</span><br><span class="line">        computed: &#123;</span><br><span class="line">          userId() &#123;</span><br><span class="line">            &#x2F;&#x2F; 注意：这里的id要与index.js中的routers里路由的path的对应一致</span><br><span class="line">            return this.$route.params.id</span><br><span class="line">          &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>

</li>
</ol>
<p>效果：</p>
<p><img src="VUE/102.png" alt="image-20210328025647282"></p>
<h4 id="4、-route与-router的区别："><a href="#4、-route与-router的区别：" class="headerlink" title="4、$route与$router的区别："></a>4、$route与$router的区别：</h4><p><img src="VUE/114.png" alt="image-20210328030540747"></p>
<ul>
<li><p>$router：指的是路由器这一个整体。也就是我们在index.js中<code>const router = new VueRouter</code>的这个VueRouter对象，它里面包含routes[]路由数组里面有很多的路由，分别与组件对应。</p>
<p>其中图2通过修改路由器这一个整体的history模式去修改所有在该路由器下的路由的history模式。</p>
</li>
<li><p>$route：指的是当前活跃的路由。即当前使用页面对应的路由即为活跃路由。</p>
<p>其中图1通过当前活跃路由去获取的当前路由的参数数组中对应的参数。</p>
</li>
</ul>
<h4 id="5、路由的懒加载（使用时在加载）"><a href="#5、路由的懒加载（使用时在加载）" class="headerlink" title="5、路由的懒加载（使用时在加载）"></a>5、路由的懒加载（使用时在加载）</h4><h5 id="1、vue-router打包文件的解析"><a href="#1、vue-router打包文件的解析" class="headerlink" title="1、vue-router打包文件的解析"></a>1、vue-router打包文件的解析</h5><p>我们执行<code>npm run build</code>进行打包的时候，Vue-cli会在当前项目的目录下生成一个dist的文件夹。里面有css/js/img等文件夹和index.html文件。其中css文件夹里存放css.[hash].js，项目中关于css的部分打包在里面，img文件夹里面存放的是图片资源。还有一个js文件夹，里面有：</p>
<ul>
<li>app.[hash].js：当前应用程序开发的所有代码（业务代码）</li>
<li>manifest.[hash].js：为了打包的代码做底层支撑(导入导出)（Commonjs/ES6-&gt;ES5）</li>
<li>vendor.[hash].js：vendor（第三方/提供商）第三方vue/vue-router/axios/bs</li>
</ul>
<p><img src="VUE/74.png" alt="image-20210328142724755"></p>
<h5 id="2、对之前没用脚手架打包的bundle-js的粗略解析"><a href="#2、对之前没用脚手架打包的bundle-js的粗略解析" class="headerlink" title="2、对之前没用脚手架打包的bundle.js的粗略解析"></a>2、对之前没用脚手架打包的bundle.js的粗略解析</h5><p>之前的某个bundle.js：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/******/</span> (<span class="function"><span class="keyword">function</span>(<span class="params">modules</span>) </span>&#123; <span class="comment">// webpackBootstrap</span></span><br><span class="line"><span class="comment">/******/</span> 	<span class="comment">// The module cache</span></span><br><span class="line"><span class="comment">/******/</span> 	<span class="keyword">var</span> installedModules = &#123;&#125;;</span><br><span class="line"><span class="comment">/******/</span></span><br><span class="line"><span class="comment">/******/</span> 	<span class="comment">// The require function</span></span><br><span class="line"><span class="comment">/******/</span> 	<span class="function"><span class="keyword">function</span> <span class="title">__webpack_require__</span>(<span class="params">moduleId</span>) </span>&#123;</span><br><span class="line"><span class="comment">/******/</span></span><br><span class="line"><span class="comment">/******/</span> 		<span class="comment">// Check if module is in cache</span></span><br><span class="line"><span class="comment">/******/</span> 		<span class="function"><span class="title">if</span>(<span class="params">installedModules[moduleId]</span>)</span> &#123;</span><br><span class="line"><span class="comment">/******/</span> 			<span class="keyword">return</span> installedModules[moduleId].exports;</span><br><span class="line"><span class="comment">/******/</span> 		&#125;</span><br><span class="line"><span class="comment">/******/</span> 		<span class="comment">// Create a new module (and put it into the cache)</span></span><br><span class="line"><span class="comment">/******/</span> 		<span class="keyword">var</span> <span class="built_in">module</span> = installedModules[moduleId] = &#123;</span><br><span class="line"><span class="comment">/******/</span> 			i: moduleId,</span><br><span class="line"><span class="comment">/******/</span> 			l: <span class="literal">false</span>,</span><br><span class="line"><span class="comment">/******/</span> 			<span class="built_in">exports</span>: &#123;&#125;</span><br><span class="line"><span class="comment">/******/</span> 		&#125;;</span><br><span class="line"><span class="comment">/******/</span></span><br><span class="line"><span class="comment">/******/</span> 		<span class="comment">// Execute the module function</span></span><br><span class="line"><span class="comment">/******/</span> 		modules[moduleId].call(<span class="built_in">module</span>.exports, <span class="built_in">module</span>, <span class="built_in">module</span>.exports, __webpack_require__);</span><br><span class="line"><span class="comment">/******/</span></span><br><span class="line"><span class="comment">/******/</span> 		<span class="comment">// Flag the module as loaded</span></span><br><span class="line"><span class="comment">/******/</span> 		<span class="built_in">module</span>.l = <span class="literal">true</span>;</span><br><span class="line"><span class="comment">/******/</span></span><br><span class="line"><span class="comment">/******/</span> 		<span class="comment">// Return the exports of the module</span></span><br><span class="line"><span class="comment">/******/</span> 		<span class="keyword">return</span> <span class="built_in">module</span>.exports;</span><br><span class="line"><span class="comment">/******/</span> 	&#125;</span><br><span class="line"><span class="comment">/******/</span></span><br><span class="line"><span class="comment">/******/</span></span><br><span class="line"><span class="comment">/******/</span> 	<span class="comment">// expose the modules object (__webpack_modules__)</span></span><br><span class="line"><span class="comment">/******/</span> 	__webpack_require__.m = modules;</span><br><span class="line"><span class="comment">/******/</span></span><br><span class="line"><span class="comment">/******/</span> 	<span class="comment">// expose the module cache</span></span><br><span class="line"><span class="comment">/******/</span> 	__webpack_require__.c = installedModules;</span><br><span class="line"><span class="comment">/******/</span></span><br><span class="line"><span class="comment">/******/</span> 	<span class="comment">// define getter function for harmony exports</span></span><br><span class="line"><span class="comment">/******/</span> 	__webpack_require__.d = <span class="function"><span class="keyword">function</span>(<span class="params"><span class="built_in">exports</span>, name, getter</span>) </span>&#123;</span><br><span class="line"><span class="comment">/******/</span> 		<span class="function"><span class="title">if</span>(<span class="params">!__webpack_require__.o(<span class="built_in">exports</span>, name)</span>)</span> &#123;</span><br><span class="line"><span class="comment">/******/</span> 			<span class="built_in">Object</span>.defineProperty(<span class="built_in">exports</span>, name, &#123;</span><br><span class="line"><span class="comment">/******/</span> 				configurable: <span class="literal">false</span>,</span><br><span class="line"><span class="comment">/******/</span> 				enumerable: <span class="literal">true</span>,</span><br><span class="line"><span class="comment">/******/</span> 				get: getter</span><br><span class="line"><span class="comment">/******/</span> 			&#125;);</span><br><span class="line"><span class="comment">/******/</span> 		&#125;</span><br><span class="line"><span class="comment">/******/</span> 	&#125;;</span><br><span class="line"><span class="comment">/******/</span></span><br><span class="line"><span class="comment">/******/</span> 	<span class="comment">// getDefaultExport function for compatibility with non-harmony modules</span></span><br><span class="line"><span class="comment">/******/</span> 	__webpack_require__.n = <span class="function"><span class="keyword">function</span>(<span class="params"><span class="built_in">module</span></span>) </span>&#123;</span><br><span class="line"><span class="comment">/******/</span> 		<span class="keyword">var</span> getter = <span class="built_in">module</span> &amp;&amp; <span class="built_in">module</span>.__esModule ?</span><br><span class="line"><span class="comment">/******/</span> 			<span class="function"><span class="keyword">function</span> <span class="title">getDefault</span>(<span class="params"></span>) </span>&#123; <span class="keyword">return</span> <span class="built_in">module</span>[<span class="string">&#x27;default&#x27;</span>]; &#125; :</span><br><span class="line"><span class="comment">/******/</span> 			<span class="function"><span class="keyword">function</span> <span class="title">getModuleExports</span>(<span class="params"></span>) </span>&#123; <span class="keyword">return</span> <span class="built_in">module</span>; &#125;;</span><br><span class="line"><span class="comment">/******/</span> 		__webpack_require__.d(getter, <span class="string">&#x27;a&#x27;</span>, getter);</span><br><span class="line"><span class="comment">/******/</span> 		<span class="keyword">return</span> getter;</span><br><span class="line"><span class="comment">/******/</span> 	&#125;;</span><br><span class="line"><span class="comment">/******/</span></span><br><span class="line"><span class="comment">/******/</span> 	<span class="comment">// Object.prototype.hasOwnProperty.call</span></span><br><span class="line"><span class="comment">/******/</span> 	__webpack_require__.o = <span class="function"><span class="keyword">function</span>(<span class="params">object, property</span>) </span>&#123; <span class="keyword">return</span> <span class="built_in">Object</span>.prototype.hasOwnProperty.call(object, property); &#125;;</span><br><span class="line"><span class="comment">/******/</span></span><br><span class="line"><span class="comment">/******/</span> 	<span class="comment">// __webpack_public_path__</span></span><br><span class="line"><span class="comment">/******/</span> 	__webpack_require__.p = <span class="string">&quot;&quot;</span>;</span><br><span class="line"><span class="comment">/******/</span></span><br><span class="line"><span class="comment">/******/</span> 	<span class="comment">// Load entry module and return exports</span></span><br><span class="line"><span class="comment">/******/</span> 	<span class="keyword">return</span> __webpack_require__(__webpack_require__.s = <span class="number">0</span>);</span><br><span class="line"><span class="comment">/******/</span> &#125;)</span><br><span class="line"><span class="comment">/************************************************************************/</span></span><br><span class="line"><span class="comment">/******/</span> ([</span><br><span class="line"><span class="comment">/* 0 */</span></span><br><span class="line"><span class="comment">/***/</span> (<span class="function"><span class="keyword">function</span>(<span class="params"><span class="built_in">module</span>, __webpack_exports__, __webpack_require__</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="meta">&quot;use strict&quot;</span>;</span><br><span class="line"><span class="built_in">Object</span>.defineProperty(__webpack_exports__, <span class="string">&quot;__esModule&quot;</span>, &#123; <span class="attr">value</span>: <span class="literal">true</span> &#125;);</span><br><span class="line"><span class="comment">/* harmony import */</span> <span class="keyword">var</span> __WEBPACK_IMPORTED_MODULE_0__info__ = __webpack_require__(<span class="number">2</span>);</span><br><span class="line"><span class="comment">// 1.使用commonjs的模块化规范</span></span><br><span class="line"><span class="keyword">const</span> &#123;add, mul,dec&#125; = __webpack_require__(<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(add(<span class="number">20</span>, <span class="number">30</span>));</span><br><span class="line"><span class="built_in">console</span>.log(mul(<span class="number">20</span>, <span class="number">30</span>));</span><br><span class="line"><span class="built_in">console</span>.log(dec(<span class="number">30</span>, <span class="number">10</span>));</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2.使用ES6的模块化的规范</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(__WEBPACK_IMPORTED_MODULE_0__info__[<span class="string">&quot;c&quot;</span> <span class="comment">/* name */</span>]);</span><br><span class="line"><span class="built_in">console</span>.log(__WEBPACK_IMPORTED_MODULE_0__info__[<span class="string">&quot;a&quot;</span> <span class="comment">/* age */</span>]);</span><br><span class="line"><span class="built_in">console</span>.log(__WEBPACK_IMPORTED_MODULE_0__info__[<span class="string">&quot;b&quot;</span> <span class="comment">/* height */</span>]);</span><br><span class="line"></span><br><span class="line"><span class="comment">/***/</span> &#125;),</span><br><span class="line"><span class="comment">/* 1 */</span></span><br><span class="line"><span class="comment">/***/</span> (<span class="function"><span class="keyword">function</span>(<span class="params"><span class="built_in">module</span>, <span class="built_in">exports</span></span>) </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params">num1, num2</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> num1 + num2</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">mul</span>(<span class="params">num1, num2</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> num1 * num2</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">dec</span>(<span class="params">num1,num2</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> num1 - num2</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  add,</span><br><span class="line">  mul,</span><br><span class="line">  dec</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/***/</span> &#125;),</span><br><span class="line"><span class="comment">/* 2 */</span></span><br><span class="line"><span class="comment">/***/</span> (<span class="function"><span class="keyword">function</span>(<span class="params"><span class="built_in">module</span>, __webpack_exports__, __webpack_require__</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="meta">&quot;use strict&quot;</span>;</span><br><span class="line"><span class="keyword">const</span> name = <span class="string">&#x27;why&#x27;</span>;</span><br><span class="line"><span class="comment">/* harmony export (immutable) */</span> __webpack_exports__[<span class="string">&quot;c&quot;</span>] = name;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> age = <span class="number">18</span>;</span><br><span class="line"><span class="comment">/* harmony export (immutable) */</span> __webpack_exports__[<span class="string">&quot;a&quot;</span>] = age;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> height = <span class="number">1.88</span>;</span><br><span class="line"><span class="comment">/* harmony export (immutable) */</span> __webpack_exports__[<span class="string">&quot;b&quot;</span>] = height;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/***/</span> &#125;)</span><br><span class="line"><span class="comment">/******/</span> ]);</span><br></pre></td></tr></table></figure>

<p>其实bundle.js中本质上是一个闭包函数</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params">modules</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;)([])</span><br></pre></td></tr></table></figure>

<p>从后往前看：</p>
<ol>
<li><p><code>([])</code>中的内容其实是一个数组，存放的就是我们写的js代码。</p>
<p>即：我们写了main.js、mathUtil.js、info.js三个js文件，他们在<code>([])</code>中就按数组的方式存放：([main.js,mathUtil.js,info.js])。其中main.js为第0号元素。</p>
</li>
<li><p><code>(function(modules) &#123;&#125;)</code>这里对下面的js文件数组做底层支撑（commonjs/ES6-&gt;ES5、导入导出等等）。其中最重要的是<code>__webpack_require__()</code>方法。在<code>(function(modules) &#123;&#125;)</code>最后的返回<code>return __webpack_require__(__webpack_require__.s = 0)</code>作为入口。</p>
</li>
</ol>
<h5 id="3、vue-router的懒加载"><a href="#3、vue-router的懒加载" class="headerlink" title="3、vue-router的懒加载"></a>3、vue-router的懒加载</h5><p>官方给出了解释:</p>
<ul>
<li>当打包构建应用时，Javascript 包会变得非常大，影响页面加载。</li>
<li>如果我们能把不同路由对应的组件分割成不同的代码块，然后当路由被访问的时候才加载对应组件，这样就更加高效</li>
</ul>
<p>通俗解释：</p>
<ul>
<li>首先, 我们知道路由中通常会定义很多不同的页面；</li>
<li>这个页面最后被打包在哪里呢? 一般情况下, 是放在一个js文件（app.[hash].js）中，因为app.[hash].js是当前应用程序开发的所有代码（业务代码）；</li>
<li>但是, 页面这么多放在一个js文件中, 必然会造成这个页面非常的大；</li>
<li>如果我们一次性从服务器请求下来这个页面, 可能需要花费一定的时间, 甚至用户的电脑上还出现了短暂空白的情况，这对用户是很不友好的；</li>
<li>如何避免这种情况呢? 使用路由懒加载就可以了。</li>
</ul>
<p>路由懒加载的作用：使用了在加载</p>
<ul>
<li>路由懒加载的主要作用就是<strong>将路由对应的组件打包成一个个的js代码块</strong>。</li>
<li>只有在这个路由被访问到的时候, 才加载对应的组件。</li>
</ul>
<p>路由懒加载的实现：</p>
<ul>
<li><p>方式一: 结合Vue的异步组件和Webpack的代码分析（早期使用，现已不常用）：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> Home = <span class="function"><span class="params">resolve</span> =&gt;</span> &#123; <span class="built_in">require</span>.ensure([<span class="string">&#x27;../components/Home.vue&#x27;</span>], <span class="function">() =&gt;</span> &#123; resolve(<span class="built_in">require</span>(<span class="string">&#x27;../components/Home.vue&#x27;</span>)) &#125;)&#125;;</span><br></pre></td></tr></table></figure>
</li>
<li><p>方式二: AMD写法：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> About = <span class="function"><span class="params">resolve</span> =&gt;</span> <span class="built_in">require</span>([<span class="string">&#x27;../components/About.vue&#x27;</span>], resolve);</span><br></pre></td></tr></table></figure>
</li>
<li><p>方式三: 在ES6中, 我们可以有更加简单的写法来组织Vue异步组件和Webpack的代码分割（常用）：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> Home = <span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="string">&#x27;../components/Home.vue&#x27;</span>)</span><br></pre></td></tr></table></figure>

</li>
</ul>
<p>路由懒加载的实现的效果：</p>
<p><img src="VUE/139.png" alt="image-20210328143539544"></p>
<h4 id="6、路由的嵌套"><a href="#6、路由的嵌套" class="headerlink" title="6、路由的嵌套"></a>6、路由的嵌套</h4><p>嵌套路由是一个很常见的功能</p>
<ul>
<li>比如在home页面中, 我们希望通过/home/news和/home/message访问一些内容。</li>
<li>一个路径映射一个组件, 访问这两个路径也会分别渲染两个组件。</li>
</ul>
<p>路径和组件的关系如下：</p>
<p><img src="VUE/140.png" alt="image-20210328145310299"></p>
<p>实现嵌套路由有两个步骤:</p>
<ul>
<li><p>创建对应的子组件HomeNews.vue和HomeMessage.vue, 并且在index.js引入并设置其中的路由映射中配置对应的子路由。在父路由里使用children属性，值是一个数组，在其中配置对应的子路由以及对应的子组件。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 懒加载</span></span><br><span class="line"><span class="keyword">const</span> Home = <span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="string">&#x27;../components/Home&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> HomeNews = <span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="string">&#x27;../components/HomeNews&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> HomeMessage = <span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="string">&#x27;../components/HomeMessage&#x27;</span>)</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">    path: <span class="string">&#x27;/home&#x27;</span>,</span><br><span class="line">    component: Home,</span><br><span class="line">    children: [</span><br><span class="line">      <span class="comment">// &#123;</span></span><br><span class="line">      <span class="comment">//   path: &#x27;&#x27;,</span></span><br><span class="line">      <span class="comment">//   redirect: &#x27;news&#x27;</span></span><br><span class="line">      <span class="comment">// &#125;,</span></span><br><span class="line">      &#123;</span><br><span class="line">        path: <span class="string">&#x27;news&#x27;</span>,</span><br><span class="line">        component: HomeNews</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        path: <span class="string">&#x27;message&#x27;</span>,</span><br><span class="line">        component: HomeMessage</span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>

<p>若在home主页中要设置默认页的可以在路由映射中配置对应的子路由中配置重定向redirect到想要的默认页。</p>
</li>
<li><p>在父组件Home.vue模板内部使用<router-link>进行相连与<router-view>标签进行占位。</p>
<p><strong>其中注意：<router-link>中to属性值的”/home/xxx”的第一个<code>/</code>不能省略。</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;h2&gt;我是首页&lt;&#x2F;h2&gt;</span><br><span class="line">    &lt;p&gt;我是首页内容, 哈哈哈&lt;&#x2F;p&gt;</span><br><span class="line"></span><br><span class="line">    &lt;router-link to&#x3D;&quot;&#x2F;home&#x2F;news&quot;&gt;新闻&lt;&#x2F;router-link&gt;</span><br><span class="line">    &lt;router-link to&#x3D;&quot;&#x2F;home&#x2F;message&quot;&gt;消息&lt;&#x2F;router-link&gt;</span><br><span class="line"></span><br><span class="line">    &lt;router-view&gt;&lt;&#x2F;router-view&gt;</span><br><span class="line"></span><br><span class="line">    &lt;h2&gt;&#123;&#123;message&#125;&#125;&lt;&#x2F;h2&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h4 id="7、参数传递"><a href="#7、参数传递" class="headerlink" title="7、参数传递"></a>7、参数传递</h4><p>为了演示传递参数, 我们这里再创建一个组件, 并且将其配置好</p>
<ol>
<li>第一步: 创建新的组件Profile.vue </li>
<li>第二步: 配置路由映射 </li>
<li>第三步: 添加跳转的<router-link></li>
</ol>
<p><img src="VUE/141.png" alt="image-20210328153143736"></p>
<h5 id="1、传递参数"><a href="#1、传递参数" class="headerlink" title="1、传递参数"></a>1、传递参数</h5><p><strong>传递参数主要有两种类型: params和query</strong></p>
<p><strong>params</strong>的类型（之前的动态路由）：</p>
<ul>
<li><p>配置路由格式：</p>
<p>/user/:id</p>
</li>
<li><p>传递的方式: 在path后面跟上对应的值：</p>
<p>:to=”‘/user/‘+userId”</p>
</li>
<li><p>传递后形成的路径：</p>
<p>在User.vue的模板template中</p>
</li>
</ul>
<p><strong>query</strong>的类型：</p>
<ul>
<li><p>配置路由格式： </p>
<p>path: ‘/profile’, 也就是普通配置</p>
</li>
<li><p>传递的方式： 对象中使用query的key作为传递方式：</p>
<p>使用<router-link>的方式：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;router-link :to&#x3D;&quot;&#123;path: &#39;&#x2F;profile&#39;, query: &#123;name: &#39;why&#39;, age: 18, height: 1.88&#125;&#125;档案&lt;&#x2F;router-link&gt;</span><br></pre></td></tr></table></figure>

<p>即在<code>:to</code>后面是一个对象，对象里面有两个属性path/query</p>
<ul>
<li>path：访问路由</li>
<li>query：查询参数，也是可以一个对象（里面存有多个数据）<ul>
<li>name: ‘why’</li>
<li>age: 18</li>
<li>height: 1.88</li>
</ul>
</li>
</ul>
<p>使用JavaScript代码方式：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&lt;button @click&#x3D;&quot;profileClick&quot;&gt;档案&lt;&#x2F;button&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">   methods: &#123;</span><br><span class="line">        profileClick() &#123;</span><br><span class="line">          this.$router.push(&#123;</span><br><span class="line">            path: &#39;&#x2F;profile&#39;,</span><br><span class="line">            query: &#123;</span><br><span class="line">              name: &#39;kobe&#39;,</span><br><span class="line">              age: 19,</span><br><span class="line">              height: 1.87</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;)</span><br><span class="line">        &#125;</span><br><span class="line">   &#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>传递后形成的路径: /profile?name=why&amp;age=18&amp;height=1.88</p>
<p>通过这种方式可以传递多个参数。</p>
<p><strong>注意：连点报错的在push的小括号后面加.catch(err =&gt;err)。</strong></p>
<p>例如：this.$router.replace(‘/home’).catch(err =&gt; {})</p>
</li>
</ul>
<h5 id="2、获取参数"><a href="#2、获取参数" class="headerlink" title="2、获取参数"></a>2、获取参数</h5><p><strong>获取参数通过$route对象获取的。</strong></p>
<p>在使用了 <code>vue-router</code> 的应用中，<strong>路由对象会被注入每个组件中</strong>，赋值为 <code>this.$route</code> ，并且当路由切换时，路由对象会被更新。</p>
<p>在profile.vue中的模板template中进行展示：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;h2&gt;我是Profile组件&lt;&#x2F;h2&gt;</span><br><span class="line">    &lt;h2&gt;&#123;&#123;$route.query.name&#125;&#125;&lt;&#x2F;h2&gt;</span><br><span class="line">    &lt;h2&gt;&#123;&#123;$route.query.age&#125;&#125;&lt;&#x2F;h2&gt;</span><br><span class="line">    &lt;h2&gt;&#123;&#123;$route.query.height&#125;&#125;&lt;&#x2F;h2&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br></pre></td></tr></table></figure>

<p>效果：</p>
<p><img src="VUE/143.png" alt="image-20210328172651274"></p>
<h5 id="3、-route和-router在参数传递过程中的区别："><a href="#3、-route和-router在参数传递过程中的区别：" class="headerlink" title="3、$route和$router在参数传递过程中的区别："></a>3、$route和$router在参数传递过程中的区别：</h5><ul>
<li>$router为VueRouter实例，想要导航到不同URL，则使用$router.push方法；</li>
<li>$route为当前router跳转对象里面可以获取name、path、query、params等 。</li>
</ul>
<p><img src="VUE/144.png" alt="image-20210328172939825"></p>
<h5 id="4、所有的组件都继承自Vue类的原型"><a href="#4、所有的组件都继承自Vue类的原型" class="headerlink" title="4、所有的组件都继承自Vue类的原型"></a>4、<strong>所有的组件都继承自Vue类的原型</strong></h5><p>在main.js里定义的变量，在任何组件里都可以使用。</p>
<p>main.js：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Vue.prototype.name = <span class="string">&quot;coderwhy&quot;</span></span><br></pre></td></tr></table></figure>

<p>User.vue：在User.vue里并没有定义name，但可以使用Vue类中的name</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">    methods: &#123;</span><br><span class="line">          btnClick() &#123;</span><br><span class="line">            &#x2F;&#x2F; 所有的组件都继承自Vue类的原型</span><br><span class="line">            console.log(this.name);</span><br><span class="line">          &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>

<p>这也是$route和$router的原理</p>
<ul>
<li><p>Vue.prototype.$router = return this.routerBoot.router</p>
<ul>
<li> this.routerBoot：Vue</li>
<li>router：Vue中的router</li>
</ul>
</li>
<li><p>Vue.prototype.$route = return this.routerBoot.route</p>
<p>this.routerBoot：Vue中的router</p>
<p>route：当前活跃路由</p>
</li>
</ul>
<h4 id="8、全局导航守卫"><a href="#8、全局导航守卫" class="headerlink" title="8、全局导航守卫"></a>8、全局导航守卫</h4><h5 id="1、beforeEach前置守卫-guard"><a href="#1、beforeEach前置守卫-guard" class="headerlink" title="1、beforeEach前置守卫(guard)"></a>1、beforeEach前置守卫(guard)</h5><p>我们来考虑一个需求: 在一个SPA应用中, 如何改变网页的标题呢?</p>
<ul>
<li>网页标题是通过<title>来显示的, 但是SPA只有一个固定的HTML, 切换不同的页面时, 标题并不会改变。（index.html）</li>
<li>但是我们可以通过生命周期函数+JavaScript来修改<title>的内容。 window.document.title = ‘新的标题’</li>
</ul>
<p>那么在Vue项目中, 在哪里修改? 什么时候修改比较合适呢?</p>
<ul>
<li><p>普通的修改方式</p>
<ul>
<li><p>我们比较容易想到的修改标题的位置是<strong>每一个路由对应的组件.vue文件中</strong>。<strong>通过mounted/created声明周期函数, 执行对应的代码进行修改即可</strong>。</p>
<p>在每一个对应的组件.vue中添加对应的created钩子函数：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">  export default &#123;</span><br><span class="line">    created() &#123;</span><br><span class="line">      console.log(&#39;home created&#39;);</span><br><span class="line">      document.title &#x3D; &#39;首页&#39;</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>但是当页面比较多时, 这种方式不容易维护(因为需要在多个页面执行类似的代码)。</p>
</li>
</ul>
</li>
<li><p>导航守卫的方式：</p>
<p>什么是导航守卫?</p>
<ul>
<li>vue-router提供的导航守卫主要用来监<strong>听路由的进入和离开</strong>的。</li>
<li>vue-router提供了<strong>beforeEach前置守卫(guard)和afterEach后置钩子(hook)的函数</strong>, 它们会在<strong>路由即将改变前和改变后</strong>触发.</li>
</ul>
</li>
<li><p>实现：可以利用beforeEach前置守卫来完成标题的修改</p>
<ol>
<li><p>首先, 我们可以在路由当中定义一些标题, 可以利用meta(元数据)来定义；</p>
<p><img src="VUE/145.png" alt="image-20210328222421995"></p>
</li>
<li><p>其次, 利用beforeEach前置守卫(guard),来修改我们的标题。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 前置守卫(guard)</span></span><br><span class="line">router.beforeEach(<span class="function">(<span class="params">to, <span class="keyword">from</span>, next</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// 从from跳转到to</span></span><br><span class="line">  <span class="built_in">document</span>.title = to.matched[<span class="number">0</span>].meta.title</span><br><span class="line">  next()</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>beforeEach前置守卫(guard)的三个参数：</p>
<ul>
<li>to: 即将要进入的目标的路由对象.</li>
<li>from: 当前导航即将要离开的路由对象.</li>
<li>next: 调用该方法后, 才能进入下一个钩子。</li>
</ul>
<p><strong>注意</strong>：</p>
<ol>
<li><p>上面的<code>document.title</code>为什么要写成<code>to.matched[0].meta.title</code>?不写成<code>to.meta.title</code>？</p>
<p>因为<code>to.meta.title</code>只能用于当前路由，即没有进行路由嵌套的当前路由。一旦有嵌套路由，那么<code>to.meta.title</code>将取不到值，为undefined，因为在嵌套路由，即当前路由是没有meta定义的，我们的mata只是定义在父路由（最基础的路由）那里。浏览器把嵌套路由的<code>meta</code>放在了<code>match[]数组</code>当中，在<strong>该数组中存放着当前路由的层级数组</strong>。而<code>match[]数组</code>的第0号元素就是当前路由的父路由，而对于没有嵌套的来源来说，自己就是自己的父路由。所有使用<code>to.matched[0].meta.title</code>就能取到每一个<code>meta</code>中的内容，无论路由有没有进行嵌套。</p>
<p><img src="VUE/146.png" alt="image-20210328225211032"></p>
</li>
<li><p><strong>在beforeEach方法里必须使用next函数</strong>。Vue-router默认实现了next方法，让网页可以进入下一步，但当我们调用beforeEach方法，vue-router就会使用我们在beforeEach方法里写的next函数，不会使用默认的那个。但如果我们没有写next函数（也就是在beforeEach方法中没有next函数），那么浏览器报错，不能渲染内容。</p>
</li>
</ol>
</li>
</ol>
</li>
</ul>
<h5 id="2、如果是后置钩子-也就是afterEach-不需要主动调用next-函数"><a href="#2、如果是后置钩子-也就是afterEach-不需要主动调用next-函数" class="headerlink" title="2、如果是后置钩子, 也就是afterEach, 不需要主动调用next()函数"></a>2、如果是后置钩子, 也就是afterEach, 不需要主动调用next()函数</h5><p>afterEach后置钩子的参数只有afterEach(to,from)</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 后置钩子(hook)</span></span><br><span class="line">router.afterEach(<span class="function">(<span class="params">to, <span class="keyword">from</span></span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// console.log(&#x27;----&#x27;);</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h5 id="3、路由独享的守卫与组件内的守卫"><a href="#3、路由独享的守卫与组件内的守卫" class="headerlink" title="3、路由独享的守卫与组件内的守卫"></a>3、路由独享的守卫与组件内的守卫</h5><p>上面我们使用的导航守卫, 被称之为<strong>全局守卫</strong>.</p>
<ul>
<li>路由独享的守卫。</li>
<li>组件内的守卫。</li>
</ul>
<p>查看<a target="_blank" rel="noopener" href="https://router.vuejs.org/zh/guide/advanced/navigation-guards.html#%E5%85%A8%E5%B1%80%E5%90%8E%E7%BD%AE%E9%92%A9%E5%AD%90">官网</a>进行学习</p>
<h4 id="9、keep-alive"><a href="#9、keep-alive" class="headerlink" title="9、keep-alive"></a>9、keep-alive</h4><h5 id="1、keep-alive实现页面缓存"><a href="#1、keep-alive实现页面缓存" class="headerlink" title="1、keep-alive实现页面缓存"></a>1、keep-alive实现页面缓存</h5><ul>
<li>keep-alive 是 Vue 内置的一个组件，可以使被包含的组件保留状态，或避免重新渲染。</li>
<li>router-view 也是一个组件，如果直接被包在 keep-alive 里面，所有路径匹配到的视图组件都会被缓存。</li>
<li>在没有实现页面缓存的时候，每一次的页面跳转浏览器都会重新创建一个新的组件进行渲染。所以，页面缓存对于提高浏览器的性能是很有帮助的。</li>
</ul>
<p><img src="VUE/147.png" alt="image-20210328232633881"></p>
<p>需求：用户进入主页home的时候，默认显示新闻news页面。当用户点击主页home中的消息message页面后离开主页home，进入其他页面（如关于我们about）再回来主页home的时候，浏览器显示的是上次浏览的页面，也就是消息message页面（实现缓存）。</p>
<p>实现：（使用keep-alive加上组件内的守卫）</p>
<ol>
<li><p>直接在App.vue中的使用keep-alive将router-view包裹进来</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;keep-alive&gt;</span><br><span class="line">  &lt;router-view&#x2F;&gt;</span><br><span class="line">&lt;&#x2F;keep-alive&gt;</span><br></pre></td></tr></table></figure>

<p>按道理来说浏览器已经实现的页面缓存了，实际上浏览器也实现了页面缓存（没有重新创建组件）。但是并没有实现我们想要的需求（浏览器显示的是上次浏览的页面），还是实现home的news页面。</p>
<p><img src="VUE/148.png" alt="image-20210329001711312"></p>
<p>为什么？</p>
<p>在浏览器处于其他页面的时候（如about页面）我们再点击主页home。浏览器实现to路由跳转，相当于在url传入了path=home，因为主页home会默认显示news页面，即在组件与路由匹配的时候进行了重定向redirect: ‘news’。所以在传入home的同时，浏览器重定向到了news页面。</p>
</li>
<li><p>修改重定向的方式，不使用组件与路由匹配的时候进行了重定向redirect: ‘news’，将对应的代码注释掉。在Home.vue中，在生命周期函数created中实现重定向。因为created是在组件被创建后的钩子函数，所以在Home组件被创建的时候进行重定向。又因为使用了keep-alive实现了页面缓存，从而实现浏览器显示的是上次浏览的页面这个需求。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">  export default &#123;</span><br><span class="line">    name: &quot;Home&quot;,</span><br><span class="line">    data() &#123;</span><br><span class="line">      return &#123;</span><br><span class="line">        path: &#39;&#x2F;home&#x2F;news&#39;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    created() &#123;</span><br><span class="line">      this.$router.push(this.path)</span><br><span class="line">	&#125;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>

<p>能实现首页home默认显示新闻news页面，但是不能实现重新进入主页home的时候显示的是上次浏览的页面。显示的是home主页，不是新闻news页面，也不是消息message页面。</p>
<p><img src="VUE/149.png" alt="image-20210329002247904"></p>
<p>原因（忽略了返回的home）：在其它页面进入主页home的时候，浏览器实现to路由跳转，相当于在url传入了path=home。但是主页home由keep-alive实现了页面缓存，Home组件不会被重新创建，也就是不会重复多次的调用created方法。组件没有销毁，所以只调用一次create方法，就是在主页创建的时候实现的重定向，之后并不会进行重定向。但传入home的时候没有重定向所以没有修改到home的news界面。</p>
</li>
<li><p>使用activated()与deactivated()函数：</p>
<ul>
<li>activated()：活跃时调用，当点击某个页面时，该页面进入活跃状态</li>
<li>deactivated()：非活跃时调用，离开某个页面时，该页面进入非活跃状态</li>
</ul>
<p>注释掉之前的created函数，使用activated()与deactivated()函数。在activated()实现重定向news，在deactivated()中实现在离开之前获取主页上次浏览的页面，如消息message主页。实现主页home默认显示新闻news页面，在离开的时候更新path的值，使重新回到主页home的时候，通过path的值重定向到上次浏览的页面，实现需求。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">  export default &#123;</span><br><span class="line">    name: &quot;Home&quot;,</span><br><span class="line">    data() &#123;</span><br><span class="line">      return &#123;</span><br><span class="line">        path: &#39;&#x2F;home&#x2F;news&#39;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    activated() &#123;</span><br><span class="line">      this.$router.push(this.path);</span><br><span class="line">    &#125;,</span><br><span class="line">    deactivated() &#123;</span><br><span class="line">        this path &#x3D; this.$route.push;</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>

<p>能实现主页home默认显示新闻news页面，但是当离开首页home，就点不回去主页home了。。。</p>
<p><img src="VUE/151.png" alt="image-20210329005822319"></p>
<p>原因：因为this.$route.push获取的是当前活跃路由，并不是主页home，所以不能拿到离开的时候主页的path值。拿到的path是用户User页面。弄错了执行顺序。正确的执行顺序：activated()主页显示默认页news =&gt; 点击用户，执行deactivated()函数将path修改成/user/zhangsan =&gt; 点击主页home执行activated()函数重定向到/user/zhangsan =&gt; 再执行deactivated()函数将path修改成/user/zhangsan =&gt; …….一直重复。所以显示的一直是用户User页面，点不回去主页home。</p>
</li>
<li><p>使用组件内导航的beforeRouteLeave()函数实现在离开之前获取主页上次浏览的页面，如消息message主页。实现主页home默认显示新闻news页面，在离开的时候更新path的值，使重新回到主页home的时候，通过path的值重定向到上次浏览的页面，实现需求。</p>
<p><img src="VUE/152.png" alt="image-20210329010318911"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">  export default &#123;</span><br><span class="line">    name: &quot;Home&quot;,</span><br><span class="line">    data() &#123;</span><br><span class="line">      return &#123;</span><br><span class="line">        path: &#39;&#x2F;home&#x2F;news&#39;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    activated() &#123;</span><br><span class="line">      this.$router.push(this.path);</span><br><span class="line">    &#125;,</span><br><span class="line">    beforeRouteLeave (to, from, next) &#123;</span><br><span class="line">      console.log(this.$route.path);</span><br><span class="line">      this.path &#x3D; this.$route.path;</span><br><span class="line">      next()</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>

<p>实现需求。就是在第二种解决方法上使用beforeRouteLeave()去代替了deactivated()。因为deactivated()的route是用户User页面，而beforeRouteLeave()的route还是主页home。</p>
<p><img src="VUE/153.png" alt="image-20210329011235744"></p>
<p>总结如下：</p>
<ol>
<li>注释掉之前的默认页的重定向方式，采用activated()的方式进行默认页的重定向</li>
<li>使用组件内导航beforeRouteLeave记录离开时的状态，修改path的值方便下次重定向</li>
<li>使用keep-alive实现页面缓存</li>
</ol>
</li>
</ol>
<h5 id="2、activated-与deactivated-函数"><a href="#2、activated-与deactivated-函数" class="headerlink" title="2、activated()与deactivated()函数"></a>2、activated()与deactivated()函数</h5><p>activated()与deactivated()函数这两个函数只有在该组件被保持了状态使用了keep-alive时, 才是有效的。否则不能使用这两个函数。</p>
<h5 id="3、keep-alive的属性"><a href="#3、keep-alive的属性" class="headerlink" title="3、keep-alive的属性"></a>3、keep-alive的属性</h5><p>keep-alive有两个非常重要的属性：</p>
<ul>
<li>include - 字符串或正则表达，只有匹配的组件会被缓存</li>
<li>exclude - 字符串或正则表达式，任何匹配的组件都不会被缓存</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;keep-alive exclude&#x3D;&quot;Profile,User&quot;&gt;</span><br><span class="line">  &lt;router-view&#x2F;&gt;</span><br><span class="line">&lt;&#x2F;keep-alive&gt;</span><br></pre></td></tr></table></figure>

<p><strong>注意：Profile,User中的逗号<code>,</code>后面不能加空格。（与正则表达式元素一样”\d{2,9}”）</strong></p>
<h2 id="九、Promise"><a href="#九、Promise" class="headerlink" title="九、Promise"></a>九、Promise</h2><h3 id="1、什么是promise"><a href="#1、什么是promise" class="headerlink" title="1、什么是promise"></a>1、什么是promise</h3><p>ES6中一个非常重要和好用的特性就是Promise。</p>
<p>Promis的作用：<strong>Promise是异步编程的一种解决方案。</strong></p>
<p>那什么时候我们会来处理异步事件呢？</p>
<ul>
<li>一种很常见的场景应该就是网络请求了。</li>
<li>我们封装一个网络请求的函数，因为<strong>不能立即拿到结果，需要等待网络请求</strong>，所以不能像简单的3+4=7一样将结果返回。</li>
<li>所以往往我们会传入另外一个函数，在数据请求成功时，将数据通过传入的函数回调出去。当数据请求失败时提示错误信息。</li>
<li>如果只是一个简单的网络请求，那么这种方案不会给我们带来很大的麻烦，但是当网络请求非常复杂时，就会出现回调地狱。</li>
</ul>
<p>什么是回调地狱？</p>
<p>我们来考虑下面的场景(有夸张的成分)，但在实际上也有可能出现以下情况：</p>
<ul>
<li><p>我们需要通过一个url1从服务器加载一个数据data1，data1中包含了下一个请求的url2；</p>
</li>
<li><p>我们需要通过data1取出url2，从服务器加载数据data2，data2中包含了下一个请求的url3；</p>
</li>
<li><p>我们需要通过data2取出url3，从服务器加载数据data3，data3中包含了下一个请求的url4；</p>
</li>
<li><p>发送网络请求url4，获取最终的数据data4。</p>
<p><img src="VUE/154.png" alt="image-20210329213713985"></p>
</li>
</ul>
<p>上面的代码存在的问题：</p>
<ul>
<li>正常情况下，不会有什么问题，可以正常运行并且获取我们想要的结果。</li>
<li>但是，当中间每一次进行数据处理的代码都有多于100行的时候，这样的代码难看而且不容易维护，简直就是地狱。</li>
<li>我们更加期望的是一种更加优雅的方式来进行这种异步操作。</li>
</ul>
<p>所以可以通过Promise以一种非常优雅的方式来解决这个问题。</p>
<h3 id="2、promise的使用"><a href="#2、promise的使用" class="headerlink" title="2、promise的使用"></a>2、promise的使用</h3><h4 id="1、基本使用"><a href="#1、基本使用" class="headerlink" title="1、基本使用"></a>1、基本使用</h4><p>这里用一个定时器来模拟异步事件：</p>
<ul>
<li><p>假设下面的data是从网络上1秒后请求的数据</p>
</li>
<li><p>console.log就是我们的处理方式。</p>
</li>
<li><p>这是我们过去的处理方式：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;Hello World&#x27;</span>);</span><br><span class="line">    success: <span class="function"><span class="keyword">function</span>(<span class="params">data</span>)</span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="title">error</span>(<span class="params">data</span>)</span> &#123;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;, <span class="number">1000</span>)</span><br></pre></td></tr></table></figure>
</li>
<li><p>Promise的方式：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="comment">// 成功的时候调用resolve</span></span><br><span class="line">      <span class="comment">// resolve(&#x27;Hello World&#x27;)</span></span><br><span class="line"></span><br><span class="line">      <span class="comment">// 失败的时候调用reject</span></span><br><span class="line">      reject(<span class="string">&#x27;error message&#x27;</span>)</span><br><span class="line">    &#125;, <span class="number">1000</span>)</span><br><span class="line">  &#125;).then(<span class="function"><span class="params">data</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// 拿到请求数据，执行100行的处理代码</span></span><br><span class="line">    <span class="built_in">console</span>.log(data);</span><br><span class="line">  &#125;).catch(<span class="function"><span class="params">err</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// 100行的处理代码</span></span><br><span class="line">    <span class="built_in">console</span>.log(err);</span><br><span class="line">  &#125;)</span><br></pre></td></tr></table></figure>

</li>
</ul>
<p>解析promise：</p>
<ul>
<li>new Promise很明显是创建一个Promise对象；</li>
<li>Promise传入两个参数函数((resolve, reject) =&gt; {})很明显就是一个函数，其中的参数resolve, reject<ul>
<li>resolve和reject函数只是一个标识，没有真正的函数体，你在newPromise中执行哪两个函数时会采用异步执行，也就先被挂载起来了。</li>
<li>在通常情况下，我们会根据请求数据的成功和失败来决定调用哪一个。</li>
</ul>
</li>
<li>成功与失败：<ul>
<li>如果是<strong>成功</strong>的，那么通常我们会调用resolve(message)，这个时候，我们后续的<code>then</code>会被回调</li>
<li>如果是<strong>失败</strong>的，那么通常我们会调用reject(error)，这个时候，我们后续的<code>catch</code>会被回调</li>
</ul>
</li>
</ul>
<p>这就是Promise最基本的使用。那么，什么情况下会用到Promise?</p>
<ul>
<li>一般情况下是有异步操作时,使用Promise对这个异步操作进行封装。</li>
<li>通常将数据的网络请求部分代码放在(resolve, reject) =&gt; { 网络请求部分代码 }中，</li>
<li>将获取到网络请求的数据data后，对data进行数据处理的部分代码放在<code>then</code>当中，</li>
<li>将获取数据失败后的错误处理代码部分放在<code>catch</code>当中。</li>
</ul>
<p>执行过程：</p>
<ol>
<li>new Promise</li>
<li>构造函数(1.保存了一些状态信息 2.执行传入的函数)</li>
<li>在执行传入的回调函数时, 会传入两个参数, resolve, reject.本身又是函数</li>
<li>网路请求数据</li>
<li>获取数据成功进入then进行数据处理</li>
<li>获取数据失败进入catch进行错误处理</li>
</ol>
<h4 id="2、Promise链式调用"><a href="#2、Promise链式调用" class="headerlink" title="2、Promise链式调用"></a>2、Promise链式调用</h4><p>我们在看Promise的流程图时，发现无论在then还是catch中都可以返回一个Promise对象。所以，我们的代码其实是可以进行链式调用的：</p>
<p>我们可以直接通过Promise包装一下新的数据，将Promise对象返回了</p>
<ul>
<li>Promise.resovle()：将数据包装成Promise对象，并且在内部回调resolve()函数</li>
<li>Promise.reject()：将数据包装成Promise对象，并且在内部回调reject()函数</li>
</ul>
<p>需求：</p>
<ol>
<li>网络请求: aaa -&gt; 自己处理(10行)</li>
<li>处理: aaa111 -&gt; 自己处理(10行)</li>
<li>处理: aaa111222 -&gt; 自己处理</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// 第一次网络请求的代码</span></span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      resolve(<span class="string">&#x27;aaa&#x27;</span>)</span><br><span class="line">    &#125;, <span class="number">1000</span>)</span><br><span class="line">&#125;).then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// 第一次拿到结果的处理代码</span></span><br><span class="line">    <span class="comment">// 自己处理10行代码</span></span><br><span class="line">    <span class="built_in">console</span>.log(res, <span class="string">&#x27;第一层的10行处理代码&#x27;</span>);</span><br><span class="line">  </span><br><span class="line">    <span class="comment">// 对结果进行第一次处理</span></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">      resolve(res + <span class="string">&#x27;111&#x27;</span>)</span><br><span class="line">      <span class="comment">// 过程中出现错误，直接执行catch，不会在执行以下的then</span></span><br><span class="line">      <span class="comment">// reject(&#x27;err&#x27;)</span></span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;).then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// 第二次拿到结果的处理代码</span></span><br><span class="line">    <span class="built_in">console</span>.log(res, <span class="string">&#x27;第二层的10行处理代码&#x27;</span>);</span><br><span class="line">    <span class="comment">// 对结果进行第二次处理</span></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="params">resolve</span> =&gt;</span> &#123;</span><br><span class="line">      resolve(res + <span class="string">&#x27;222&#x27;</span>)</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;).then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// 第三次拿到结果的处理代码</span></span><br><span class="line">    <span class="built_in">console</span>.log(res, <span class="string">&#x27;第三层的10行处理代码&#x27;</span>);</span><br><span class="line">  &#125;).catch(<span class="function"><span class="params">err</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(err);</span><br><span class="line">  &#125;)</span><br></pre></td></tr></table></figure>

<p><strong>链式调用简写</strong>：</p>
<ul>
<li><p>如果我们希望数据直接包装成Promise.resolve，那么在then中可以直接返回数据</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// new Promise(resolve =&gt; resolve(结果))简写</span></span><br><span class="line"><span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// 第一次网络请求的代码</span></span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      resolve(<span class="string">&#x27;aaa&#x27;</span>)</span><br><span class="line">    &#125;, <span class="number">1000</span>)</span><br><span class="line">&#125;).then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// 第一次拿到结果的处理代码</span></span><br><span class="line">    <span class="comment">// 自己处理10行代码</span></span><br><span class="line">    <span class="built_in">console</span>.log(res, <span class="string">&#x27;第一层的10行处理代码&#x27;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 对结果进行第一次处理</span></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Promise</span>.resolve(res + <span class="string">&#x27;111&#x27;</span>)</span><br><span class="line">&#125;).then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// 第二次拿到结果的处理代码</span></span><br><span class="line">    <span class="built_in">console</span>.log(res, <span class="string">&#x27;第二层的10行处理代码&#x27;</span>);</span><br><span class="line">    <span class="comment">// 对结果进行第二次处理</span></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Promise</span>.resolve(res + <span class="string">&#x27;222&#x27;</span>)</span><br><span class="line">&#125;).then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// 第三次拿到结果的处理代码</span></span><br><span class="line">    <span class="built_in">console</span>.log(res, <span class="string">&#x27;第三层的10行处理代码&#x27;</span>);</span><br><span class="line">&#125;).catch(<span class="function"><span class="params">err</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(err);</span><br><span class="line">  &#125;)</span><br></pre></td></tr></table></figure>
</li>
<li><p>注意下面的代码中，我讲return Promise.resovle(data)改成了return data</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 省略掉Promise.resolve</span></span><br><span class="line">  <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      resolve(<span class="string">&#x27;aaa&#x27;</span>)</span><br><span class="line">    &#125;, <span class="number">1000</span>)</span><br><span class="line">  &#125;).then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// 1.自己处理10行代码</span></span><br><span class="line">    <span class="built_in">console</span>.log(res, <span class="string">&#x27;第一层的10行处理代码&#x27;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 2.对结果进行第一次处理</span></span><br><span class="line">    <span class="keyword">return</span> res + <span class="string">&#x27;111&#x27;</span></span><br><span class="line">  &#125;).then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(res, <span class="string">&#x27;第二层的10行处理代码&#x27;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> res + <span class="string">&#x27;222&#x27;</span></span><br><span class="line">  &#125;).then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(res, <span class="string">&#x27;第三层的10行处理代码&#x27;</span>);</span><br><span class="line">  &#125;).catch(<span class="function"><span class="params">err</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(err);</span><br><span class="line">  &#125;)</span><br></pre></td></tr></table></figure>
</li>
<li><p>结果依然是一样的</p>
</li>
<li><p>Promise.reject(‘error message’)的另一种写法：都可以进入到catch</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// return Promise.reject(&#x27;error message&#x27;)</span></span><br><span class="line"><span class="keyword">throw</span> <span class="string">&#x27;error message&#x27;</span></span><br></pre></td></tr></table></figure>

</li>
</ul>
<h4 id="3、Promise的all方法："><a href="#3、Promise的all方法：" class="headerlink" title="3、Promise的all方法："></a>3、Promise的all方法：</h4><p>当某个需求需要同时拿到两个或多个网络请求到的数据才能进行实现。为了分析那个网络请求先拿到数据（因为是同步的，所以不清楚哪个请求会先拿到。因为如果能够肯定网路请求2在网路请求1请求之后拿到数据的话，就可以将业务统一在网路请求1中实现。没必要进行下面的步骤。）这个时候如果使用之前jQuery + ajax的方式将变得很麻烦，但使用Promise的all方法将十分轻松的实现。</p>
<ul>
<li><p>使用jQuery + ajax的方式：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 网路请求一:</span></span><br><span class="line"><span class="keyword">let</span> isResult1 = <span class="literal">false</span></span><br><span class="line"><span class="keyword">let</span> isResult2 = <span class="literal">false</span></span><br><span class="line">$ajax(&#123;</span><br><span class="line">    url: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">    success: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">&#x27;结果1&#x27;</span>);</span><br><span class="line">      isResult1 = <span class="literal">true</span></span><br><span class="line">      handleResult()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">// 网路请求二:</span></span><br><span class="line">$ajax(&#123;</span><br><span class="line">    url: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">    success: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">&#x27;结果1&#x27;</span>);</span><br><span class="line">      isResult2 = <span class="literal">true</span></span><br><span class="line">      handleResult()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">handleResult</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (isResult1 &amp;&amp; isResult2) &#123;</span><br><span class="line">      <span class="comment">// 实现业务</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>使用Promise的all方法的方式：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Promise</span>.all([</span><br><span class="line">      <span class="comment">// 网路请求一:</span></span><br><span class="line">      <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">        $.ajax(&#123;</span><br><span class="line">          url: <span class="string">&#x27;url1&#x27;</span>,</span><br><span class="line">          success: <span class="function"><span class="keyword">function</span> (<span class="params">data</span>) </span>&#123;</span><br><span class="line">            resolve(data)</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">      &#125;),</span><br><span class="line">      <span class="comment">// 网路请求二:</span></span><br><span class="line">      <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">        $.ajax(&#123;</span><br><span class="line">          url: <span class="string">&#x27;url2&#x27;</span>,</span><br><span class="line">          success: <span class="function"><span class="keyword">function</span> (<span class="params">data</span>) </span>&#123;</span><br><span class="line">            resolve(data)</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">      &#125;)</span><br><span class="line">]).then(<span class="function"><span class="params">results</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// 第一个网路请求</span></span><br><span class="line">    <span class="built_in">console</span>.log(results[<span class="number">0</span>]);</span><br><span class="line">    <span class="comment">// 第二个网路请求</span></span><br><span class="line">    <span class="built_in">console</span>.log(results[<span class="number">1</span>]);</span><br><span class="line">    <span class="built_in">console</span>.log(results);</span><br><span class="line">&#125;).catch(<span class="function"><span class="params">error</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(error)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>注意：</p>
<ul>
<li>Promise.all()的参数是一个<code>可迭代对象iterator</code>，也就是可遍历的，数组只是其中之一。</li>
<li>resolve(data)：中的data不只可以是一个数值，也可以是一个对象。</li>
</ul>
</li>
</ul>
<h3 id="3、Promise三种状态"><a href="#3、Promise三种状态" class="headerlink" title="3、Promise三种状态"></a>3、Promise三种状态</h3><p>当我们开发中有异步操作时, 就可以给异步操作包装一个Promise。异步操作之后会有三种状态：</p>
<p><img src="VUE/156.png" alt="image-20210329224000758"></p>
<ul>
<li>pending：等待状态，比如正在进行网络请求，或者定时器没有到时间。</li>
<li>fulfill：满足状态，当我们主动回调了resolve时，就处于该状态，并且会回调.then()</li>
<li>reject：拒绝状态，当我们主动回调了reject时，就处于该状态，并且会回调.catch()</li>
</ul>
<h2 id="十、Vuex"><a href="#十、Vuex" class="headerlink" title="十、Vuex"></a>十、Vuex</h2><h3 id="1、什么是Vuex"><a href="#1、什么是Vuex" class="headerlink" title="1、什么是Vuex"></a>1、什么是Vuex</h3><p><a target="_blank" rel="noopener" href="https://vuex.vuejs.org/zh/">官方</a>解释：Vuex 是一个专为 Vue.js 应用程序开发的<strong>状态管理模式</strong>。</p>
<ul>
<li>它采用<strong>集中式存储管理</strong>应用的所有组件的状态，并以相应的规则保证状态以一种可预测的方式发生变化。</li>
<li>Vuex 也集成到 Vue 的官方调试工具 <a target="_blank" rel="noopener" href="https://github.com/vuejs/vue-devtools">devtools</a><a target="_blank" rel="noopener" href="https://github.com/vuejs/vue-devtools"> extension</a>，提供了诸如零配置的 time-travel 调试、状态快照导入导出等高级调试功能。</li>
</ul>
<p>是什么<strong>状态管理</strong>？</p>
<ul>
<li><strong>状态管理模式、集中式存储管理</strong>这些名词听起来就非常高大上，让人捉摸不透。</li>
<li>其实，你可以简单的将其看成把<strong>需要多个组件共享的变量</strong>全部存储在一个单一对象里面。</li>
<li>然后，将这个单一对象放在顶层的Vue实例中，让其他组件可以使用。</li>
<li>那么，多个组件就可以共享这个对象中的所有变量属性了。</li>
</ul>
<p>如果是这样的话，为什么官方还要专门出一个插件Vuex呢？难道我们不能自己封装一个对象来管理吗？</p>
<ul>
<li>当然可以，只是我们要先想想VueJS带给我们最大的便利是什么呢？没错，就是<strong>响应式</strong>。</li>
<li>如果你自己封装实现一个对象能不能保证它里面所有的属性做到响应式呢？当然也可以，只是自己封装可能稍微麻烦一些。</li>
</ul>
<p><strong>总结：Vuex就是为了提供这样一个在多个组件间共享状态的插件，同时又具备响应式的特点。</strong></p>
<h3 id="2、需要管理的状态"><a href="#2、需要管理的状态" class="headerlink" title="2、需要管理的状态"></a>2、需要管理的状态</h3><p>有什么状态时需要我们在多个组件间共享的呢？</p>
<ul>
<li>如果你做过大型开放，你一定遇到过多个状态，在多个界面间的共享问题。</li>
<li>比如用户的<strong>登录状态（token）</strong>、用户名称、头像、地理位置信息等等。</li>
<li>比如商品的收藏、购物车中的物品等等。</li>
</ul>
<p>这些状态信息，都是在很多组件里需要使用到的，我们可以放在Vuex中，对它们进行保存和管理，而且它们还是响应式的。</p>
<h3 id="3、界面的状态管理"><a href="#3、界面的状态管理" class="headerlink" title="3、界面的状态管理"></a>3、界面的状态管理</h3><h4 id="1、单界面的状态管理"><a href="#1、单界面的状态管理" class="headerlink" title="1、单界面的状态管理"></a>1、单界面的状态管理</h4><p>要在单个组件中进行状态管理是一件非常简单的事情。具体看下图：</p>
<p>单界面状态管理的图示：</p>
<p><img src="VUE/157.png" alt="image-20210330013105126"></p>
<ul>
<li>State：就是我们的状态。（你姑且可以当做就是data中的属性变量）</li>
<li>View：视图层，可以针对State的变化，显示不同的信息。</li>
<li>Actions：这里的Actions主要是用户的各种操作：点击、输入等等，会导致状态的改变。</li>
</ul>
<p>单界面图解（从State开始）：</p>
<p>State就是我们的状态，也就是data中的属性 =&gt; 我们可以将State展示到浏览器上，也就是View层 =&gt; 在浏览器View上，我们可以经过一些Actions行为（如点击/滑动等等）去改变State属性的值 =&gt; 浏览器响应式的将改变后的State属性返回到State</p>
<p>案例：状态管理<code>个数counter</code></p>
<p><img src="VUE/155.png" alt="image-20210330133234214"></p>
<ul>
<li>counter需要某种方式被记录下来，也就是我们的State。</li>
<li>counter目前的值需要被显示在界面中，也就是我们的View部分。</li>
<li>界面发生某些操作时（我们这里是用户的点击，也可以是用户的input），需要去更新状态State，也就是我们的Actions.</li>
</ul>
<h4 id="2、多界面状态管理"><a href="#2、多界面状态管理" class="headerlink" title="2、多界面状态管理"></a>2、多界面状态管理</h4><p>Vue已经帮我们做好了单个界面的状态管理，但是如果是多个界面呢？</p>
<ul>
<li>多个视图都依赖同一个状态（一个状态改了，多个界面需要进行更新）</li>
<li>不同界面的Actions都想修改同一个状态（Home.vue需要修改，Profile.vue也需要修改这个状态）</li>
<li>也就是说对于某些状态(状态1/状态2/状态3)来说只属于我们某一个试图，但是也有一些状态(状态a/状态b/状态c)属于多个试图共同想要维护的</li>
<li>状态1/状态2/状态3你放在自己的房间中，你自己管理自己用，没问题。但是状态a/状态b/状态c我们希望交给一个大管家来统一帮助我们管理！！！</li>
<li>这个帮助我们管理的大管家就是Vuex。</li>
</ul>
<p><strong>全局单例模式（大管家）</strong></p>
<ul>
<li>我们现在要做的就是将共享的状态抽取出来，交给Vuex统一进行管理。</li>
<li>之后，你们每个试图，按照我<strong>规定好的</strong>规定，进行访问和修改等操作。</li>
<li>这就是Vuex背后的基本思想。</li>
</ul>
<p>多界面状态管理的图示：</p>
<p><img src="VUE/159.png" alt="image-20210330143646693"></p>
<p>图解：</p>
<ul>
<li>Mutations与Devtools：<ul>
<li>Vue开发的一个浏览器插件。安装在浏览器上，为后续的Vuex开发提供的插件。</li>
<li>作用：记录浏览器每次修改State的状态，让你清楚地跟踪到是哪一个组件修改了State，发生错误的时候也可以及时精准定位到出错的组件，对其代码进行修改。大大提高了开发效率。</li>
<li>但这个插件实现的前提是修改的数据有经过Mutations进入到State。所以官方不推荐将数据直接从Vue Component发回State，没经过Mutations，devtools就不能对State进行实时跟踪。</li>
<li>在Mutations里一般都是同步操作，如果需求中没有异步操作，也可以从Vue Component直接发送到Mutations。官方没有说这样做不可以</li>
<li>在没有使用Devtools时，由于每个组件都在使用State，使用很难跟踪到哪个组件对State进行修改。当某一个组件错误的修改了数据State，这个时候将很难进行查错。</li>
</ul>
</li>
<li>Actions与Mutations：<ul>
<li>在Actions中实现业务的异步操作，发送网络请求与后台API接口进行数据交互。</li>
<li>由于在Mutations中不能追踪到异步操作的State，所以将异步操作放在Actions当中进行处理。</li>
<li>经Actions处理过后变成同步操作在交由Mutations中的Devtools进行State追踪。</li>
<li>如果业务不需要进行异步操作，可以跳过Actions直接发送给Mutations进行追踪。</li>
</ul>
</li>
</ul>
<h3 id="4、Vuex的使用"><a href="#4、Vuex的使用" class="headerlink" title="4、Vuex的使用"></a>4、Vuex的使用</h3><p>案例：两个组件同时使用<code>属性count</code>，使用Vuex管理count</p>
<p>实现步骤：</p>
<ol>
<li><p>首先，我们需要在某个地方存放我们的Vuex代码：</p>
<p>这里，我们先创建一个文件夹store，并且在其中创建一个index.js文件。</p>
</li>
<li><p>其次，我们让所有的Vue组件都可以使用这个store对象，</p>
<p>来到main.js文件，导入store对象，并且放在new Vue中，</p>
<p>这样，在其他Vue组件中，我们就可以通过this.$store的方式，获取到这个store对象了。</p>
</li>
<li><p>提取出一个公共的store对象，用于保存在多个组件中共享的状态</p>
</li>
<li><p>将store对象放置在new Vue对象中，这样可以保证在所有的组件中都可以使用到</p>
</li>
<li><p>在其他组件中使用store对象中保存的状态即可</p>
<ul>
<li>通过this.$store.state.属性的方式来访问状态</li>
<li>通过this.$store.commit(‘mutation中方法’)来修改状态</li>
</ul>
</li>
<li><p>注意事项：</p>
<ul>
<li>我们通过提交mutation的方式，而非直接改变store.state.count。</li>
<li>这是因为Vuex可以更明确的追踪状态的变化，所以不要直接改变store.state.count的值。</li>
</ul>
</li>
</ol>
<p>代码：</p>
<ol>
<li><p>在src下建立<code>store</code>（仓库）文件夹，在里面创建index.js文件：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> Vuex <span class="keyword">from</span> <span class="string">&#x27;vuex&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 1.安装插件</span></span><br><span class="line">Vue.use(Vuex)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2.创建对象</span></span><br><span class="line"><span class="keyword">const</span> store = <span class="keyword">new</span> Vuex.Store(&#123;</span><br><span class="line">  state: &#123;</span><br><span class="line">      count: <span class="number">1000</span></span><br><span class="line">  &#125;,</span><br><span class="line">  mutations: &#123;</span><br><span class="line">      <span class="comment">// 方法</span></span><br><span class="line">      <span class="function"><span class="title">incrememt</span>(<span class="params">state</span>)</span> &#123;</span><br><span class="line">          state.counr++</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="function"><span class="title">deincrememt</span>(<span class="params">state</span>)</span> &#123;</span><br><span class="line">          state.counr--</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  actions: &#123;</span><br><span class="line">      </span><br><span class="line">  &#125;,</span><br><span class="line">  getters: &#123;</span><br><span class="line">      </span><br><span class="line">  &#125;,</span><br><span class="line">  modules: &#123;</span><br><span class="line">      </span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 3.导出store</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> store</span><br></pre></td></tr></table></figure>

<p>在main.js中挂载：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> App <span class="keyword">from</span> <span class="string">&#x27;./App&#x27;</span></span><br><span class="line"><span class="keyword">import</span> store <span class="keyword">from</span> <span class="string">&#x27;./store&#x27;</span></span><br><span class="line"></span><br><span class="line">Vue.config.productionTip = <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  el: <span class="string">&#x27;#app&#x27;</span>,</span><br><span class="line">  store,</span><br><span class="line">  render: <span class="function"><span class="params">h</span> =&gt;</span> h(App)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
</li>
<li><p>在两个组件中使用Vuex管理的count：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;h2&gt;&#123;&#123;$store.state.counter&#125;&#125;&lt;&#x2F;h2&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>在两个组件中使用Vuex的mutations去修改State的值：使用this.$store.commit(对应方法名)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">methods: &#123;</span><br><span class="line">	  addition() &#123;</span><br><span class="line">        this.$store.commit(INCREMENT)</span><br><span class="line">      &#125;,</span><br><span class="line">      subtraction() &#123;</span><br><span class="line">        this.$store.commit(&#39;decrement&#39;)</span><br><span class="line">      &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h3 id="5、Vuex的五大属性"><a href="#5、Vuex的五大属性" class="headerlink" title="5、Vuex的五大属性"></a>5、Vuex的五大属性</h3><ul>
<li>State</li>
<li>Getters</li>
<li>Mutation</li>
<li>Action</li>
<li>Module</li>
</ul>
<h4 id="1、State"><a href="#1、State" class="headerlink" title="1、State"></a>1、State</h4><h5 id="单一状态树"><a href="#单一状态树" class="headerlink" title="单一状态树"></a>单一状态树</h5><p>Vuex提出使用单一状态树, 什么是单一状态树呢？</p>
<p>英文名称是Single Source of Truth，也可以翻译成<strong>单一数据源</strong>。</p>
<p>来看一个生活中的例子。</p>
<ul>
<li>OK，我用一个生活中的例子做一个简单的类比。</li>
<li>我们知道，在国内我们有很多的信息需要被记录，比如上学时的个人档案，工作后的社保记录，公积金记录，结婚后的婚姻信息，以及其他相关的户口、医疗、文凭、房产记录等等（还有很多信息）。</li>
<li>这些信息被分散在很多地方进行管理，有一天你需要办某个业务时(比如入户某个城市)，你会发现你需要到各个对应的工作地点去打印、盖章各种资料信息，最后到一个地方提交证明你的信息无误。</li>
<li>这种保存信息的方案，不仅仅低效，而且不方便管理，以及日后的维护也是一个庞大的工作(需要大量的各个部门的人力来维护，当然国家目前已经在完善我们的这个系统了)。</li>
</ul>
<p>这个和我们在应用开发中比较类似：</p>
<ul>
<li>如果你的状态信息是保存到多个Store对象中的，那么之后的管理和维护等等都会变得特别困难。</li>
<li>所以Vuex也使用了单一状态树来管理应用层级的全部状态。</li>
<li>单一状态树能够让我们最直接的方式找到某个状态的片段，而且在之后的维护和调试过程中，也可以非常方便的管理和维护。</li>
</ul>
<h4 id="2、Getters"><a href="#2、Getters" class="headerlink" title="2、Getters"></a>2、Getters</h4><h5 id="1、Getters作为全局的computed"><a href="#1、Getters作为全局的computed" class="headerlink" title="1、Getters作为全局的computed"></a>1、Getters作为全局的computed</h5><p>我们需要从store中获取一些state变异后的状态。在单一界面中，我们是通过计算属性computed实现data的一些修改后的数据。然而在多界面中，我们通过Vuex进行管理。若仍使用单一界面的方法，用computed修改Store里State的值（$store.state.counter），则每一个需要用到State的组件都得使用computed，会增加很多冗余的代码。而使用Vuex的getters对State做统一的处理，让有需要的组件直接调用即可。</p>
<p>案例：获取学生年龄大于20的个数</p>
<p>Vuex的State：</p>
<p><img src="VUE/158.png" alt="image-20210330203308770"></p>
<ul>
<li><p>方式一：使用computed</p>
<p><img src="VUE/163.png" alt="image-20210330204204000"></p>
</li>
<li><p>方式二：使用getters</p>
<p><img src="VUE/164.png" alt="获取"></p>
</li>
</ul>
<h5 id="2、Getters作为参数和传递参数"><a href="#2、Getters作为参数和传递参数" class="headerlink" title="2、Getters作为参数和传递参数"></a>2、Getters作为参数和传递参数</h5><h6 id="1、将Getters作为参数，通过调用Getters的方法进行获取"><a href="#1、将Getters作为参数，通过调用Getters的方法进行获取" class="headerlink" title="1、将Getters作为参数，通过调用Getters的方法进行获取"></a>1、将Getters作为参数，通过调用Getters的方法进行获取</h6><p>如果我们已经通过getters获取了一个所有年龄大于20岁学生列表，那么怎么拿到学生列表的长度：</p>
<p><img src="VUE/162.png" alt="image-20210330203841286"></p>
<h6 id="2、Getters传递参数"><a href="#2、Getters传递参数" class="headerlink" title="2、Getters传递参数"></a>2、Getters传递参数</h6><p>getters默认是<strong>不能传递参数</strong>的, 如果希望传递参数, 那么只能<strong>让getters本身返回另一个函数</strong>。</p>
<p>比如上面的案例中,我们希望根据我们输入的age来获取年龄大于age的用户的信息（不写死）：</p>
<p>index.js：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">moreAgeStu</span>(<span class="params">state</span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="params">age</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> state.students.filter(<span class="function"><span class="params">s</span> =&gt;</span> s.age &gt; age)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>其他组件调用：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;h2&gt;&#123;&#123;$store.getters.moreAgeStu(12)&#125;&#125;&lt;&#x2F;h2&gt;</span><br></pre></td></tr></table></figure>

<h4 id="3、Mutation"><a href="#3、Mutation" class="headerlink" title="3、Mutation"></a>3、Mutation</h4><h5 id="1、状态更新"><a href="#1、状态更新" class="headerlink" title="1、状态更新"></a>1、状态更新</h5><p>官方：Vuex的store状态的更新唯一方式：<strong>提交Mutation</strong></p>
<p>Mutation主要包括两部分：</p>
<ul>
<li>字符串的<strong>事件类型（type）</strong></li>
<li>一个<strong>回调函数（handler）</strong>,该回调函数的<strong>第一个参数就是state</strong></li>
</ul>
<p>如：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">decrement</span>(<span class="params">state</span>)</span> &#123;</span><br><span class="line">    state.counter--</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>其中</p>
<ul>
<li>decrement：事件类型（type）</li>
<li>(state){}：回调函数（handler），第一个参数就是state。</li>
</ul>
<p>通过mutation更新：this.commit(“事件类型”)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">subtraction() &#123;</span><br><span class="line">  this.$store.commit(&#39;decrement&#39;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="2、传递参数"><a href="#2、传递参数" class="headerlink" title="2、传递参数"></a>2、传递参数</h5><p>在通过mutation更新数据的时候, 有可能我们希望携带一些<strong>额外的参数</strong></p>
<p>参数被称为是mutation的载荷(Payload)，但需要记住：mutation的回调函数的第一个参数就是state，第二个才是载荷(Payload)。</p>
<h6 id="1、传递一个参数"><a href="#1、传递一个参数" class="headerlink" title="1、传递一个参数"></a>1、传递一个参数</h6><p><img src="VUE/165.png" alt="image-20210330232321987"></p>
<h6 id="2、传递多个参数（封装成一个对象）"><a href="#2、传递多个参数（封装成一个对象）" class="headerlink" title="2、传递多个参数（封装成一个对象）"></a>2、传递多个参数（封装成一个对象）</h6><ul>
<li>比如我们有很多参数需要传递。</li>
<li>这个时候, 我们通常会<strong>以对象的形式传递</strong>, 也就是<strong>payload是一个对象</strong>。</li>
<li>这个时候可以再<strong>从对象中取出相关的信息</strong>。</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> stu = &#123;<span class="attr">id</span>: <span class="number">114</span>, <span class="attr">name</span>: <span class="string">&#x27;alan&#x27;</span>, <span class="attr">age</span>: <span class="number">35</span>&#125;</span><br><span class="line"><span class="function"><span class="title">addStudent</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.$store.commit(<span class="string">&#x27;addStudent&#x27;</span>, stu)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="3、提交风格"><a href="#3、提交风格" class="headerlink" title="3、提交风格"></a>3、提交风格</h5><p>上面的通过<strong>commit</strong>进行提交是一种普通的方式。</p>
<p>Vue还提供了另外一种风格, 它是一个包含type属性的对象。</p>
<ul>
<li><p>特殊提交：因为变成了一个对象，里面除了count以外，还可以放入age等等，所以在Mutations的实现中需要使用payload.xxx的方式拿到xxx的值，否则直接拿到的xxx是一个payload对象。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">addCount</span>(<span class="params">count</span>)</span> &#123;</span><br><span class="line">   <span class="comment">// 2.特殊的提交封装</span></span><br><span class="line">   <span class="built_in">this</span>.$store.commit(&#123;</span><br><span class="line">       type: <span class="string">&#x27;incrementCount&#x27;</span>,</span><br><span class="line">       count</span><br><span class="line">   &#125;)     </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>Mutation中的处理方式是<strong>将整个commit的对象作为payload使用</strong>, 所以代码没有改变, 依然如下:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">incrementCount(state, payload) &#123;</span><br><span class="line">    state.counter +&#x3D; payload.count</span><br><span class="line">  &#125;,</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h5 id="4、响应规则（新版2-6-12以上不同，看总结）"><a href="#4、响应规则（新版2-6-12以上不同，看总结）" class="headerlink" title="4、响应规则（新版2.6.12以上不同，看总结）"></a>4、响应规则（新版2.6.12以上不同，看总结）</h5><p>Vuex的store中的state是响应式的, 当state中的数据发生改变时, Vue组件会自动更新。</p>
<p>原理：（观察者模式：监听 -&gt; 发现变化 -&gt; 刷新页面）</p>
<ul>
<li><p>在我们创建好store对象时已经将state里的所有的属性，所有的对象放在vue的响应式系统里面了</p>
</li>
<li><p>之后vue都会观察着在state中每一个属性/对象的变化。</p>
</li>
<li><p>vue会为每个属性对象设定Dep，每一个属性对象对应着一个Dep，这个Dep可以监听属性对象的变化（观察者模式），而Dep对应着许多Watcher，Dep里有一个Watcher数组，里面就是所有与该属性数据绑定的地方。一旦属性数据发生变化，它会看一下（Watcher）有哪些地方会根据数据的变化去刷新页面的。</p>
<p><img src="VUE/166.png" alt="属性被添加到响应式系统中"></p>
</li>
</ul>
<p>但这就要求我们必须遵守一些Vuex对应的规则:</p>
<ol>
<li><strong>提前在store中初始化好所需的属性</strong>。</li>
<li>当给state中的对象添加/删除新属性时, 使用下面的方式：<ul>
<li>方式一: 使用Vue.set(obj, ‘newProp’, 123)</li>
<li>方式二: 用新对象给旧对象重新赋值</li>
</ul>
</li>
</ol>
<p>对应规则讲解：</p>
<ul>
<li><p>规则1：info:{name: ‘why’,age: 18}，给info添加属性height: 1.88</p>
<p><img src="VUE/167.png" alt="image-20210331001216170"></p>
<p><strong>提前在store中初始化好所需的属性</strong>。对已经创建store对象之后在进行初始化的属性并不会加入Vue的响应式系统里面。虽然声明了属性并成功赋值了，但没有响应。</p>
</li>
<li><p>规则2：若要实现在创建store对象之后添加或删除的属性，而且要实现响应式，怎么做？</p>
<p><img src="VUE/168.png" alt="image-20210331001552856"></p>
<p>删除也一样，如果在Mutations中使用delete方式<code>delete state.info.age</code>进行实现删除，并不会实现响应式。但如果使用Vue.delete<code>Vue.delete(state.info,&#39;age&#39;)</code>的话就可以实现响应式，给info赋值一个新的对象也是。</p>
</li>
</ul>
<p>总结：以上规则在旧版本是这样的，但在新版本2.12.6以上不一样了，区别：</p>
<ul>
<li>如果你在方法里面使用与响应式相关的东西（如修改响应式数据，Vue.set、Vue.delete等等），这个时候使用非响应式的方式修改属性数据是可以做到响应式的。</li>
<li>但是，如果你在方法里面没有使用与响应式相关的东西，直接就是一些非响应式的操作，那么就不能实现响应式。</li>
<li>新版本同时写了响应式和非响应式的操作，在使用响应式的基础上，非响应式的也显示了。但是单单写非响应式的操作并不能实现响应式。</li>
</ul>
<h5 id="5、Mutation常量类型"><a href="#5、Mutation常量类型" class="headerlink" title="5、Mutation常量类型"></a>5、Mutation常量类型</h5><p>我们来考虑下面的问题:</p>
<ul>
<li>在mutation中, 我们定义了很多事件类型(也就是其中的方法名称)。</li>
<li>当我们的项目增大时, Vuex管理的状态越来越多, 需要更新状态的情况越来越多, 那么意味着Mutation中的方法越来越多。</li>
<li>方法过多, 使用者需要花费大量的经历去记住这些方法, 甚至是多个文件间来回切换, 查看方法名称, 甚至如果不是复制的时候, 可能还会出现写错的情况。</li>
</ul>
<p>如何避免上述的问题呢?</p>
<ul>
<li>在各种Flux实现中, 一种很常见的方案就是使用<strong>常量</strong>替代<strong>Mutation事件的类型</strong>。</li>
<li>我们可以将这些常量放在一个<strong>单独的文件</strong>中, 方便管理以及让整个app所有的事件类型一目了然。</li>
</ul>
<p>具体怎么实现?</p>
<ul>
<li>我们可以创建一个文件: mutation-types.js, 并且在其中定义我们的常量。</li>
<li>定义常量时, 我们可以使用ES2015中的风格, 使用一个常量来作为函数的名称。</li>
</ul>
<p><img src="VUE/169.png" alt="image-20210331003230794"></p>
<p>官网：用不用常量取决于你——在需要多人协作的大型项目中，这会很有帮助。但如果你不喜欢，你完全可以不这样做。</p>
<h5 id="6、同步函数"><a href="#6、同步函数" class="headerlink" title="6、同步函数"></a>6、同步函数</h5><p>通常情况下, Vuex要求我们Mutation中的方法必须是同步方法。</p>
<ul>
<li><p>主要的原因是当我们使用devtools时, 可以devtools可以帮助我们捕捉mutation的快照。</p>
</li>
<li><p>比如我们之前的代码, 当执行更新时, devtools中会有如下信息：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">updateInfo</span>(<span class="params">state</span>)</span> &#123;</span><br><span class="line">	state.info.name = <span class="string">&#x27;codewhy&#x27;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="VUE/172.png" alt="image-20210331004509394"></p>
</li>
<li><p>但是如果是异步操作, 那么devtools将不能很好的追踪这个操作什么时候会被完成。即不能实现State跟踪。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">updateInfo</span>(<span class="params">state</span>)</span> &#123;</span><br><span class="line">	<span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span>&#123;</span><br><span class="line">		state.info.name = <span class="string">&#x27;codewhy&#x27;</span></span><br><span class="line">	&#125;,<span class="number">1000</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="VUE/173.png" alt="image-20210331004903309"></p>
</li>
</ul>
<p><strong>总结：通常情况下, 不要再mutation中进行异步的操作。</strong></p>
<h4 id="4、Actions"><a href="#4、Actions" class="headerlink" title="4、Actions"></a>4、Actions</h4><h5 id="1、基本定义"><a href="#1、基本定义" class="headerlink" title="1、基本定义"></a>1、基本定义</h5><p>我们强调, 不要再Mutation中进行异步操作。但是某些情况, 我们确实希望在Vuex中进行一些异步操作, 比如网络请求, 必然是异步的。这个时候怎么处理呢?</p>
<p>Action类似于Mutation, 但是是用来代替Mutation进行异步操作的。</p>
<p>Action的基本使用代码：</p>
<p>index.js：</p>
<p>注意：这里的commit是在使用Mutations当中的updateInfo方法进行数据更改。通过这个方法将数据经过Mutations，使Devtools可以跟踪到。因为Actions到Mutations中间就是commit。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> Vuex <span class="keyword">from</span> <span class="string">&#x27;vuex&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 1.安装插件</span></span><br><span class="line">Vue.use(Vuex)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2.创建对象</span></span><br><span class="line"><span class="keyword">const</span> store = <span class="keyword">new</span> Vuex.Store(&#123;</span><br><span class="line">  state: &#123;</span><br><span class="line">      info: &#123;</span><br><span class="line">          name: <span class="string">&#x27;koby&#x27;</span>,</span><br><span class="line">          age: <span class="number">18</span></span><br><span class="line">      &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  mutations: &#123;</span><br><span class="line">    <span class="comment">// 方法</span></span><br><span class="line">    <span class="function"><span class="title">updateInfo</span>(<span class="params">state</span>)</span> &#123;</span><br><span class="line">      state.info.name = <span class="string">&#x27;coderwhy&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  actions: &#123;</span><br><span class="line">      <span class="comment">// context: 上下文</span></span><br><span class="line">	  <span class="function"><span class="title">aUpdateInfo</span>(<span class="params">context, payload</span>)</span> &#123;</span><br><span class="line">    	<span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      	  context.commit(<span class="string">&#x27;updateInfo&#x27;</span>)</span><br><span class="line">      	  <span class="built_in">console</span>.log(payload.message);</span><br><span class="line">      	  payload.success()</span><br><span class="line">    	&#125;, <span class="number">1000</span>)</span><br><span class="line">  	  &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">  getters: &#123;</span><br><span class="line">      </span><br><span class="line">  &#125;,</span><br><span class="line">  modules: &#123;</span><br><span class="line">      </span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 3.导出store</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> store</span><br></pre></td></tr></table></figure>

<p>组件：</p>
<p>注意：在这里不能使用this.#store.commit，因为现在是使用Actions里的方法进行异步操作，如果在这里使用commit，相当于将数据直接从Actions发送到了State，没有经过Mutations。Devtools不能进行属性跟踪。也违反了：Vuex的store状态的更新唯一方式：<strong>提交Mutation</strong>。而通过多界面状态管理图也可以发现：Actions到Mutations是dispatch，不是commit。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">updateInfo</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.$store.dispatch(<span class="string">&#x27;aUpdateInfo&#x27;</span>, &#123;</span><br><span class="line">    	message: <span class="string">&#x27;我是携带的信息&#x27;</span>,</span><br><span class="line">    	success: <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    		<span class="built_in">console</span>.log(<span class="string">&#x27;里面已经完成了&#x27;</span>);</span><br><span class="line">    	&#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>context是什么?</p>
<ul>
<li>context是和store对象具有相同方法和属性的对象。</li>
<li>也就是说, 我们可以通过context去进行commit相关的操作, 也可以获取context.state等。</li>
<li>但是注意, 这里它们并不是同一个对象, 为什么呢? 我们后面学习Modules的时候, 再具体说。</li>
</ul>
<p>这样的代码是否多此一举呢?</p>
<ul>
<li>我们定义了actions, 然后又在actions中去进行commit, 这不是脱裤放屁吗?</li>
<li>事实上并不是这样, 如果在Vuex中有异步操作, 那么我们就可以在actions中完成了。</li>
</ul>
<h5 id="2、Actions返回的Promise"><a href="#2、Actions返回的Promise" class="headerlink" title="2、Actions返回的Promise"></a>2、Actions返回的Promise</h5><p>前面我们学习ES6语法的时候说过, Promise经常用于异步操作。而Actions又是让我们实现异步操作的地方，所以能不能在Actions中使用Promise进行异步操作呢？</p>
<p>在Actions中, 我们可以将异步操作放在一个Promise中, 并且在成功或者失败后, 调用对应的resolve或reject</p>
<p>修改上面代码：</p>
<p>index.js：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">aUpdateInfo</span>(<span class="params">context, payload</span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        context.commit(<span class="string">&#x27;updateInfo&#x27;</span>);</span><br><span class="line">        <span class="built_in">console</span>.log(payload);</span><br><span class="line">	   <span class="comment">// 在返回的时候还能携带信息</span></span><br><span class="line">        resolve(<span class="string">&#x27;1111111&#x27;</span>)</span><br><span class="line">      &#125;, <span class="number">1000</span>)</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<p>组件：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">updateInfo</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">  <span class="built_in">this</span>.$store</span><br><span class="line">      .dispatch(<span class="string">&#x27;aUpdateInfo&#x27;</span>, <span class="string">&#x27;我是携带的信息&#x27;</span>)</span><br><span class="line">          .then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">&#x27;里面完成了提交&#x27;</span>);</span><br><span class="line">            <span class="built_in">console</span>.log(res);</span><br><span class="line">          &#125;)</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>

<p>其实本质上就是链式调用：</p>
<ol>
<li>在组件中使用<code>aUpdateInfo</code>去Actions里调用aUpdateInfo实现异步操作，同时传过去一些参数（’我是携带的信息’）</li>
<li>由于组件用了aUpdateInfo，在Actions中调用aUpdateInfo方法实现一些异步操作，同时使用<code>updateInfo</code>去Mutations里调用updateInfo方法实现store状态的更新，并Devtools实现State跟踪，而且还使用了组件传递过来的参数。最后返回一个Promise对象，在异步操作成功的时候进行resolve()/reject()，告诉组件这次异步操作成功还是失败，还可以向组件传递一些参数。</li>
<li>组件在使用<code>aUpdateInfo</code>去Actions里实现的时候就在等待Actions中的异步操作是否成功。因为Actions返回一个Promise对象，在组件里执行dispatch成功后就表示这次异步操作已经成功了（因为dispatch失败的话就会报错）由于异步操作成功实现，resolve()会进入到组件的then()当中，组件在then当中就可以获取来自Actions的一些消息和参数并使用。</li>
</ol>
<h4 id="5、Module"><a href="#5、Module" class="headerlink" title="5、Module"></a>5、Module</h4><h5 id="1、基本概念"><a href="#1、基本概念" class="headerlink" title="1、基本概念"></a>1、基本概念</h5><p>Module是模块的意思, 为什么在Vuex中我们要使用模块呢?</p>
<ul>
<li>Vue使用单一状态树,那么也意味着很多状态都会交给Vuex来管理。</li>
<li>当应用变得非常复杂时,store对象就有可能变得相当臃肿。</li>
<li>为了解决这个问题, Vuex允许我们将store分割成模块(Module), 而每个模块拥有自己的state、mutations、actions、getters等</li>
</ul>
<p>我们按照什么样的方式来组织模块呢? </p>
<p><img src="VUE/174.png" alt="image-20210331013941265"></p>
<h5 id="2、Module局部状态"><a href="#2、Module局部状态" class="headerlink" title="2、Module局部状态"></a>2、Module局部状态</h5><p>上面的代码中, 我们已经有了整体的组织结构, 下面我们来看看具体的局部模块中的代码如何书写。</p>
<p>我们在moduleA中添加State、Mutations、Getters、Actions，然后在组件去使用store当中模块里的这四个核心：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> moduleA = &#123;</span><br><span class="line">  state: &#123;</span><br><span class="line">    name: <span class="string">&#x27;zhangsan&#x27;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  mutations: &#123;</span><br><span class="line">    <span class="function"><span class="title">updateName</span>(<span class="params">state, payload</span>)</span> &#123;</span><br><span class="line">      state.name = payload</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  getters: &#123;</span><br><span class="line">    <span class="function"><span class="title">fullname</span>(<span class="params">state</span>)</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> state.name + <span class="string">&#x27;11111&#x27;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="function"><span class="title">fullname2</span>(<span class="params">state, getters</span>)</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> getters.fullname + <span class="string">&#x27;2222&#x27;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="function"><span class="title">fullname3</span>(<span class="params">state, getters, rootState</span>)</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> getters.fullname2 + rootState.counter</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  actions: &#123;</span><br><span class="line">    <span class="function"><span class="title">aUpdateName</span>(<span class="params">context</span>)</span> &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(context);</span><br><span class="line">      <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        context.commit(<span class="string">&#x27;updateName&#x27;</span>, <span class="string">&#x27;wangwu&#x27;</span>)</span><br><span class="line">      &#125;, <span class="number">1000</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><p>State：由于Vuex是单一状态树，用a定义在moduleA模块，最后会被转化为store的State中的一个a对象。</p>
<p><img src="VUE/175.png" alt="image-20210331020306951"></p>
<p>组件：a是store的state的一个对象</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;h2&gt;&#123;&#123;$store.state.a.name&#125;&#125;&lt;&#x2F;h2&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>Mutations：在模块里进行提交也是使用commit方法，但要注意：在模块的Mutations里定义的方法名不要与store当中Mutations里的方法重复。若是方法名重复的话，在组件进行commit提交的时候，不知道要提交给tore还是模块。</p>
<p>组件：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;button @click&#x3D;&quot;updateName&quot;&gt;修改名字&lt;&#x2F;button&gt;</span><br><span class="line"></span><br><span class="line">updateName() &#123;</span><br><span class="line">  this.$store.commit(&#39;updateName&#39;, &#39;lisi&#39;)</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>
</li>
<li><p>Getters：</p>
<ul>
<li>组件调用时不会理会这个fullname是来自哪里的，与之前一样调用就行。</li>
<li>当中模块当中要用到之前Getters获得到的值，就需要fullname2传入第二个参数getters，通过getters去获取之前定义的值。</li>
<li>当在模块中要使用store中state里的值，在fullname3当中传入第三个参数：rootState。可以通过rootState这个参数取到store当中state里的值。</li>
</ul>
<p>组件：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;h2&gt;&#123;&#123;$store.getters.fullname&#125;&#125;&lt;&#x2F;h2&gt;</span><br><span class="line">&lt;h2&gt;&#123;&#123;$store.getters.fullname2&#125;&#125;&lt;&#x2F;h2&gt;</span><br><span class="line">&lt;h2&gt;&#123;&#123;$store.getters.fullname3&#125;&#125;&lt;&#x2F;h2&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>Actions：在Actions里commit进行提交的时候使用的只能是模块里的Mutations中的方法，不能去使用store中Mutations当中的方法。同理store的Actions也是一样。</p>
<p>模块中的Actions的context：里面包含了很多东西：</p>
<ul>
<li><p>commit：提交到自身的Mutations</p>
</li>
<li><p>dispatch：分发到组件</p>
</li>
<li><p>getters：调用自身Getters的值</p>
</li>
<li><p>rootGetters：调用store中Getters的值</p>
</li>
<li><p>rootState：调用store中State的值</p>
<p>即在模块中使用comtext.rootState调用store里state的值。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(comtext.rootState.count)</span><br></pre></td></tr></table></figure>
</li>
<li><p>state：调用自身state的值</p>
</li>
</ul>
<p><img src="VUE/176.png" alt="image-20210331023258944"></p>
<p>Actions的另外一种写法：局部状态通过 context.state 暴露出来，根节点状态则为 context.rootState</p>
<p><img src="VUE/177.png" alt="image-20210331024203961"></p>
<p>其实这就是对象的结构（ES6语法），也是对象的一种语法糖：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 对象的解构</span></span><br><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">  name: <span class="string">&#x27;why&#x27;</span>,</span><br><span class="line">  age: <span class="number">18</span>,</span><br><span class="line">  height: <span class="number">1.88</span>,</span><br><span class="line">  address: <span class="string">&#x27;洛杉矶&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> &#123;name, height, age&#125; = obj;</span><br><span class="line"><span class="built_in">console</span>.log(name) <span class="comment">// why</span></span><br></pre></td></tr></table></figure>

<p>同理，数组也是可以解构的，但是并不常用：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> names = [<span class="string">&#x27;why&#x27;</span>,<span class="string">&#x27;koby&#x27;</span>,<span class="string">&#x27;james&#x27;</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> &#123;name1,name2,name3&#125; = names</span><br><span class="line"><span class="built_in">console</span>.log(name1) <span class="comment">// why</span></span><br></pre></td></tr></table></figure>

<p>组件：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;button @click&#x3D;&quot;asyncUpdateName&quot;&gt;异步修改名字&lt;&#x2F;button&gt;</span><br><span class="line"></span><br><span class="line">asyncUpdateName() &#123;</span><br><span class="line">  this.$store.dispatch(&#39;aUpdateName&#39;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h3 id="6、项目结构组织"><a href="#6、项目结构组织" class="headerlink" title="6、项目结构组织"></a>6、项目结构组织</h3><p>因为我有关于Vuex的使用都是在index.js当中，无论是Vuex的安装导出，还是Vuex的五大核心，特别是module模块里还可以使用四大核心。但我们的项目越来越大，越来越复杂的时候，我们的index.js就会变得十分臃肿。十分不利于我们进行查看与管理。当我们的Vuex帮助我们管理过多的内容时,我们可以将代码进行抽离</p>
<p>官方推荐：</p>
<ul>
<li>State：一般会放在index.js里面，可以在外面定义一个state变量，在store里引用。因为我们一般是希望在index.js当中可以一样看到Vuex管理的状态。（当然进行抽离也是可以的）</li>
<li>Getters/Mutations/Action：s新建成一个js文件，将在index.js里Getters/Mutations/Actions的那一部分抽离到对应的js文件当中。而在index.js里只需要导入后在store进行使用就行了。</li>
<li>Module：新建一个modules文件夹，把index.js当中定义的每一个module部分分别在modules文件夹当中建立对应的js文件。而在index.js中只需要导入后在store里的module进行对应模块的引用就行。</li>
</ul>
<p>抽离过后的index.js：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> Vuex <span class="keyword">from</span> <span class="string">&#x27;vuex&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> mutations <span class="keyword">from</span> <span class="string">&#x27;./mutations&#x27;</span></span><br><span class="line"><span class="keyword">import</span> actions <span class="keyword">from</span> <span class="string">&#x27;./actions&#x27;</span></span><br><span class="line"><span class="keyword">import</span> getters <span class="keyword">from</span> <span class="string">&#x27;./getters&#x27;</span></span><br><span class="line"><span class="keyword">import</span> moduleA <span class="keyword">from</span> <span class="string">&#x27;./modules/moduleA&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 1.安装插件</span></span><br><span class="line">Vue.use(Vuex)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2.创建对象</span></span><br><span class="line"><span class="keyword">const</span> state = &#123;</span><br><span class="line">  counter: <span class="number">1000</span>,</span><br><span class="line">  students: [</span><br><span class="line">    &#123;<span class="attr">id</span>: <span class="number">110</span>, <span class="attr">name</span>: <span class="string">&#x27;why&#x27;</span>, <span class="attr">age</span>: <span class="number">18</span>&#125;,</span><br><span class="line">    &#123;<span class="attr">id</span>: <span class="number">111</span>, <span class="attr">name</span>: <span class="string">&#x27;kobe&#x27;</span>, <span class="attr">age</span>: <span class="number">24</span>&#125;,</span><br><span class="line">    &#123;<span class="attr">id</span>: <span class="number">112</span>, <span class="attr">name</span>: <span class="string">&#x27;james&#x27;</span>, <span class="attr">age</span>: <span class="number">30</span>&#125;,</span><br><span class="line">    &#123;<span class="attr">id</span>: <span class="number">113</span>, <span class="attr">name</span>: <span class="string">&#x27;curry&#x27;</span>, <span class="attr">age</span>: <span class="number">10</span>&#125;</span><br><span class="line">  ],</span><br><span class="line">  info: &#123;</span><br><span class="line">    name: <span class="string">&#x27;kobe&#x27;</span>,</span><br><span class="line">    age: <span class="number">40</span>,</span><br><span class="line">    height: <span class="number">1.98</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> store = <span class="keyword">new</span> Vuex.Store(&#123;</span><br><span class="line">  state,</span><br><span class="line">  mutations,</span><br><span class="line">  actions,</span><br><span class="line">  getters,</span><br><span class="line"></span><br><span class="line">  modules: &#123;</span><br><span class="line">    a: moduleA</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 3.导出store独享</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> store</span><br></pre></td></tr></table></figure>

<p>好的项目结构可以让我们的代码更加清晰：</p>
<p><img src="VUE/178.png" alt="image-20210331024637532"></p>
<h2 id="十一、网络请求模块aniox"><a href="#十一、网络请求模块aniox" class="headerlink" title="十一、网络请求模块aniox"></a>十一、网络请求模块aniox</h2><h3 id="1、网络模块的选择"><a href="#1、网络模块的选择" class="headerlink" title="1、网络模块的选择"></a>1、网络模块的选择</h3><p>Vue中发送网络请求有非常多的方式, 那么, 在开发中, 如何选择呢？</p>
<ol>
<li><p>选择一: 传统的Ajax是基于XMLHttpRequest(XHR)</p>
<p>为什么不用它呢?</p>
<ul>
<li>非常好解释, 配置和调用方式等非常混乱。</li>
<li>编码起来看起来就非常蛋疼。</li>
<li>所以真实开发中很少直接使用, 而是使用jQuery-Ajax。</li>
</ul>
</li>
<li><p>选择二: 在前面的学习中, 我们经常会使用jQuery-Ajax</p>
<p>相对于传统的Ajax非常好用。</p>
<p>为什么不选择它呢?</p>
<ul>
<li>首先, 我们先明确一点: 在Vue的整个开发中都是不需要使用jQuery了。</li>
<li>那么, 就意味着为了方便我们进行一个网络请求, 特意引用一个jQuery, 你觉得合理吗?<ul>
<li>jQuery的代码1w+行。</li>
<li>Vue的代码才1w+行。</li>
</ul>
</li>
<li>完全没有必要为了用网络请求就引用这个重量级的框架</li>
</ul>
</li>
<li><p>选择三: 官方在Vue1.x的时候, 推出了Vue-resource。</p>
<p>Vue-resource的体积相对于jQuery小很多。</p>
<p>另外Vue-resource是官方推出的。</p>
<p>为什么不选择它呢?</p>
<ul>
<li>在Vue2.0退出后, Vue作者就在GitHub的Issues中说明了去掉vue-resource, 并且以后也不会再更新。</li>
<li>那么意味着以后vue-reource不再支持新的版本时, 也不会再继续更新和维护。</li>
<li>对以后的项目开发和维护都存在很大的隐患。</li>
</ul>
</li>
<li><p>选择四: 在说明不再继续更新和维护vue-resource的同时, 作者还推荐了一个框架: axios为什么不用它呢?</p>
<ul>
<li>axios有非常多的优点, 并且用起来也非常方便。</li>
</ul>
</li>
</ol>
<h3 id="2、跨域"><a href="#2、跨域" class="headerlink" title="2、跨域"></a>2、跨域</h3><h4 id="1、为什么会出现跨域问题？"><a href="#1、为什么会出现跨域问题？" class="headerlink" title="1、为什么会出现跨域问题？"></a>1、为什么会出现跨域问题？</h4><p>出于浏览器的<strong>同源策略</strong>限制。</p>
<p>同源策略（Sameoriginpolicy）是一种约定，它是<strong>浏览器最核心也最基本的安全功能</strong>，如果缺少了同源策略，则浏览器的正常功能可能都会受到影响。可以说Web是构建在同源策略基础之上的，浏览器只是针对同源策略的一种实现。</p>
<p>同源策略会<strong>阻止一个域的javascript脚本和另外一个域的内容进行交互</strong>。所谓同源（即指在同一个域）就是两个页面具有<strong>相同的<code>协议（protocol）</code>，<code>主机（host）</code>和<code>端口号（port）</code></strong></p>
<h4 id="2、什么是跨域？"><a href="#2、什么是跨域？" class="headerlink" title="2、什么是跨域？"></a>2、什么是跨域？</h4><p>当一个请求url的<strong>协议、域名、端口</strong>三者之间任意一个与当前页面url不同即为跨域。</p>
<table>
<thead>
<tr>
<th>当前页面url</th>
<th>被请求页面url</th>
<th>是否跨域</th>
<th>原因</th>
</tr>
</thead>
<tbody><tr>
<td><a target="_blank" rel="noopener" href="http://www.test.com/">http://www.test.com/</a></td>
<td><a target="_blank" rel="noopener" href="http://www.test.com/index.html">http://www.test.com/index.html</a></td>
<td>否</td>
<td>同源（协议、域名、端口号相同）</td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="http://www.test.com/">http://www.test.com/</a></td>
<td><a target="_blank" rel="noopener" href="https://www.test.com/index.html">https://www.test.com/index.html</a></td>
<td>跨域</td>
<td>协议不同（http/https）</td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="http://www.test.com/">http://www.test.com/</a></td>
<td><a target="_blank" rel="noopener" href="http://www.baidu.com/">http://www.baidu.com/</a></td>
<td>跨域</td>
<td>主域名不同（test/baidu）</td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="http://www.test.com/">http://www.test.com/</a></td>
<td><a target="_blank" rel="noopener" href="http://blog.test.com/">http://blog.test.com/</a></td>
<td>跨域</td>
<td>子域名不同（www/blog）</td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="http://www.test.com:8080/">http://www.test.com:8080/</a></td>
<td><a target="_blank" rel="noopener" href="http://www.test.com:7001/">http://www.test.com:7001/</a></td>
<td>跨域</td>
<td>端口号不同（8080/7001）</td>
</tr>
</tbody></table>
<h4 id="3、非同源限制"><a href="#3、非同源限制" class="headerlink" title="3、非同源限制"></a>3、非同源限制</h4><p>同源策略限制了一下行为：</p>
<ul>
<li>Cookie、LocalStorage 和 IndexDB 无法读取</li>
<li>DOM 和 JS 对象无法获取</li>
<li>Ajax请求发送不出去</li>
</ul>
<h4 id="4、跨域解决方法"><a href="#4、跨域解决方法" class="headerlink" title="4、跨域解决方法"></a>4、跨域解决方法</h4><p><a target="_blank" rel="noopener" href="https://juejin.cn/post/6844903521163182088">更多详情</a></p>
<h5 id="1、后台"><a href="#1、后台" class="headerlink" title="1、后台"></a>1、后台</h5><h6 id="1、使用nginx进行反向代理"><a href="#1、使用nginx进行反向代理" class="headerlink" title="1、使用nginx进行反向代理"></a>1、使用nginx进行反向代理</h6><p>既然跨域会产生问题，那么我们就不跨域不就完了嘛！！！</p>
<p><img src="VUE/180.png" alt="img"></p>
<p>首先我们用nginx作为代理服务器和用户交互，这样用户就只需要在80端口上进行交互就可以了，这样就避免了跨域问题，因为我们都是在80端口上进行交互的：</p>
<p>利用nginx作为反向代理的具体配置：</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">server &#123;</span><br><span class="line"></span><br><span class="line">        listen      80; #监听80端口，可以改成其他端口</span><br><span class="line"></span><br><span class="line">        server_name  localhost; # 当前服务的域名</span><br><span class="line"></span><br><span class="line">        #charset koi8-r;</span><br><span class="line"></span><br><span class="line">        #access_log  logs/host.access.log  main;</span><br><span class="line"></span><br><span class="line">        location / &#123;</span><br><span class="line"></span><br><span class="line">            proxy_pass http://localhost:81;</span><br><span class="line"></span><br><span class="line">            proxy_redirect default;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">location /apis &#123; #添加访问目录为/apis的代理配置</span><br><span class="line"></span><br><span class="line">rewrite  ^/apis/(.*)$ /$1 break;</span><br><span class="line"></span><br><span class="line">proxy_pass  http://localhost:82;</span><br><span class="line"></span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">#以下配置省略</span><br></pre></td></tr></table></figure>

<ol>
<li>当用户发送localhost:80/时会被nginx转发到<a href="http://localhost:81服务；">http://localhost:81服务；</a></li>
<li>当界面请求接口数据时，只要以/apis 为开头，就会被nginx转发到后端接口服务器上。</li>
</ol>
<p>总结：nginx实现跨域的原理，实际就是把web项目和后端接口项目放到一个域中，这样就不存在跨域问题，然后根据请求地址去请求不同服务器（真正干活的服务器）。</p>
<h5 id="2、前端"><a href="#2、前端" class="headerlink" title="2、前端"></a>2、前端</h5><h6 id="1、设置document-domain解决无法读取非同源网页的-Cookie问题"><a href="#1、设置document-domain解决无法读取非同源网页的-Cookie问题" class="headerlink" title="1、设置document.domain解决无法读取非同源网页的 Cookie问题"></a>1、设置document.domain解决无法读取非同源网页的 Cookie问题</h6><p>因为浏览器是通过document.domain属性来检查两个页面是否同源，因此只要通过设置相同的document.domain，两个页面就可以共享Cookie（此方案仅限主域相同，子域不同的跨域应用场景。）</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 两个页面都设置</span></span><br><span class="line"><span class="built_in">document</span>.domain = <span class="string">&#x27;test.com&#x27;</span>;</span><br></pre></td></tr></table></figure>

<h6 id="2、跨文档通信-API：window-postMessage"><a href="#2、跨文档通信-API：window-postMessage" class="headerlink" title="2、跨文档通信 API：window.postMessage()"></a>2、跨文档通信 API：window.postMessage()</h6><p>调用postMessage方法实现父窗口<a target="_blank" rel="noopener" href="http://test1.com向子窗口http//test2.com%E5%8F%91%E6%B6%88%E6%81%AF%EF%BC%88%E5%AD%90%E7%AA%97%E5%8F%A3%E5%90%8C%E6%A0%B7%E5%8F%AF%E4%BB%A5%E9%80%9A%E8%BF%87%E8%AF%A5%E6%96%B9%E6%B3%95%E5%8F%91%E9%80%81%E6%B6%88%E6%81%AF%E7%BB%99%E7%88%B6%E7%AA%97%E5%8F%A3%EF%BC%89">http://test1.com向子窗口http://test2.com发消息（子窗口同样可以通过该方法发送消息给父窗口）</a></p>
<p>它可用于解决以下方面的问题：</p>
<ul>
<li>页面和其打开的新窗口的数据传递</li>
<li>多窗口之间消息传递</li>
<li>页面与嵌套的iframe消息传递</li>
<li>上面三个场景的跨域数据传递</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 父窗口打开一个子窗口</span></span><br><span class="line"><span class="keyword">var</span> openWindow = <span class="built_in">window</span>.open(<span class="string">&#x27;http://test2.com&#x27;</span>, <span class="string">&#x27;title&#x27;</span>);</span><br><span class="line"> </span><br><span class="line"><span class="comment">// 父窗口向子窗口发消息(第一个参数代表发送的内容，第二个参数代表接收消息窗口的url)</span></span><br><span class="line">openWindow.postMessage(<span class="string">&#x27;Nice to meet you!&#x27;</span>, <span class="string">&#x27;http://test2.com&#x27;</span>);</span><br></pre></td></tr></table></figure>

<p>调用message事件，监听对方发送的消息</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 监听 message 消息</span></span><br><span class="line"><span class="built_in">window</span>.addEventListener(<span class="string">&#x27;message&#x27;</span>, <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(e.source); <span class="comment">// e.source 发送消息的窗口</span></span><br><span class="line">  <span class="built_in">console</span>.log(e.origin); <span class="comment">// e.origin 消息发向的网址</span></span><br><span class="line">  <span class="built_in">console</span>.log(e.data);   <span class="comment">// e.data   发送的消息</span></span><br><span class="line">&#125;,<span class="literal">false</span>);</span><br></pre></td></tr></table></figure>

<h6 id="3、JSONP"><a href="#3、JSONP" class="headerlink" title="3、JSONP"></a>3、JSONP</h6><p>JSONP 是服务器与客户端跨源通信的常用方法。最大特点就是简单适用，兼容性好（兼容低版本IE），缺点是只支持get请求，不支持post请求。</p>
<p>核心思想：网页通过添加一个<script>元素，向服务器请求 JSON 数据，服务器收到请求后，将数据放在一个指定名字的回调函数的参数位置传回来。</p>
<ol>
<li><p>原生实现：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;http://test.com/data.php?callback=dosomething&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">// 向服务器test.com发出请求，该请求的查询字符串有一个callback参数，用来指定回调函数的名字</span><br><span class="line"> </span><br><span class="line">// 处理服务器返回回调函数的数据</span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="keyword">function</span> <span class="title">dosomething</span>(<span class="params">res</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="comment">// 处理获得的数据</span></span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(res.data)</span></span><br><span class="line">    &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>jQuery ajax：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$.ajax(&#123;</span><br><span class="line">    url: <span class="string">&#x27;http://www.test.com:8080/login&#x27;</span>,</span><br><span class="line">    type: <span class="string">&#x27;get&#x27;</span>,</span><br><span class="line">    dataType: <span class="string">&#x27;jsonp&#x27;</span>,  <span class="comment">// 请求方式为jsonp</span></span><br><span class="line">    jsonpCallback: <span class="string">&quot;handleCallback&quot;</span>,    <span class="comment">// 自定义回调函数名</span></span><br><span class="line">    data: &#123;&#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
</li>
<li><p>Vue.js：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">this</span>.$http.jsonp(<span class="string">&#x27;http://www.domain2.com:8080/login&#x27;</span>, &#123;</span><br><span class="line">    params: &#123;&#125;,</span><br><span class="line">    jsonp: <span class="string">&#x27;handleCallback&#x27;</span></span><br><span class="line">&#125;).then(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(res); </span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h6 id="4、CORS"><a href="#4、CORS" class="headerlink" title="4、CORS"></a>4、CORS</h6><p>CORS 是跨域资源分享（Cross-Origin Resource Sharing）的缩写。它是 W3C 标准，属于跨源 AJAX 请求的根本解决方法。</p>
<ol>
<li><p><strong>普通跨域请求：只需服务器端设置Access-Control-Allow-Origin</strong></p>
</li>
<li><p><strong>带cookie跨域请求：前后端都需要进行设置</strong></p>
<p><strong>【前端设置】</strong></p>
<p>根据xhr.withCredentials字段判断是否带有cookie：</p>
<ol>
<li><p>原生ajax：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> xhr = <span class="keyword">new</span> XMLHttpRequest(); <span class="comment">// IE8/9需用window.XDomainRequest兼容</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">// 前端设置是否带cookie</span></span><br><span class="line">xhr.withCredentials = <span class="literal">true</span>;</span><br><span class="line"> </span><br><span class="line">xhr.open(<span class="string">&#x27;post&#x27;</span>, <span class="string">&#x27;http://www.domain2.com:8080/login&#x27;</span>, <span class="literal">true</span>);</span><br><span class="line">xhr.setRequestHeader(<span class="string">&#x27;Content-Type&#x27;</span>, <span class="string">&#x27;application/x-www-form-urlencoded&#x27;</span>);</span><br><span class="line">xhr.send(<span class="string">&#x27;user=admin&#x27;</span>);</span><br><span class="line"> </span><br><span class="line">xhr.onreadystatechange = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (xhr.readyState == <span class="number">4</span> &amp;&amp; xhr.status == <span class="number">200</span>) &#123;</span><br><span class="line">        alert(xhr.responseText);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
</li>
<li><p>jQuery ajax：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$.ajax(&#123;</span><br><span class="line">   url: <span class="string">&#x27;http://www.test.com:8080/login&#x27;</span>,</span><br><span class="line">   type: <span class="string">&#x27;get&#x27;</span>,</span><br><span class="line">   data: &#123;&#125;,</span><br><span class="line">   xhrFields: &#123;</span><br><span class="line">       withCredentials: <span class="literal">true</span>    <span class="comment">// 前端设置是否带cookie</span></span><br><span class="line">   &#125;,</span><br><span class="line">   crossDomain: <span class="literal">true</span>,   <span class="comment">// 会让请求头中包含跨域的额外信息，但不会含cookie</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
</li>
<li><p>vue-resource：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Vue.http.options.credentials = <span class="literal">true</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>axios：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">axios.defaults.withCredentials = <span class="literal">true</span></span><br></pre></td></tr></table></figure>

</li>
</ol>
<p><strong>【服务端设置】</strong></p>
<p>服务器端对于CORS的支持，主要是通过设置Access-Control-Allow-Origin来进行的。如果浏览器检测到相应的设置，就可以允许Ajax进行跨域的访问。</p>
<ol>
<li><p>Java后台：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * 导入包：import javax.servlet.http.HttpServletResponse;</span></span><br><span class="line"><span class="comment"> * 接口参数中定义：HttpServletResponse response</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">// 允许跨域访问的域名：若有端口需写全（协议+域名+端口），若没有端口末尾不用加&#x27;/&#x27;</span></span><br><span class="line">response.setHeader(<span class="string">&quot;Access-Control-Allow-Origin&quot;</span>, <span class="string">&quot;http://www.domain1.com&quot;</span>); </span><br><span class="line"> </span><br><span class="line"><span class="comment">// 允许前端带认证cookie：启用此项后，上面的域名不能为&#x27;*&#x27;，必须指定具体的域名，否则浏览器会提示</span></span><br><span class="line">response.setHeader(<span class="string">&quot;Access-Control-Allow-Credentials&quot;</span>, <span class="string">&quot;true&quot;</span>); </span><br><span class="line"> </span><br><span class="line"><span class="comment">// 提示OPTIONS预检时，后端需要设置的两个常用自定义头</span></span><br><span class="line">response.setHeader(<span class="string">&quot;Access-Control-Allow-Headers&quot;</span>, <span class="string">&quot;Content-Type,X-Requested-With&quot;</span>);</span><br></pre></td></tr></table></figure>
</li>
<li><p>Nodejs后台</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> http = <span class="built_in">require</span>(<span class="string">&#x27;http&#x27;</span>);</span><br><span class="line"><span class="keyword">var</span> server = http.createServer();</span><br><span class="line"><span class="keyword">var</span> qs = <span class="built_in">require</span>(<span class="string">&#x27;querystring&#x27;</span>);</span><br><span class="line"> </span><br><span class="line">server.on(<span class="string">&#x27;request&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params">req, res</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> postData = <span class="string">&#x27;&#x27;</span>;</span><br><span class="line"> </span><br><span class="line">    <span class="comment">// 数据块接收中</span></span><br><span class="line">    req.addListener(<span class="string">&#x27;data&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params">chunk</span>) </span>&#123;</span><br><span class="line">        postData += chunk;</span><br><span class="line">    &#125;);</span><br><span class="line"> </span><br><span class="line">    <span class="comment">// 数据接收完毕</span></span><br><span class="line">    req.addListener(<span class="string">&#x27;end&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        postData = qs.parse(postData);</span><br><span class="line"> </span><br><span class="line">        <span class="comment">// 跨域后台设置</span></span><br><span class="line">        res.writeHead(<span class="number">200</span>, &#123;</span><br><span class="line">            <span class="string">&#x27;Access-Control-Allow-Credentials&#x27;</span>: <span class="string">&#x27;true&#x27;</span>,     <span class="comment">// 后端允许发送Cookie</span></span><br><span class="line">            <span class="string">&#x27;Access-Control-Allow-Origin&#x27;</span>: <span class="string">&#x27;http://www.domain1.com&#x27;</span>,    <span class="comment">// 允许访问的域（协议+域名+端口）</span></span><br><span class="line">            <span class="comment">/* </span></span><br><span class="line"><span class="comment">             * 此处设置的cookie还是domain2的而非domain1，因为后端也不能跨域写cookie(nginx反向代理可以实现)，</span></span><br><span class="line"><span class="comment">             * 但只要domain2中写入一次cookie认证，后面的跨域接口都能从domain2中获取cookie，从而实现所有的接口都能跨域访问</span></span><br><span class="line"><span class="comment">             */</span></span><br><span class="line">            <span class="string">&#x27;Set-Cookie&#x27;</span>: <span class="string">&#x27;l=a123456;Path=/;Domain=www.domain2.com;HttpOnly&#x27;</span>  <span class="comment">// HttpOnly的作用是让js无法读取cookie</span></span><br><span class="line">        &#125;);</span><br><span class="line"> </span><br><span class="line">        res.write(<span class="built_in">JSON</span>.stringify(postData));</span><br><span class="line">        res.end();</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;);</span><br><span class="line"> </span><br><span class="line">server.listen(<span class="string">&#x27;8080&#x27;</span>);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&#x27;Server is running at port 8080...&#x27;</span>);</span><br></pre></td></tr></table></figure>
</li>
<li><p>PHP后台：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"> header(<span class="string">&quot;Access-Control-Allow-Origin:*&quot;</span>);</span><br></pre></td></tr></table></figure>
</li>
<li><p>Apache需要使用mod_headers模块来激活HTTP头的设置，它默认是激活的。你只需要在Apache配置文件的<Directory>, <Location>, <Files>或<VirtualHost>的配置里加入以下内容即可</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Header set Access-Control-Allow-Origin *</span><br></pre></td></tr></table></figure>

</li>
</ol>
</li>
</ol>
<h3 id="3、JSONP的封装"><a href="#3、JSONP的封装" class="headerlink" title="3、JSONP的封装"></a>3、JSONP的封装</h3><h4 id="1、什么是JSONP"><a href="#1、什么是JSONP" class="headerlink" title="1、什么是JSONP"></a>1、什么是JSONP</h4><p>在前端开发中, 我们一种常见的网络请求方式就是JSONP：使用JSONP最主要的原因往往是为了解决跨域访问的问题。</p>
<p>JSONP的原理是什么呢?</p>
<ul>
<li>JSONP的核心在于通过<script>标签的src来帮助我们请求数据。</li>
<li>原因是我们的项目部署在domain1.com服务器上时, 是不能直接访问domain2.com服务器上的资料的。</li>
<li>这个时候, 我们利用<script>标签的src帮助我们去服务器请求到数据, 将数据当做一个javascript的函数来执行, 并且执行的过程中传入我们需要的json。</li>
<li>所以, 封装jsonp的核心就在于我们监听window上的jsonp进行回调时的名称。</li>
</ul>
<p><img src="VUE/171.png" alt="image-20210331231151444"></p>
<h4 id="2、JSONP的封装"><a href="#2、JSONP的封装" class="headerlink" title="2、JSONP的封装"></a>2、JSONP的封装</h4><p><img src="VUE/170.png" alt="image-20210331231233559"></p>
<h3 id="4、认识axios"><a href="#4、认识axios" class="headerlink" title="4、认识axios"></a>4、认识axios</h3><p>更多学习：<a target="_blank" rel="noopener" href="https://www.runoob.com/vue3/vue3-ajax-axios.html">菜鸟教程</a></p>
<h4 id="1、为什么选择axios"><a href="#1、为什么选择axios" class="headerlink" title="1、为什么选择axios?"></a>1、为什么选择axios?</h4><ul>
<li><p>作者推荐：</p>
<p><img src="VUE/161.png" alt="image-20210331231358415"></p>
</li>
<li><p>功能特点:</p>
<ul>
<li>在浏览器中发送 XMLHttpRequests 请求</li>
<li>在 node.js 中发送 http请求</li>
<li>支持 Promise API</li>
<li>拦截请求和响应</li>
<li>转换请求和响应数据</li>
<li>….</li>
</ul>
</li>
</ul>
<h4 id="2、axios请求方式"><a href="#2、axios请求方式" class="headerlink" title="2、axios请求方式"></a>2、axios请求方式</h4><p>支持多种请求方式:</p>
<ul>
<li>axios(config)</li>
<li>axios.request(config)</li>
<li>axios.get(url[, config])</li>
<li>axios.delete(url[, config])</li>
<li>axios.head(url[, config])</li>
<li>axios.post(url[, data[, config]])</li>
<li>axios.put(url[, data[, config]])</li>
<li>axios.patch(url[, data[, config]])</li>
</ul>
<p>演示：</p>
<ul>
<li><p>发送get请求演示：（使用 response.data 读取 JSON 数据）</p>
<p>没有参数传递：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h1</span>&gt;</span>网站列表<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span></span></span><br><span class="line"><span class="tag">    <span class="attr">v-for</span>=<span class="string">&quot;site in info&quot;</span></span></span><br><span class="line"><span class="tag">  &gt;</span></span><br><span class="line">    &#123;&#123; site.name &#125;&#125;</span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span> = <span class="string">&quot;text/javascript&quot;</span>&gt;</span></span><br><span class="line"><span class="javascript"><span class="keyword">const</span> app = &#123;</span></span><br><span class="line"><span class="javascript">  <span class="function"><span class="title">data</span>(<span class="params"></span>)</span> &#123;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="javascript">      info: <span class="string">&#x27;Ajax 测试!!&#x27;</span></span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  mounted () &#123;</span><br><span class="line">    axios</span><br><span class="line"><span class="javascript">      .get(<span class="string">&#x27;https://www.runoob.com/try/ajax/json_demo.json&#x27;</span>)</span></span><br><span class="line"><span class="javascript">      .then(<span class="function"><span class="params">response</span> =&gt;</span> (<span class="built_in">this</span>.info = response))</span></span><br><span class="line"><span class="javascript">      .catch(<span class="function"><span class="keyword">function</span> (<span class="params">error</span>) </span>&#123; <span class="comment">// 请求失败处理</span></span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(error);</span></span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="javascript">Vue.createApp(app).mount(<span class="string">&#x27;#app&#x27;</span>)</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>传递参数：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 直接在 URL 上添加参数 ID=12345</span></span><br><span class="line">axios.get(<span class="string">&#x27;/user?ID=12345&#x27;</span>)</span><br><span class="line">  .then(<span class="function"><span class="keyword">function</span> (<span class="params">response</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(response);</span><br><span class="line">  &#125;)</span><br><span class="line">  .catch(<span class="function"><span class="keyword">function</span> (<span class="params">error</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(error);</span><br><span class="line">  &#125;);</span><br><span class="line"> </span><br><span class="line"><span class="comment">// 也可以通过 params 设置参数：</span></span><br><span class="line">axios.get(<span class="string">&#x27;/user&#x27;</span>, &#123;</span><br><span class="line">    params: &#123;</span><br><span class="line">      ID: <span class="number">12345</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">  .then(<span class="function"><span class="keyword">function</span> (<span class="params">response</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(response);</span><br><span class="line">  &#125;)</span><br><span class="line">  .catch(<span class="function"><span class="keyword">function</span> (<span class="params">error</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(error);</span><br><span class="line">  &#125;);</span><br></pre></td></tr></table></figure>
</li>
<li><p>发送post请求演示：</p>
<p>没有传递参数：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  el: <span class="string">&#x27;#app&#x27;</span>,</span><br><span class="line">  data () &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      info: <span class="literal">null</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  mounted () &#123;</span><br><span class="line">    axios</span><br><span class="line">      .post(<span class="string">&#x27;https://www.runoob.com/try/ajax/demo_axios_post.php&#x27;</span>)</span><br><span class="line">      .then(<span class="function"><span class="params">response</span> =&gt;</span> (<span class="built_in">this</span>.info = response))</span><br><span class="line">      .catch(<span class="function"><span class="keyword">function</span> (<span class="params">error</span>) </span>&#123; <span class="comment">// 请求失败处理</span></span><br><span class="line">        <span class="built_in">console</span>.log(error);</span><br><span class="line">      &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>参数传递：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">axios.post(<span class="string">&#x27;/user&#x27;</span>, &#123;</span><br><span class="line">    firstName: <span class="string">&#x27;Fred&#x27;</span>,        <span class="comment">// 参数 firstName</span></span><br><span class="line">    lastName: <span class="string">&#x27;Flintstone&#x27;</span>    <span class="comment">// 参数 lastName</span></span><br><span class="line">  &#125;)</span><br><span class="line">  .then(<span class="function"><span class="keyword">function</span> (<span class="params">response</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(response);</span><br><span class="line">  &#125;)</span><br><span class="line">  .catch(<span class="function"><span class="keyword">function</span> (<span class="params">error</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(error);</span><br><span class="line">  &#125;);</span><br></pre></td></tr></table></figure>

<p>执行多个并发请求：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getUserAccount</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> axios.get(<span class="string">&#x27;/user/12345&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getUserPermissions</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> axios.get(<span class="string">&#x27;/user/12345/permissions&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line">axios.all([getUserAccount(), getUserPermissions()])</span><br><span class="line">  .then(axios.spread(<span class="function"><span class="keyword">function</span> (<span class="params">acct, perms</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 两个请求现在都执行完成</span></span><br><span class="line">  &#125;));</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h4 id="3、axios的使用"><a href="#3、axios的使用" class="headerlink" title="3、axios的使用"></a>3、axios的使用</h4><p>除了上面两种方法，axios还可以直接传递相关配置来创建请求。</p>
<h5 id="1、发送axios-config-请求演示："><a href="#1、发送axios-config-请求演示：" class="headerlink" title="1、发送axios(config)请求演示："></a>1、发送axios(config)请求演示：</h5><p>可以通过向 axios <strong>传递相关配置</strong>来创建请求：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">axios(config)</span><br><span class="line"><span class="comment">// 发送 POST 请求</span></span><br><span class="line">axios(&#123;</span><br><span class="line">  method: <span class="string">&#x27;post&#x27;</span>,</span><br><span class="line">  url: <span class="string">&#x27;/user/12345&#x27;</span>,</span><br><span class="line">  data: &#123;</span><br><span class="line">    firstName: <span class="string">&#x27;Fred&#x27;</span>,</span><br><span class="line">    lastName: <span class="string">&#x27;Flintstone&#x27;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">//  GET 请求远程图片</span></span><br><span class="line">axios(&#123;</span><br><span class="line">  method:<span class="string">&#x27;get&#x27;</span>,</span><br><span class="line">  url:<span class="string">&#x27;http://bit.ly/2mTM3nY&#x27;</span>,</span><br><span class="line">  responseType:<span class="string">&#x27;stream&#x27;</span></span><br><span class="line">&#125;)</span><br><span class="line">  .then(<span class="function"><span class="keyword">function</span>(<span class="params">response</span>) </span>&#123;</span><br><span class="line">  response.data.pipe(fs.createWriteStream(<span class="string">&#x27;ada_lovelace.jpg&#x27;</span>))</span><br><span class="line">&#125;);</span><br><span class="line">axios(url[, config])</span><br><span class="line"><span class="comment">// 发送 GET 请求（默认的方法）</span></span><br><span class="line">axios(<span class="string">&#x27;/user/12345&#x27;</span>);</span><br></pre></td></tr></table></figure>

<h5 id="2、请求方法的别名："><a href="#2、请求方法的别名：" class="headerlink" title="2、请求方法的别名："></a><strong>2、请求方法的别名</strong>：</h5><p>为方便使用，官方为所有支持的请求方法提供了别名，可以直接使用别名来发起请求：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">axios.request(config)</span><br><span class="line">axios.get(url[, config])</span><br><span class="line">axios.delete(url[, config])</span><br><span class="line">axios.head(url[, config])</span><br><span class="line">axios.post(url[, data[, config]])</span><br><span class="line">axios.put(url[, data[, config]])</span><br><span class="line">axios.patch(url[, data[, config]])</span><br></pre></td></tr></table></figure>

<p><strong>注意：</strong>在使用别名方法时， url、method、data 这些属性都不必在配置中指定。</p>
<h5 id="3、并发："><a href="#3、并发：" class="headerlink" title="3、并发："></a><strong>3、并发：</strong></h5><p>有时候, 我们可能需求同时发送两个请求</p>
<ul>
<li><p>使用axios.all, 可以放入多个请求的数组.</p>
</li>
<li><p>axios.all([]) 返回的结果是一个数组，使用 axios.spread 可将数组 [res1,res2] 展开为 res1, res2</p>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 处理并发请求的助手函数:</span></span><br><span class="line"><span class="comment">// axios.all(iterable)</span></span><br><span class="line"><span class="comment">// axios.spread(callback)</span></span><br><span class="line">axios.all([axios(&#123;</span><br><span class="line">  url: <span class="string">&#x27;/home/multidata&#x27;</span></span><br><span class="line">&#125;), axios(&#123;</span><br><span class="line">  url: <span class="string">&#x27;/home/data&#x27;</span>,</span><br><span class="line">  params: &#123;</span><br><span class="line">    type: <span class="string">&#x27;sell&#x27;</span>,</span><br><span class="line">    page: <span class="number">5</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;)]).then(axios.spread(<span class="function">(<span class="params">res1, res2</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(res1);</span><br><span class="line">  <span class="built_in">console</span>.log(res2);</span><br><span class="line">&#125;))</span><br></pre></td></tr></table></figure>

<h5 id="4、全局配置："><a href="#4、全局配置：" class="headerlink" title="4、全局配置："></a><strong>4、全局配置</strong>：</h5><p>在上面的示例中, 我们的BaseURL是固定的</p>
<ul>
<li>事实上, 在开发中可能很多参数都是固定的。</li>
<li>这个时候我们可以进行一些抽取, 也可以利用axiox的全局配置。</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 使用全局的axios和对应的配置在进行网络请求</span></span><br><span class="line">axios.defaults.baseURL = <span class="string">&#x27;http://123.207.32.32:8000&#x27;</span></span><br><span class="line">axios.defaults.timeout = <span class="number">5000</span></span><br><span class="line">axios.defaults.headers.post[‘Content-Type’] = ‘application/x-www-form-urlencoded’;</span><br></pre></td></tr></table></figure>

<p><strong>常见的配置选项</strong>：</p>
<p><img src="VUE/179.png" alt="image-20210401002517223"></p>
<h5 id="5、axios实例："><a href="#5、axios实例：" class="headerlink" title="5、axios实例："></a><strong>5、axios实例：</strong></h5><p>为什么要创建axios的实例呢?</p>
<ul>
<li>当我们从axios模块中导入对象时, 使用的实例是<strong>默认的实例</strong>。</li>
<li>当给该实例设置一些默认配置时, 这些配置就被固定下来了(<strong>全局配置</strong>)。</li>
<li>但当项目越来越大的时候，并发量会越来越大。一个服务器可能承受不了很大的请求量。这个时候可能会使用多个服务器去承载大量请求，即我们说的<code>分布式</code>。由于每一个服务器ip不一样，这个时候不会向客户端传递多个ip地址，往往会使用一个反向代理服务器nginx对每一服务器进行反向代理和负载均衡，并向客户端提供一个公共的ip。而每一客户端都是面向这个代理服务器。</li>
<li>比如某些请求需要使用特定的baseURL或者timeout或者content-Type等。</li>
<li>这个时候, 我们就可以创建新的实例, 并且传入属于该实例的配置信息。</li>
</ul>
<p>示例：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 创建对应的axios的实例</span></span><br><span class="line"><span class="keyword">const</span> instance1 = axios.create(&#123;</span><br><span class="line">  baseURL: <span class="string">&#x27;http://123.207.32.32:8000&#x27;</span>,</span><br><span class="line">  timeout: <span class="number">5000</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 发送网络请求</span></span><br><span class="line">instance1(&#123;</span><br><span class="line">  url: <span class="string">&#x27;/home/multidata&#x27;</span></span><br><span class="line">&#125;).then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(res);</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">// 发送网络请求</span></span><br><span class="line">instance1(&#123;</span><br><span class="line">  url: <span class="string">&#x27;/home/data&#x27;</span>,</span><br><span class="line">  params: &#123;</span><br><span class="line">    type: <span class="string">&#x27;pop&#x27;</span>,</span><br><span class="line">    page: <span class="number">1</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;).then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(res);</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> instance2 = axios.create(&#123;</span><br><span class="line">  baseURL: <span class="string">&#x27;http://222.111.33.33:8000&#x27;</span>,</span><br><span class="line">  timeout: <span class="number">10000</span>,</span><br><span class="line">  <span class="comment">// headers: &#123;&#125;</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h3 id="5、对网络请求进行模块封装（重要）"><a href="#5、对网络请求进行模块封装（重要）" class="headerlink" title="5、对网络请求进行模块封装（重要）"></a>5、对网络请求进行模块封装（重要）</h3><h4 id="1、为什么要进行网络封装？"><a href="#1、为什么要进行网络封装？" class="headerlink" title="1、为什么要进行网络封装？"></a>1、为什么要进行网络封装？</h4><ul>
<li><p>一般来说，我们都是在需要的组件里进行axios进行导入，并在组件内使用axios进行网络请求。</p>
</li>
<li><p>这种方式也可以实现网络请求。但存在了一个致命的问题：组件与框架（axios）之间的依赖太高了。</p>
</li>
<li><p>只会导致什么结果：但某一天该框架不在进行维护了，即这个框架废弃了。这个时候对项目的维护将是一个噩梦。举一个极端的例子：一个项目有100个组件，每个组件都依赖了10个框架。有一天这10个都宣布不再进行维护了。这个时候就需要对在100个组件中的框架进行替换。相当于可以放弃这个项目了。</p>
</li>
<li><p>所以，必须对我们要使用的第三方的东西（如框架）在进行一层封装，封装成一个文件。所以的组件对框架的使用都通过我们封装过后的这个文件，而该文件在对第三方的东西（框架）进行依赖。当有一天第三方的东西不再进行维护或者要对其进行替换的时候，直接修改我们封装的文件，在其中加入要替换的东西并修改代码即可，最后将结果转换为组件能够直接使用的形式进行返回，组件里的代码不用进行一点修改，就完成对第三方东西的替换。这样就完成了组件与第三方的解耦，大大增加了项目的维护性</p>
<p><img src="VUE/181.png" alt="image-20210401022031968"></p>
</li>
</ul>
<h4 id="2、对axios框架进行封装"><a href="#2、对axios框架进行封装" class="headerlink" title="2、对axios框架进行封装"></a>2、对axios框架进行封装</h4><p>在src新建文件夹network，里面封装网络层需要用到的东西。在network文件夹中新建request.js文件，里面存放对axios中网络请求的封装。</p>
<p>在request.js中使用方法function进行导出，不使用default导出的原因：</p>
<p>因为调用的时候可能不止一个实例，定义成function在使用时就可以导出为多个实例。而定义成default就只能导出一个能自定义名称的实例而已。</p>
<h5 id="1、通过回调函数进行封装"><a href="#1、通过回调函数进行封装" class="headerlink" title="1、通过回调函数进行封装"></a>1、通过回调函数进行封装</h5><p>注意：调用者（组件）调用封装的request.js进行网络请求，request.js要将封装后的结果回调给调用者，让调用者知晓本次网络请求是否成功。</p>
<h6 id="1、参数有config、success、-failure"><a href="#1、参数有config、success、-failure" class="headerlink" title="1、参数有config、success、 failure"></a>1、参数有config、success、 failure</h6><p>request.js：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">&#x27;axios&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">request</span>(<span class="params">config, success, failure</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// 1.创建axios的实例</span></span><br><span class="line">  <span class="keyword">const</span> instance = axios.create(&#123;</span><br><span class="line">    baseURL: <span class="string">&#x27;http://123.207.32.32:8000&#x27;</span>,</span><br><span class="line">    timeout: <span class="number">5000</span></span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 发送真正的网络请求</span></span><br><span class="line">  instance(config)</span><br><span class="line">    .then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="comment">// console.log(res);</span></span><br><span class="line">      success(res);</span><br><span class="line">    &#125;)</span><br><span class="line">    .catch(<span class="function"><span class="params">err</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="comment">// console.log(err);</span></span><br><span class="line">      failure(err)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用function导出可以创建多个实例</span></span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">request1</span>(<span class="params">config</span>)</span>&#123;&#125;</span><br></pre></td></tr></table></figure>

<p>组件：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 5.封装request模块</span></span><br><span class="line"><span class="keyword">import</span> &#123;request&#125; <span class="keyword">from</span> <span class="string">&quot;./network/request&quot;</span>;</span><br><span class="line"></span><br><span class="line">request(&#123;</span><br><span class="line">  url: <span class="string">&#x27;/home/multidata&#x27;</span></span><br><span class="line">&#125;, <span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// 回调success</span></span><br><span class="line">  <span class="built_in">console</span>.log(res);</span><br><span class="line">&#125;, <span class="function"><span class="params">err</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// 回调failure</span></span><br><span class="line">  <span class="built_in">console</span>.log(err);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h6 id="2、参数只有config"><a href="#2、参数只有config" class="headerlink" title="2、参数只有config"></a>2、参数只有config</h6><p>request.js：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">&#x27;axios&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">request</span>(<span class="params">config</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// 1.创建axios的实例</span></span><br><span class="line">  <span class="keyword">const</span> instance = axios.create(&#123;</span><br><span class="line">    baseURL: <span class="string">&#x27;http://123.207.32.32:8000&#x27;</span>,</span><br><span class="line">    timeout: <span class="number">5000</span></span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 发送真正的网络请求</span></span><br><span class="line">  instance(config.baseConfig)</span><br><span class="line">    .then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="comment">// console.log(res);</span></span><br><span class="line">      config.success(res);</span><br><span class="line">    &#125;)</span><br><span class="line">    .catch(<span class="function"><span class="params">err</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="comment">// console.log(err);</span></span><br><span class="line">      config.failure(err)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>组件：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 5.封装request模块</span></span><br><span class="line"><span class="keyword">import</span> &#123;request&#125; <span class="keyword">from</span> <span class="string">&quot;./network/request&quot;</span>;</span><br><span class="line"></span><br><span class="line">request(&#123;</span><br><span class="line">  <span class="comment">// 传入基本配置</span></span><br><span class="line">  baseConfig: &#123;</span><br><span class="line"></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// 回调success</span></span><br><span class="line">  success: <span class="function"><span class="keyword">function</span> (<span class="params">res</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// 回调failure</span></span><br><span class="line">  failure: <span class="function"><span class="keyword">function</span> (<span class="params">err</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h5 id="2、通过promise进行封装"><a href="#2、通过promise进行封装" class="headerlink" title="2、通过promise进行封装"></a>2、通过promise进行封装</h5><h6 id="1、通过promise的resolve-reject-进行传递"><a href="#1、通过promise的resolve-reject-进行传递" class="headerlink" title="1、通过promise的resolve()/reject()进行传递"></a>1、通过promise的resolve()/reject()进行传递</h6><p>request.js：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">&#x27;axios&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">request</span>(<span class="params">config</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// 1.创建axios的实例</span></span><br><span class="line">    <span class="keyword">const</span> instance = axios.create(&#123;</span><br><span class="line">      baseURL: <span class="string">&#x27;http://123.207.32.32:8000&#x27;</span>,</span><br><span class="line">      timeout: <span class="number">5000</span></span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 发送真正的网络请求</span></span><br><span class="line">    instance(config)</span><br><span class="line">      .then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">        resolve(res)</span><br><span class="line">      &#125;)</span><br><span class="line">      .catch(<span class="function"><span class="params">err</span> =&gt;</span> &#123;</span><br><span class="line">        reject(err)</span><br><span class="line">      &#125;)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>组件：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 5.封装request模块</span></span><br><span class="line"><span class="keyword">import</span> &#123;request&#125; <span class="keyword">from</span> <span class="string">&quot;./network/request&quot;</span>;</span><br><span class="line"></span><br><span class="line">request(&#123;</span><br><span class="line">  url: <span class="string">&#x27;/home/multidata&#x27;</span></span><br><span class="line">&#125;).then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(res);</span><br><span class="line">&#125;).catch(<span class="function"><span class="params">err</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(err);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h6 id="2、直接返回instance实例（本质上是一个promise对象）（最终方案）"><a href="#2、直接返回instance实例（本质上是一个promise对象）（最终方案）" class="headerlink" title="2、直接返回instance实例（本质上是一个promise对象）（最终方案）"></a>2、直接返回instance实例（本质上是一个promise对象）（最终方案）</h6><p>request.js：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">&#x27;axios&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">request</span>(<span class="params">config</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// 1.创建axios的实例</span></span><br><span class="line">  <span class="keyword">const</span> instance = axios.create(&#123;</span><br><span class="line">    baseURL: <span class="string">&#x27;http://123.207.32.32:8000&#x27;</span>,</span><br><span class="line">    timeout: <span class="number">5000</span></span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 2.发送真正的网络请求</span></span><br><span class="line">  <span class="keyword">return</span> instance(config)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>组件：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 5.封装request模块</span></span><br><span class="line"><span class="keyword">import</span> &#123;request&#125; <span class="keyword">from</span> <span class="string">&quot;./network/request&quot;</span>;</span><br><span class="line"></span><br><span class="line">request(&#123;</span><br><span class="line">  url: <span class="string">&#x27;/home/multidata&#x27;</span></span><br><span class="line">&#125;).then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(res);</span><br><span class="line">&#125;).catch(<span class="function"><span class="params">err</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(err);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h6 id="3、两种promise方式的对比"><a href="#3、两种promise方式的对比" class="headerlink" title="3、两种promise方式的对比"></a>3、两种promise方式的对比</h6><p>第一种方式只是比第二种方式多套了一层的promise。在某些情况下也是有用的。套一层promise可以做一些全局网络处理，比如全局dialog一个加载中。这个时候就得使用第一种方式而不是第二种方式。（具体使用需要根据业务进行选择）</p>
<h4 id="3、总结"><a href="#3、总结" class="headerlink" title="3、总结"></a>3、总结</h4><p>通过以上对axios框架进行封装，就可以实现组件与axios的解耦。</p>
<p>假设：当有一天axios不在进行维护，我们使用android对axios进行替换。只需要修改request.js文件即可：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 导入android框架</span></span><br><span class="line"><span class="keyword">import</span> android <span class="keyword">from</span> <span class="string">&#x27;android&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">request</span>(<span class="params">config</span>) </span>&#123;</span><br><span class="line">	<span class="comment">// 将axios的代码替换成android的代码</span></span><br><span class="line">	android代码</span><br><span class="line">	<span class="comment">// 最后将android的相关代码包装到Promise里面进行返回</span></span><br><span class="line">	<span class="comment">// 组件代码不用进行任何修改</span></span><br><span class="line">	<span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>因为Promise是ES6原生语法，而不是第三方框架。不用担心Promise失效。因为一旦ES6不再维护，那就不是一个框架的问题了。</p>
<h3 id="6、axios的拦截器"><a href="#6、axios的拦截器" class="headerlink" title="6、axios的拦截器"></a>6、axios的拦截器</h3><p>axios提供了拦截器，用于我们在<strong>发送每次请求</strong>或者<strong>得到相应结果后</strong>，即在请求或响应被 then 或 catch 处理前拦截他们，对他们进行对应的处理。</p>
<p>axios提供了四种拦截：</p>
<ul>
<li>请求成功时的拦截</li>
<li>请求失败时的拦截</li>
<li>响应成功时的拦截</li>
<li>响应失败时的拦截</li>
</ul>
<p>前后端的拦截：</p>
<p>后端也要做拦截校验的，但是前端要拦截，如页面权限、参数之类的校验。然后到后端会再拦截，再校验一遍，如果前端校验都不通过，那就不用调后端了，前端要是通过了，后端还是会做校验，保证安全性之类的。</p>
<p>过滤器与拦截器：</p>
<p>过滤器和监听器是web.xml中配置的，拦截器是springMVC中的，只有你的请求过了过滤器并且交由dispatchServlet处理，才会到拦截器这。</p>
<h4 id="1、请求拦截"><a href="#1、请求拦截" class="headerlink" title="1、请求拦截"></a>1、请求拦截</h4><p>请求拦截可以做到的事情：</p>
<ul>
<li><p>比如config中的一些信息不符合服务器的要求</p>
</li>
<li><p>比如每次发送网络请求时, 都希望在界面中显示一个请求中的图标：</p>
<p>将<code>加载中</code>图标show展示出来，在响应拦截中再把它隐藏。</p>
</li>
<li><p>某些网络请求(比如登录(token)), 必须携带一些特殊的信息：</p>
<p>在config中有一个属性url，里面存放着本次请求的路径（接口api），判断该请求是否为登陆之后才能进行访问，再去判断这次请求有没有携带token。如果有携带token的话就放行，如果没有携带token就可以提示一些错误信息并跳转到登陆界面让用户进行登陆。</p>
</li>
</ul>
<p>注意：</p>
<ul>
<li><p>某些网络请求，比如登录(token)的携带也可以通过导航守卫来实现，但是存在不同：</p>
<ul>
<li>导航首位是前端在页面跳转的时候使用的，一般是同源；</li>
<li>请求拦截是请求后端数据的时候使用的，一般要跨域。</li>
</ul>
</li>
<li><p>在请求拦截，对config进行操作之后记住要放行config。不然之后响应的时候拿不到config。</p>
</li>
<li><p>被拦截的config当中的信息：</p>
<p><img src="VUE/135.png" alt="image-20210401171319639"></p>
</li>
</ul>
<p>实现：instance.interceptors.request.use(config(),err())</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">&#x27;axios&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">request</span>(<span class="params">config</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// 1.创建axios的实例</span></span><br><span class="line">  <span class="keyword">const</span> instance = axios.create(&#123;</span><br><span class="line">    baseURL: <span class="string">&#x27;http://123.207.32.32:8000&#x27;</span>,</span><br><span class="line">    timeout: <span class="number">5000</span></span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 2.axios的拦截器</span></span><br><span class="line">  <span class="comment">// 2.1.请求拦截的作用</span></span><br><span class="line">  instance.interceptors.request.use(<span class="function"><span class="params">config</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// console.log(config);</span></span><br><span class="line">    <span class="comment">// 1.比如config中的一些信息不符合服务器的要求</span></span><br><span class="line">    <span class="comment">// 2.比如每次发送网络请求时, 都希望在界面中显示一个请求的图标</span></span><br><span class="line">    <span class="comment">// 3.某些网络请求(比如登录(token)), 必须携带一些特殊的信息</span></span><br><span class="line">    <span class="comment">// 在请求拦截，完成操作之后记住要放行请求</span></span><br><span class="line">    <span class="keyword">return</span> config</span><br><span class="line">  &#125;, <span class="function"><span class="params">err</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// console.log(err);</span></span><br><span class="line">  &#125;)</span><br><span class="line">  <span class="comment">// 3.发送真正的网络请求</span></span><br><span class="line">  <span class="keyword">return</span> instance(config)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="2、响应拦截"><a href="#2、响应拦截" class="headerlink" title="2、响应拦截"></a>2、响应拦截</h4><p>响应拦截可以做到的事情：</p>
<ul>
<li>在响应结果中一般只有data（服务器返回的真正结果）对我们有用，所以可以把响应结果当中的data过滤出来</li>
<li>在请求到响应的过程中做一些样式的显示/隐藏</li>
</ul>
<p>注意：</p>
<ul>
<li><p>响应拦截的结果res：</p>
<p><img src="VUE/182.png" alt="image-20210401172834396"></p>
</li>
<li><p><strong>在拦截了响应后，要记住将结果（可以直接返回res.data）返回给组件</strong></p>
</li>
</ul>
<p>实现：instance.interceptors.response.use(res(),err())</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">&#x27;axios&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">request</span>(<span class="params">config</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// 1.创建axios的实例</span></span><br><span class="line">  <span class="keyword">const</span> instance = axios.create(&#123;</span><br><span class="line">    baseURL: <span class="string">&#x27;http://123.207.32.32:8000&#x27;</span>,</span><br><span class="line">    timeout: <span class="number">5000</span></span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 2.axios的拦截器</span></span><br><span class="line">  <span class="comment">// 2.2.响应拦截</span></span><br><span class="line">  instance.interceptors.response.use(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// console.log(res);</span></span><br><span class="line">    <span class="comment">// 把响应结果当中的data过滤出来</span></span><br><span class="line">    <span class="comment">// 将结果返回给组件</span></span><br><span class="line">    <span class="keyword">return</span> res.data</span><br><span class="line">  &#125;, <span class="function"><span class="params">err</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(err);</span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 3.发送真正的网络请求</span></span><br><span class="line">  <span class="keyword">return</span> instance(config)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="3、其他"><a href="#3、其他" class="headerlink" title="3、其他"></a>3、其他</h4><p><strong>如果你想在稍后移除拦截器</strong>，可以这样：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> myInterceptor = axios.interceptors.request.use(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;<span class="comment">/*...*/</span>&#125;);</span><br><span class="line">axios.interceptors.request.eject(myInterceptor);</span><br></pre></td></tr></table></figure>

<p><strong>请求时使用 application/x-www-form-urlencoded</strong>：</p>
<p>axios 会默认序列化 JavaScript 对象为 JSON。 如果想使用 application/x-www-form-urlencoded 格式，你可以使用下面的配置。</p>
<p><strong>浏览器</strong></p>
<p>在浏览器环境，你可以使用 URLSearchParams API：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> params = <span class="keyword">new</span> URLSearchParams();</span><br><span class="line">params.append(<span class="string">&#x27;param1&#x27;</span>, <span class="string">&#x27;value1&#x27;</span>);</span><br><span class="line">params.append(<span class="string">&#x27;param2&#x27;</span>, <span class="string">&#x27;value2&#x27;</span>);</span><br><span class="line">axios.post(<span class="string">&#x27;/foo&#x27;</span>, params);</span><br></pre></td></tr></table></figure>

<p>URLSearchParams 不是所有的浏览器均支持。</p>
<p>除此之外，你可以使用 qs 库来编码数据:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> qs = <span class="built_in">require</span>(<span class="string">&#x27;qs&#x27;</span>);</span><br><span class="line">axios.post(<span class="string">&#x27;/foo&#x27;</span>, qs.stringify(&#123; <span class="string">&#x27;bar&#x27;</span>: <span class="number">123</span> &#125;));</span><br><span class="line"></span><br><span class="line"><span class="comment">// Or in another way (ES6),</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> qs <span class="keyword">from</span> <span class="string">&#x27;qs&#x27;</span>;</span><br><span class="line"><span class="keyword">const</span> data = &#123; <span class="string">&#x27;bar&#x27;</span>: <span class="number">123</span> &#125;;</span><br><span class="line"><span class="keyword">const</span> options = &#123;</span><br><span class="line">  method: <span class="string">&#x27;POST&#x27;</span>,</span><br><span class="line">  headers: &#123; <span class="string">&#x27;content-type&#x27;</span>: <span class="string">&#x27;application/x-www-form-urlencoded&#x27;</span> &#125;,</span><br><span class="line">  data: qs.stringify(data),</span><br><span class="line">  url,</span><br><span class="line">&#125;;</span><br><span class="line">axios(options);</span><br></pre></td></tr></table></figure>

<p><strong>Promises</strong></p>
<p>axios 依赖原生的 ES6 Promise 实现而<a target="_blank" rel="noopener" href="http://caniuse.com/promises">被支持</a>。</p>
<p> 如果你的环境不支持 ES6 Promise，你可以使用 <a target="_blank" rel="noopener" href="https://github.com/jakearchibald/es6-promise">polyfill</a>。</p>
<p><strong>TypeScript支持</strong></p>
<p>axios 包含 TypeScript 的定义。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">&quot;axios&quot;</span>;</span><br><span class="line">axios.get(<span class="string">&quot;/user?ID=12345&quot;</span>);</span><br></pre></td></tr></table></figure>

<h3 id="7、封装的网络请求模块request-js最终版本"><a href="#7、封装的网络请求模块request-js最终版本" class="headerlink" title="7、封装的网络请求模块request.js最终版本"></a>7、封装的网络请求模块request.js最终版本</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">&#x27;axios&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">request</span>(<span class="params">config</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// 1.创建axios的实例</span></span><br><span class="line">  <span class="keyword">const</span> instance = axios.create(&#123;</span><br><span class="line">    baseURL: <span class="string">&#x27;http://123.207.32.32:8000&#x27;</span>,</span><br><span class="line">    timeout: <span class="number">5000</span></span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 2.axios的拦截器</span></span><br><span class="line">  <span class="comment">// 2.1.请求拦截的作用</span></span><br><span class="line">  instance.interceptors.request.use(<span class="function"><span class="params">config</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// console.log(config);</span></span><br><span class="line">    <span class="comment">// 1.比如config中的一些信息不符合服务器的要求</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 2.比如每次发送网络请求时, 都希望在界面中显示一个请求的图标</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 3.某些网络请求(比如登录(token)), 必须携带一些特殊的信息</span></span><br><span class="line">    <span class="keyword">return</span> config</span><br><span class="line">  &#125;, <span class="function"><span class="params">err</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// console.log(err);</span></span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 2.2.响应拦截</span></span><br><span class="line">  instance.interceptors.response.use(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// console.log(res);</span></span><br><span class="line">    <span class="keyword">return</span> res.data</span><br><span class="line">  &#125;, <span class="function"><span class="params">err</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(err);</span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 3.发送真正的网络请求</span></span><br><span class="line">  <span class="keyword">return</span> instance(config)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="十二、其他补充"><a href="#十二、其他补充" class="headerlink" title="十二、其他补充"></a>十二、其他补充</h2><h3 id="1、httpbin-org"><a href="#1、httpbin-org" class="headerlink" title="1、httpbin.org/"></a>1、httpbin.org/</h3><p>httpbin.org：该网站可以做很多网站的模拟。如果之后你想对网络模块进行封装的话，可以用该网站进行很多测试。</p>
<h3 id="2、常见的（github）："><a href="#2、常见的（github）：" class="headerlink" title="2、常见的（github）："></a>2、常见的（github）：</h3><h4 id="1、ui库"><a href="#1、ui库" class="headerlink" title="1、ui库"></a>1、ui库</h4><ul>
<li>mint-ui</li>
<li>iview</li>
</ul>
<h4 id="2、上下滚动"><a href="#2、上下滚动" class="headerlink" title="2、上下滚动"></a>2、上下滚动</h4><ul>
<li><p>scroll（不再维护）</p>
</li>
<li><p>better-scroll</p>
<p>使用：</p>
<ol>
<li>默认情况下BScroll是不可以实时的监听滚动位置，</li>
</ol>
</li>
</ul>
<h4 id="3、关于ref"><a href="#3、关于ref" class="headerlink" title="3、关于ref"></a>3、关于ref</h4><p>ref如果是绑定在组件中的, 那么通过<strong>this.$refs.refname</strong>获取到的是一个组件对象.</p>
<p>ref如果是绑定在普通的元素中, 那么通过<strong>this.$refs.refname</strong>获取到的是一个元素对象.</p>
<h3 id="4、开发新项目"><a href="#4、开发新项目" class="headerlink" title="4、开发新项目"></a>4、开发新项目</h3><h4 id="1、划分目录结构"><a href="#1、划分目录结构" class="headerlink" title="1、划分目录结构"></a>1、划分目录结构</h4><p><img src="VUE/183.png" alt="image-20210401210958061"></p>
<ul>
<li>assets:里面存放图片img与css资源<ul>
<li>img：图片资源</li>
<li>css：css相关资源</li>
</ul>
</li>
<li>common：项目相关的公共文件，如常量、工具类</li>
<li>components：项目的公共组件<ul>
<li>common：项目常用的组件（可在多个项目中使用）</li>
<li>context：当前项目数据相关的公共组件</li>
</ul>
</li>
<li>network：用来存放有关网络请求封装的文件</li>
<li>router：Vue-router路由相关<ul>
<li>index.js</li>
</ul>
</li>
<li>store：Vuex状态管理相关<ul>
<li>index.js</li>
</ul>
</li>
<li>views：用来存放视图相关的组件<ul>
<li>home.js：首页相关的视图</li>
<li>category.js：分类相关的视图</li>
</ul>
</li>
<li>App.vue</li>
<li>main.js</li>
</ul>
<h3 id="2、引用了两个css文件（normalize-css与base-css）"><a href="#2、引用了两个css文件（normalize-css与base-css）" class="headerlink" title="2、引用了两个css文件（normalize.css与base.css）"></a>2、引用了两个css文件（normalize.css与base.css）</h3><h4 id="1、统一CSS标签"><a href="#1、统一CSS标签" class="headerlink" title="1、统一CSS标签"></a>1、统一CSS标签</h4><p>使用normalize.css对CSS进行统一</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*! normalize.css v8.0.0 | MIT License | github.com/necolas/normalize.css */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* Document</span></span><br><span class="line"><span class="comment">   ========================================================================== */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 1. Correct the line height in all browsers.</span></span><br><span class="line"><span class="comment"> * 2. Prevent adjustments of font size after orientation changes in iOS.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="selector-tag">html</span> &#123;</span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">1.15</span>; <span class="comment">/* 1 */</span></span><br><span class="line">  <span class="attribute">-webkit-text-size-adjust</span>: <span class="number">100%</span>; <span class="comment">/* 2 */</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* Sections</span></span><br><span class="line"><span class="comment">   ========================================================================== */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Remove the margin in all browsers.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Correct the font size and margin on `h1` elements within `section` and</span></span><br><span class="line"><span class="comment"> * `article` contexts in Chrome, Firefox, and Safari.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="selector-tag">h1</span> &#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">2em</span>;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">0.67em</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* Grouping content</span></span><br><span class="line"><span class="comment">   ========================================================================== */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 1. Add the correct box sizing in Firefox.</span></span><br><span class="line"><span class="comment"> * 2. Show the overflow in Edge and IE.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="selector-tag">hr</span> &#123;</span><br><span class="line">  <span class="attribute">box-sizing</span>: content-box; <span class="comment">/* 1 */</span></span><br><span class="line">  <span class="attribute">height</span>: <span class="number">0</span>; <span class="comment">/* 1 */</span></span><br><span class="line">  <span class="attribute">overflow</span>: visible; <span class="comment">/* 2 */</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 1. Correct the inheritance and scaling of font size in all browsers.</span></span><br><span class="line"><span class="comment"> * 2. Correct the odd `em` font sizing in all browsers.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="selector-tag">pre</span> &#123;</span><br><span class="line">  <span class="attribute">font-family</span>: monospace, monospace; <span class="comment">/* 1 */</span></span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">1em</span>; <span class="comment">/* 2 */</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* Text-level semantics</span></span><br><span class="line"><span class="comment">   ========================================================================== */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Remove the gray background on active links in IE 10.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="selector-tag">a</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: transparent;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 1. Remove the bottom border in Chrome 57-</span></span><br><span class="line"><span class="comment"> * 2. Add the correct text decoration in Chrome, Edge, IE, Opera, and Safari.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="selector-tag">abbr</span><span class="selector-attr">[title]</span> &#123;</span><br><span class="line">  <span class="attribute">border-bottom</span>: none; <span class="comment">/* 1 */</span></span><br><span class="line">  <span class="attribute">text-decoration</span>: underline; <span class="comment">/* 2 */</span></span><br><span class="line">  <span class="attribute">text-decoration</span>: underline dotted; <span class="comment">/* 2 */</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Add the correct font weight in Chrome, Edge, and Safari.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="selector-tag">b</span>,</span><br><span class="line"><span class="selector-tag">strong</span> &#123;</span><br><span class="line">  <span class="attribute">font-weight</span>: bolder;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 1. Correct the inheritance and scaling of font size in all browsers.</span></span><br><span class="line"><span class="comment"> * 2. Correct the odd `em` font sizing in all browsers.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="selector-tag">code</span>,</span><br><span class="line"><span class="selector-tag">kbd</span>,</span><br><span class="line"><span class="selector-tag">samp</span> &#123;</span><br><span class="line">  <span class="attribute">font-family</span>: monospace, monospace; <span class="comment">/* 1 */</span></span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">1em</span>; <span class="comment">/* 2 */</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Add the correct font size in all browsers.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="selector-tag">small</span> &#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">80%</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Prevent `sub` and `sup` elements from affecting the line height in</span></span><br><span class="line"><span class="comment"> * all browsers.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="selector-tag">sub</span>,</span><br><span class="line"><span class="selector-tag">sup</span> &#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">75%</span>;</span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">  <span class="attribute">vertical-align</span>: baseline;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">sub</span> &#123;</span><br><span class="line">  <span class="attribute">bottom</span>: -<span class="number">0.25em</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">sup</span> &#123;</span><br><span class="line">  <span class="attribute">top</span>: -<span class="number">0.5em</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* Embedded content</span></span><br><span class="line"><span class="comment">   ========================================================================== */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Remove the border on images inside links in IE 10.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="selector-tag">img</span> &#123;</span><br><span class="line">  <span class="attribute">border-style</span>: none;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* Forms</span></span><br><span class="line"><span class="comment">   ========================================================================== */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 1. Change the font styles in all browsers.</span></span><br><span class="line"><span class="comment"> * 2. Remove the margin in Firefox and Safari.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="selector-tag">button</span>,</span><br><span class="line"><span class="selector-tag">input</span>,</span><br><span class="line"><span class="selector-tag">optgroup</span>,</span><br><span class="line"><span class="selector-tag">select</span>,</span><br><span class="line"><span class="selector-tag">textarea</span> &#123;</span><br><span class="line">  <span class="attribute">font-family</span>: inherit; <span class="comment">/* 1 */</span></span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">100%</span>; <span class="comment">/* 1 */</span></span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">1.15</span>; <span class="comment">/* 1 */</span></span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">0</span>; <span class="comment">/* 2 */</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Show the overflow in IE.</span></span><br><span class="line"><span class="comment"> * 1. Show the overflow in Edge.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="selector-tag">button</span>,</span><br><span class="line"><span class="selector-tag">input</span> &#123; <span class="comment">/* 1 */</span></span><br><span class="line">  <span class="attribute">overflow</span>: visible;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Remove the inheritance of text transform in Edge, Firefox, and IE.</span></span><br><span class="line"><span class="comment"> * 1. Remove the inheritance of text transform in Firefox.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="selector-tag">button</span>,</span><br><span class="line"><span class="selector-tag">select</span> &#123; <span class="comment">/* 1 */</span></span><br><span class="line">  <span class="attribute">text-transform</span>: none;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Correct the inability to style clickable types in iOS and Safari.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="selector-tag">button</span>,</span><br><span class="line"><span class="selector-attr">[type=<span class="string">&quot;button&quot;</span>]</span>,</span><br><span class="line"><span class="selector-attr">[type=<span class="string">&quot;reset&quot;</span>]</span>,</span><br><span class="line"><span class="selector-attr">[type=<span class="string">&quot;submit&quot;</span>]</span> &#123;</span><br><span class="line">  <span class="attribute">-webkit-appearance</span>: button;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Remove the inner border and padding in Firefox.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="selector-tag">button</span><span class="selector-pseudo">::-moz-focus-inner</span>,</span><br><span class="line"><span class="selector-attr">[type=<span class="string">&quot;button&quot;</span>]</span><span class="selector-pseudo">::-moz-focus-inner</span>,</span><br><span class="line"><span class="selector-attr">[type=<span class="string">&quot;reset&quot;</span>]</span><span class="selector-pseudo">::-moz-focus-inner</span>,</span><br><span class="line"><span class="selector-attr">[type=<span class="string">&quot;submit&quot;</span>]</span><span class="selector-pseudo">::-moz-focus-inner</span> &#123;</span><br><span class="line">  <span class="attribute">border-style</span>: none;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Restore the focus styles unset by the previous rule.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="selector-tag">button</span><span class="selector-pseudo">:-moz-focusring</span>,</span><br><span class="line"><span class="selector-attr">[type=<span class="string">&quot;button&quot;</span>]</span><span class="selector-pseudo">:-moz-focusring</span>,</span><br><span class="line"><span class="selector-attr">[type=<span class="string">&quot;reset&quot;</span>]</span><span class="selector-pseudo">:-moz-focusring</span>,</span><br><span class="line"><span class="selector-attr">[type=<span class="string">&quot;submit&quot;</span>]</span><span class="selector-pseudo">:-moz-focusring</span> &#123;</span><br><span class="line">  <span class="attribute">outline</span>: <span class="number">1px</span> dotted ButtonText;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Correct the padding in Firefox.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="selector-tag">fieldset</span> &#123;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">0.35em</span> <span class="number">0.75em</span> <span class="number">0.625em</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 1. Correct the text wrapping in Edge and IE.</span></span><br><span class="line"><span class="comment"> * 2. Correct the color inheritance from `fieldset` elements in IE.</span></span><br><span class="line"><span class="comment"> * 3. Remove the padding so developers are not caught out when they zero out</span></span><br><span class="line"><span class="comment"> *    `fieldset` elements in all browsers.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="selector-tag">legend</span> &#123;</span><br><span class="line">  <span class="attribute">box-sizing</span>: border-box; <span class="comment">/* 1 */</span></span><br><span class="line">  <span class="attribute">color</span>: inherit; <span class="comment">/* 2 */</span></span><br><span class="line">  <span class="attribute">display</span>: table; <span class="comment">/* 1 */</span></span><br><span class="line">  <span class="attribute">max-width</span>: <span class="number">100%</span>; <span class="comment">/* 1 */</span></span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">0</span>; <span class="comment">/* 3 */</span></span><br><span class="line">  <span class="attribute">white-space</span>: normal; <span class="comment">/* 1 */</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Add the correct vertical alignment in Chrome, Firefox, and Opera.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="selector-tag">progress</span> &#123;</span><br><span class="line">  <span class="attribute">vertical-align</span>: baseline;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Remove the default vertical scrollbar in IE 10+.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="selector-tag">textarea</span> &#123;</span><br><span class="line">  <span class="attribute">overflow</span>: auto;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 1. Add the correct box sizing in IE 10.</span></span><br><span class="line"><span class="comment"> * 2. Remove the padding in IE 10.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="selector-attr">[type=<span class="string">&quot;checkbox&quot;</span>]</span>,</span><br><span class="line"><span class="selector-attr">[type=<span class="string">&quot;radio&quot;</span>]</span> &#123;</span><br><span class="line">  <span class="attribute">box-sizing</span>: border-box; <span class="comment">/* 1 */</span></span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">0</span>; <span class="comment">/* 2 */</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Correct the cursor style of increment and decrement buttons in Chrome.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="selector-attr">[type=<span class="string">&quot;number&quot;</span>]</span><span class="selector-pseudo">::-webkit-inner-spin-button</span>,</span><br><span class="line"><span class="selector-attr">[type=<span class="string">&quot;number&quot;</span>]</span><span class="selector-pseudo">::-webkit-outer-spin-button</span> &#123;</span><br><span class="line">  <span class="attribute">height</span>: auto;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 1. Correct the odd appearance in Chrome and Safari.</span></span><br><span class="line"><span class="comment"> * 2. Correct the outline style in Safari.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="selector-attr">[type=<span class="string">&quot;search&quot;</span>]</span> &#123;</span><br><span class="line">  <span class="attribute">-webkit-appearance</span>: textfield; <span class="comment">/* 1 */</span></span><br><span class="line">  <span class="attribute">outline-offset</span>: -<span class="number">2px</span>; <span class="comment">/* 2 */</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Remove the inner padding in Chrome and Safari on macOS.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="selector-attr">[type=<span class="string">&quot;search&quot;</span>]</span><span class="selector-pseudo">::-webkit-search-decoration</span> &#123;</span><br><span class="line">  <span class="attribute">-webkit-appearance</span>: none;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 1. Correct the inability to style clickable types in iOS and Safari.</span></span><br><span class="line"><span class="comment"> * 2. Change font properties to `inherit` in Safari.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="selector-pseudo">::-webkit-file-upload-button</span> &#123;</span><br><span class="line">  <span class="attribute">-webkit-appearance</span>: button; <span class="comment">/* 1 */</span></span><br><span class="line">  <span class="attribute">font</span>: inherit; <span class="comment">/* 2 */</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* Interactive</span></span><br><span class="line"><span class="comment">   ========================================================================== */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * Add the correct display in Edge, IE 10+, and Firefox.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="selector-tag">details</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: block;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * Add the correct display in all browsers.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="selector-tag">summary</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: list-item;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* Misc</span></span><br><span class="line"><span class="comment">   ========================================================================== */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Add the correct display in IE 10+.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="selector-tag">template</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: none;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Add the correct display in IE 10.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="selector-attr">[hidden]</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: none;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="2、创建全局基本样式base-css（可以去github上查找）"><a href="#2、创建全局基本样式base-css（可以去github上查找）" class="headerlink" title="2、创建全局基本样式base.css（可以去github上查找）"></a>2、创建全局基本样式base.css（可以去github上查找）</h4><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@import</span> <span class="string">&quot;./normalize.css&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*:root -&gt; 获取根元素html*/</span></span><br><span class="line"><span class="selector-pseudo">:root</span> &#123;</span><br><span class="line">  <span class="attribute">--color-text</span>: <span class="number">#666</span>;</span><br><span class="line">  <span class="attribute">--color-high-text</span>: <span class="number">#ff5777</span>;</span><br><span class="line">  <span class="attribute">--color-tint</span>: <span class="number">#ff8198</span>;</span><br><span class="line">  <span class="attribute">--color-background</span>: <span class="number">#fff</span>;</span><br><span class="line">  <span class="attribute">--font-size</span>: <span class="number">14px</span>;</span><br><span class="line">  <span class="attribute">--line-height</span>: <span class="number">1.5</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">*,</span><br><span class="line">*<span class="selector-pseudo">::before</span>,</span><br><span class="line">*<span class="selector-pseudo">::after</span> &#123;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">box-sizing</span>: border-box;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">  <span class="attribute">font-family</span>: <span class="string">&quot;Helvetica Neue&quot;</span>,Helvetica,<span class="string">&quot;PingFang SC&quot;</span>,<span class="string">&quot;Hiragino Sans GB&quot;</span>,<span class="string">&quot;Microsoft YaHei&quot;</span>,<span class="string">&quot;微软雅黑&quot;</span>,Arial,sans-serif;</span><br><span class="line">  <span class="attribute">user-select</span>: none; <span class="comment">/* 禁止用户鼠标在页面上选中文字/图片等 */</span></span><br><span class="line">  <span class="attribute">-webkit-tap-highlight-color</span>: transparent; <span class="comment">/* webkit是苹果浏览器引擎，tap点击，highlight背景高亮，color颜色，颜色用数值调节 */</span></span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">var</span>(--color-background);</span><br><span class="line">  <span class="attribute">color</span>: <span class="built_in">var</span>(--color-text);</span><br><span class="line">  <span class="comment">/* rem vw/vh */</span></span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100vw</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">a</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="built_in">var</span>(--color-text);</span><br><span class="line">  <span class="attribute">text-decoration</span>: none;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="selector-class">.clear-fix</span><span class="selector-pseudo">::after</span> &#123;</span><br><span class="line">  <span class="attribute">clear</span>: both;</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">  <span class="attribute">display</span>: block;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">visibility</span>: hidden;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.clear-fix</span> &#123;</span><br><span class="line">  <span class="attribute">zoom</span>: <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.left</span> &#123;</span><br><span class="line">  <span class="attribute">float</span>: left;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.right</span> &#123;</span><br><span class="line">  <span class="attribute">float</span>: right;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>其中：</p>
<ul>
<li>:root -&gt; 获取根元素html：可用于定义变量。在该文件的其他地方可以通过var(–变量名)拿到变量的值。<ul>
<li>–color-text: 文本颜色</li>
<li>–color-high-text: 文本颜色高亮</li>
<li>–color-tint: 整体的颜色，用于设置导航栏的背景颜色</li>
<li>–color-background: 背景颜色</li>
<li>–font-size: 整体的字体大小</li>
<li>–line-height: 线高</li>
</ul>
</li>
</ul>
<h3 id="3、配置别名与设置规范"><a href="#3、配置别名与设置规范" class="headerlink" title="3、配置别名与设置规范"></a>3、配置别名与设置规范</h3><h4 id="1、vue-config-js"><a href="#1、vue-config-js" class="headerlink" title="1、vue.config.js"></a>1、vue.config.js</h4><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_41107231/article/details/107576861">创建vue.config.js配置别名</a>：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    configureWebpack: &#123;</span><br><span class="line">      resolve: &#123;</span><br><span class="line">        alias: &#123;</span><br><span class="line">          <span class="string">&#x27;assets&#x27;</span>: <span class="string">&#x27;@/assets&#x27;</span>,</span><br><span class="line">          <span class="string">&#x27;common&#x27;</span>: <span class="string">&#x27;@/common&#x27;</span>,</span><br><span class="line">          <span class="string">&#x27;components&#x27;</span>: <span class="string">&#x27;@/components&#x27;</span>,</span><br><span class="line">          <span class="string">&#x27;network&#x27;</span>: <span class="string">&#x27;@/network&#x27;</span>,</span><br><span class="line">          <span class="string">&#x27;views&#x27;</span>: <span class="string">&#x27;@/views&#x27;</span>,</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<h4 id="2、-editorconfig设置规范"><a href="#2、-editorconfig设置规范" class="headerlink" title="2、.editorconfig设置规范"></a>2、.editorconfig设置规范</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">root &#x3D; true</span><br><span class="line"></span><br><span class="line">[*]</span><br><span class="line">charset &#x3D; utf-8</span><br><span class="line">indent_style &#x3D; space</span><br><span class="line">indent_size &#x3D; 2</span><br><span class="line">end_of_line &#x3D; lf</span><br><span class="line">insert_final_newline &#x3D; true</span><br><span class="line">trim_trailing_whitespace &#x3D; true</span><br></pre></td></tr></table></figure>

<h3 id="4、项目的模块划分-tabbar-gt-路由映射关系"><a href="#4、项目的模块划分-tabbar-gt-路由映射关系" class="headerlink" title="4、项目的模块划分: tabbar -&gt; 路由映射关系"></a>4、项目的模块划分: tabbar -&gt; 路由映射关系</h3><h3 id="5、首页开发"><a href="#5、首页开发" class="headerlink" title="5、首页开发"></a>5、首页开发</h3><ul>
<li>navbar 的封装</li>
<li>网络数据的请求</li>
<li>轮播图</li>
<li>推荐信息</li>
</ul>
</script></p></li></ul>
    </div>

    
    
    
        

<div>
<ul class="post-copyright">
  <li class="post-copyright-author">
    <strong>本文作者： </strong>XGH_little-star
  </li>
  <li class="post-copyright-link">
    <strong>本文链接：</strong>
    <a href="http://xgh-user.github.io/2021/04/19/VUE/" title="Vue">http://xgh-user.github.io/2021/04/19/VUE/</a>
  </li>
  <li class="post-copyright-license">
    <strong>版权声明： </strong>本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" rel="noopener" target="_blank"><i class="fab fa-fw fa-creative-commons"></i>BY-NC-SA</a> 许可协议。转载请注明出处！
  </li>
</ul>
</div>


      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/Vue/" rel="tag"># Vue</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2021/04/19/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" rel="prev" title="设计模式">
      <i class="fa fa-chevron-left"></i> 设计模式
    </a></div>
      <div class="post-nav-item">
    <a href="/2021/05/10/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/" rel="next" title="计算机网络">
      计算机网络 <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#Vue"><span class="nav-number">1.</span> <span class="nav-text">Vue</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%B8%80%E3%80%81%E9%82%82%E9%80%85Vuejs"><span class="nav-number">1.1.</span> <span class="nav-text">一、邂逅Vuejs</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1%E3%80%81%E9%81%87%E8%A7%81Vuejs"><span class="nav-number">1.1.1.</span> <span class="nav-text">1、遇见Vuejs</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1%E3%80%81%E8%AE%A4%E8%AF%86Vuejs"><span class="nav-number">1.1.1.1.</span> <span class="nav-text">1、认识Vuejs</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2%E3%80%81Vue%E7%9A%84%E7%89%B9%E7%82%B9%E5%92%8CWeb%E5%BC%80%E5%8F%91%E4%B8%AD%E5%B8%B8%E8%A7%81%E7%9A%84%E9%AB%98%E7%BA%A7%E5%8A%9F%E8%83%BD"><span class="nav-number">1.1.1.2.</span> <span class="nav-text">2、Vue的特点和Web开发中常见的高级功能</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2%E3%80%81%E5%AE%89%E8%A3%85Vuejs"><span class="nav-number">1.1.2.</span> <span class="nav-text">2、安装Vuejs</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1%E3%80%81%E6%96%B9%E5%BC%8F%E4%B8%80%EF%BC%9A%E4%B8%8B%E8%BD%BD%E5%92%8C%E5%BC%95%E5%85%A5"><span class="nav-number">1.1.2.1.</span> <span class="nav-text">1、方式一：下载和引入</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2%E3%80%81%E6%96%B9%E5%BC%8F%E4%BA%8C%EF%BC%9A%E7%9B%B4%E6%8E%A5CDN%E5%BC%95%E5%85%A5"><span class="nav-number">1.1.2.2.</span> <span class="nav-text">2、方式二：直接CDN引入</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3%E3%80%81%E6%96%B9%E5%BC%8F%E4%B8%89%EF%BC%9ANPM%E5%AE%89%E8%A3%85"><span class="nav-number">1.1.2.3.</span> <span class="nav-text">3、方式三：NPM安装</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3%E3%80%81%E7%AC%AC%E4%B8%80%E4%B8%AAVuejs%E7%A8%8B%E5%BA%8F"><span class="nav-number">1.1.3.</span> <span class="nav-text">3、第一个Vuejs程序</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1%E3%80%81%E4%BB%A3%E7%A0%81%E7%9A%84%E6%89%A7%E8%A1%8C"><span class="nav-number">1.1.3.1.</span> <span class="nav-text">1、代码的执行</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2%E3%80%81%E6%B5%8F%E8%A7%88%E5%99%A8%E6%89%A7%E8%A1%8C%E4%BB%A3%E7%A0%81%E7%9A%84%E6%B5%81%E7%A8%8B"><span class="nav-number">1.1.3.2.</span> <span class="nav-text">2、浏览器执行代码的流程</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3%E3%80%81%E5%93%8D%E5%BA%94%E5%BC%8F"><span class="nav-number">1.1.3.3.</span> <span class="nav-text">3、响应式</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4%E3%80%81Vue%E4%B8%8EJavaScript-%EF%BC%88%E4%B8%A4%E7%A7%8D%E7%BC%96%E7%A8%8B%E8%8C%83%E5%BC%8F%EF%BC%89"><span class="nav-number">1.1.4.</span> <span class="nav-text">4、Vue与JavaScript （两种编程范式）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5%E3%80%81Vue%E7%9A%84MVVM"><span class="nav-number">1.1.5.</span> <span class="nav-text">5、Vue的MVVM</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1%E3%80%81%E6%98%AF%E4%BB%80%E4%B9%88MVVM"><span class="nav-number">1.1.5.1.</span> <span class="nav-text">1、是什么MVVM</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2%E3%80%81Vue%E7%9A%84MVVM"><span class="nav-number">1.1.5.2.</span> <span class="nav-text">2、Vue的MVVM</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3%E3%80%81%E8%AE%A1%E6%95%B0%E5%99%A8%E7%9A%84MVVM%E7%A4%BA%E4%BE%8B"><span class="nav-number">1.1.5.3.</span> <span class="nav-text">3、计数器的MVVM示例</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6%E3%80%81%E5%88%9B%E5%BB%BAVue%E5%AE%9E%E4%BE%8B%E4%BC%A0%E5%85%A5%E7%9A%84options"><span class="nav-number">1.1.6.</span> <span class="nav-text">6、创建Vue实例传入的options</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7%E3%80%81Vue%E7%9A%84%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F"><span class="nav-number">1.1.7.</span> <span class="nav-text">7、Vue的生命周期</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#8%E3%80%81ES6%E8%A1%A5%E5%85%85"><span class="nav-number">1.1.8.</span> <span class="nav-text">8、ES6补充</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1%E3%80%81let-var"><span class="nav-number">1.1.8.1.</span> <span class="nav-text">1、let&#x2F;var</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#1%E3%80%81%E5%9D%97%E7%BA%A7%E4%BD%9C%E7%94%A8%E5%9F%9F"><span class="nav-number">1.1.8.1.1.</span> <span class="nav-text">1、块级作用域</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#2%E3%80%81%E6%B2%A1%E6%9C%89%E5%9D%97%E7%BA%A7%E4%BD%9C%E7%94%A8%E5%9F%9F%E5%BC%95%E8%B5%B7%E7%9A%84%E9%97%AE%E9%A2%98"><span class="nav-number">1.1.8.1.2.</span> <span class="nav-text">2、没有块级作用域引起的问题</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#3%E3%80%81%E8%A7%A3%E5%86%B3%E6%96%B9%E6%B3%95%EF%BC%9A"><span class="nav-number">1.1.8.1.3.</span> <span class="nav-text">3、解决方法：</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2%E3%80%81const"><span class="nav-number">1.1.9.</span> <span class="nav-text">2、const</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3%E3%80%81%E5%AF%B9%E8%B1%A1%E5%A2%9E%E5%BC%BA%E5%86%99%E6%B3%95"><span class="nav-number">1.1.10.</span> <span class="nav-text">3、对象增强写法</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BA%8C%E3%80%81Vue%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95"><span class="nav-number">1.2.</span> <span class="nav-text">二、Vue基础语法</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1%E3%80%81%E8%AF%AD%E6%B3%95%E7%B3%96"><span class="nav-number">1.2.1.</span> <span class="nav-text">1、语法糖</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2%E3%80%81%E6%8F%92%E5%80%BC%E8%AF%AD%E6%B3%95"><span class="nav-number">1.2.2.</span> <span class="nav-text">2、插值语法</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1%E3%80%81mustache%E8%AF%AD%E6%B3%95"><span class="nav-number">1.2.2.1.</span> <span class="nav-text">1、mustache语法</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4%E3%80%81v-text%EF%BC%88%E4%B8%8D%E5%B8%B8%E7%94%A8%EF%BC%89"><span class="nav-number">1.2.2.2.</span> <span class="nav-text">4、v-text（不常用）</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#5%E3%80%81v-pre"><span class="nav-number">1.2.2.3.</span> <span class="nav-text">5、v-pre</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#6%E3%80%81v-cloak"><span class="nav-number">1.2.2.4.</span> <span class="nav-text">6、v-cloak</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3%E3%80%81%E7%BB%91%E5%AE%9A%E5%B1%9E%E6%80%A7%EF%BC%88v-bind%EF%BC%89"><span class="nav-number">1.2.3.</span> <span class="nav-text">3、绑定属性（v-bind）</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1%E3%80%81v-bind%E5%9F%BA%E7%A1%80"><span class="nav-number">1.2.3.1.</span> <span class="nav-text">1、v-bind基础</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2%E3%80%81v-bind%E7%BB%91%E5%AE%9Aclass"><span class="nav-number">1.2.3.2.</span> <span class="nav-text">2、v-bind绑定class</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#1%E3%80%81%E7%BB%91%E5%AE%9A%E6%96%B9%E5%BC%8F%EF%BC%9A%E5%AF%B9%E8%B1%A1%E8%AF%AD%E6%B3%95"><span class="nav-number">1.2.3.2.1.</span> <span class="nav-text">1、绑定方式：对象语法</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#2%E3%80%81%E7%BB%91%E5%AE%9A%E6%96%B9%E5%BC%8F%EF%BC%9A%E6%95%B0%E7%BB%84%E8%AF%AD%E6%B3%95"><span class="nav-number">1.2.3.2.2.</span> <span class="nav-text">2、绑定方式：数组语法</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3%E3%80%81v-bind%E7%BB%91%E5%AE%9Astyle"><span class="nav-number">1.2.3.3.</span> <span class="nav-text">3、v-bind绑定style</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#1%E3%80%81%E7%BB%91%E5%AE%9A%E6%96%B9%E5%BC%8F%EF%BC%9A%E5%AF%B9%E8%B1%A1%E8%AF%AD%E6%B3%95-1"><span class="nav-number">1.2.3.3.1.</span> <span class="nav-text">1、绑定方式：对象语法</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#2%E3%80%81%E7%BB%91%E5%AE%9A%E6%96%B9%E5%BC%8F%EF%BC%9A%E6%95%B0%E7%BB%84%E8%AF%AD%E6%B3%95-1"><span class="nav-number">1.2.3.3.2.</span> <span class="nav-text">2、绑定方式：数组语法</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4%E3%80%81%E8%AE%A1%E7%AE%97%E5%B1%9E%E6%80%A7%EF%BC%88computed%EF%BC%89"><span class="nav-number">1.2.4.</span> <span class="nav-text">4、计算属性（computed）</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1%E3%80%81%E6%98%AF%E4%BB%80%E4%B9%88%E8%AE%A1%E7%AE%97%E5%B1%9E%E6%80%A7"><span class="nav-number">1.2.4.1.</span> <span class="nav-text">1、是什么计算属性</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2%E3%80%81%E8%AE%A1%E7%AE%97%E5%B1%9E%E6%80%A7%EF%BC%9A"><span class="nav-number">1.2.4.2.</span> <span class="nav-text">2、计算属性：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3%E3%80%81%E8%AE%A1%E7%AE%97%E5%B1%9E%E6%80%A7%E7%9A%84setter%E5%92%8Cgetter"><span class="nav-number">1.2.4.3.</span> <span class="nav-text">3、计算属性的setter和getter</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4%E3%80%81methods%E4%B8%8Ecomputed"><span class="nav-number">1.2.4.4.</span> <span class="nav-text">4、methods与computed</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5%E3%80%81%E4%BA%8B%E4%BB%B6%E7%9B%91%E5%90%AC%EF%BC%88v-on%EF%BC%89"><span class="nav-number">1.2.5.</span> <span class="nav-text">5、事件监听（v-on）</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1%E3%80%81v-on%E5%9F%BA%E7%A1%80"><span class="nav-number">1.2.5.1.</span> <span class="nav-text">1、v-on基础</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2%E3%80%81v-on%E5%8F%82%E6%95%B0"><span class="nav-number">1.2.5.2.</span> <span class="nav-text">2、v-on参数</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3%E3%80%81v-on%E4%BF%AE%E9%A5%B0%E7%AC%A6"><span class="nav-number">1.2.5.3.</span> <span class="nav-text">3、v-on修饰符</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6%E3%80%81%E6%9D%A1%E4%BB%B6%E5%88%A4%E6%96%AD"><span class="nav-number">1.2.6.</span> <span class="nav-text">6、条件判断</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1%E3%80%81v-if%E3%80%81v-else-if%E3%80%81v-else"><span class="nav-number">1.2.6.1.</span> <span class="nav-text">1、v-if、v-else-if、v-else</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2%E3%80%81%E4%B8%80%E4%B8%AA%E7%AE%80%E5%8D%95%E7%9A%84%E5%B0%8F%E6%A1%88%E4%BE%8B%EF%BC%88%E7%94%A8%E6%88%B7%E7%99%BB%E9%99%86%E6%96%B9%E5%BC%8F%E5%88%87%E6%8D%A2%EF%BC%89"><span class="nav-number">1.2.6.2.</span> <span class="nav-text">2、一个简单的小案例（用户登陆方式切换）</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#1%E3%80%81%E9%97%AE%E9%A2%98"><span class="nav-number">1.2.6.2.1.</span> <span class="nav-text">1、问题</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#2%E3%80%81%E9%97%AE%E9%A2%98%E8%A7%A3%E7%AD%94"><span class="nav-number">1.2.6.2.2.</span> <span class="nav-text">2、问题解答</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#3%E3%80%81%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88"><span class="nav-number">1.2.6.2.3.</span> <span class="nav-text">3、解决方案</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3%E3%80%81v-show"><span class="nav-number">1.2.6.3.</span> <span class="nav-text">3、v-show</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7%E3%80%81%E5%BE%AA%E7%8E%AF%E9%81%8D%E5%8E%86%EF%BC%88v-for%EF%BC%89"><span class="nav-number">1.2.7.</span> <span class="nav-text">7、循环遍历（v-for）</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1%E3%80%81v-for%E9%81%8D%E5%8E%86%E6%95%B0%E7%BB%84"><span class="nav-number">1.2.7.1.</span> <span class="nav-text">1、v-for遍历数组</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2%E3%80%81v-for%E9%81%8D%E5%8E%86%E5%AF%B9%E8%B1%A1"><span class="nav-number">1.2.7.2.</span> <span class="nav-text">2、v-for遍历对象</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3%E3%80%81v-for%E7%9A%84%E7%BB%84%E4%BB%B6%E7%9A%84key%E5%B1%9E%E6%80%A7"><span class="nav-number">1.2.7.3.</span> <span class="nav-text">3、v-for的组件的key属性</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4%E3%80%81%E6%A3%80%E6%B5%8B%E6%95%B0%E7%BB%84%E6%9B%B4%E6%96%B0%EF%BC%88%E5%93%8D%E5%BA%94%E5%BC%8F%EF%BC%89"><span class="nav-number">1.2.7.4.</span> <span class="nav-text">4、检测数组更新（响应式）</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#5%E3%80%81%E4%BD%9C%E4%B8%9A%EF%BC%9A%EF%BC%88v-for-v-bind-v-on-%E5%BD%93%E5%89%8D%E7%B4%A2%E5%BC%95%E6%96%B9%E6%B3%95%E7%9A%84%E5%BA%94%E7%94%A8%EF%BC%89"><span class="nav-number">1.2.7.5.</span> <span class="nav-text">5、作业：（v-for + v-bind + v-on + 当前索引方法的应用）</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#6%E3%80%81%E9%AB%98%E9%98%B6%E5%87%BD%E6%95%B0filter-map-reduce"><span class="nav-number">1.2.7.6.</span> <span class="nav-text">6、高阶函数filter|map|reduce</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#1%E3%80%81filter%EF%BC%9A%E8%BF%87%E6%BB%A4%E4%BD%9C%E7%94%A8"><span class="nav-number">1.2.7.6.1.</span> <span class="nav-text">1、filter：过滤作用</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#2%E3%80%81map%EF%BC%9A%E6%98%A0%E5%B0%84%E4%BD%9C%E7%94%A8"><span class="nav-number">1.2.7.6.2.</span> <span class="nav-text">2、map：映射作用</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#3%E3%80%81reduce%EF%BC%9A%E4%BD%9C%E7%94%A8%E5%AF%B9%E6%95%B0%E7%BB%84%E4%B8%AD%E6%89%80%E6%9C%89%E7%9A%84%E5%86%85%E5%AE%B9%E8%BF%9B%E8%A1%8C%E6%B1%87%E6%80%BB"><span class="nav-number">1.2.7.6.3.</span> <span class="nav-text">3、reduce：作用对数组中所有的内容进行汇总</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#4%E3%80%81%E6%80%BB%E7%BB%93"><span class="nav-number">1.2.7.6.4.</span> <span class="nav-text">4、总结</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#8%E3%80%81%E8%A1%A8%E5%8D%95%E7%BB%91%E5%AE%9A%EF%BC%88v-mode%EF%BC%89"><span class="nav-number">1.2.8.</span> <span class="nav-text">8、表单绑定（v-mode）</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1%E3%80%81v-mode%E5%9F%BA%E7%A1%80"><span class="nav-number">1.2.8.1.</span> <span class="nav-text">1、v-mode基础</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2%E3%80%81v-mode%E7%9A%84%E5%8E%9F%E7%90%86"><span class="nav-number">1.2.8.2.</span> <span class="nav-text">2、v-mode的原理</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3%E3%80%81v-mode%EF%BC%9Aradio"><span class="nav-number">1.2.8.3.</span> <span class="nav-text">3、v-mode：radio</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4%E3%80%81v-mode%EF%BC%9Acheckbox"><span class="nav-number">1.2.8.4.</span> <span class="nav-text">4、v-mode：checkbox</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#5%E3%80%81v-mode%EF%BC%9Aselect"><span class="nav-number">1.2.8.5.</span> <span class="nav-text">5、v-mode：select</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#6%E3%80%81%E5%80%BC%E7%BB%91%E5%AE%9A"><span class="nav-number">1.2.8.6.</span> <span class="nav-text">6、值绑定</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#7%E3%80%81%E4%BF%AE%E9%A5%B0%E7%AC%A6"><span class="nav-number">1.2.8.7.</span> <span class="nav-text">7、修饰符</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#1%E3%80%81lazy%E4%BF%AE%E9%A5%B0%E7%AC%A6"><span class="nav-number">1.2.8.7.1.</span> <span class="nav-text">1、lazy修饰符</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#2%E3%80%81number%E4%BF%AE%E9%A5%B0%E7%AC%A6"><span class="nav-number">1.2.8.7.2.</span> <span class="nav-text">2、number修饰符</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3%E3%80%81trim%E4%BF%AE%E9%A5%B0%E7%AC%A6"><span class="nav-number">1.2.8.8.</span> <span class="nav-text">3、trim修饰符</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%B8%89%E3%80%81%E7%BB%84%E4%BB%B6%E5%8C%96%E5%BC%80%E5%8F%91"><span class="nav-number">1.3.</span> <span class="nav-text">三、组件化开发</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1%E3%80%81%E4%BB%80%E4%B9%88%E6%98%AF%E7%BB%84%E4%BB%B6%E5%8C%96"><span class="nav-number">1.3.1.</span> <span class="nav-text">1、什么是组件化</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2%E3%80%81Vue%E7%BB%84%E4%BB%B6%E5%8C%96%E6%80%9D%E6%83%B3"><span class="nav-number">1.3.2.</span> <span class="nav-text">2、Vue组件化思想</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3%E3%80%81%E6%B3%A8%E5%86%8C%E7%BB%84%E4%BB%B6"><span class="nav-number">1.3.3.</span> <span class="nav-text">3、注册组件</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%B3%A8%E5%86%8C%E7%BB%84%E4%BB%B6%E6%AD%A5%E9%AA%A4%E8%A7%A3%E6%9E%90"><span class="nav-number">1.3.3.1.</span> <span class="nav-text">注册组件步骤解析</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4%E3%80%81%E5%85%A8%E5%B1%80%E7%BB%84%E4%BB%B6%E5%92%8C%E5%B1%80%E9%83%A8%E7%BB%84%E4%BB%B6"><span class="nav-number">1.3.4.</span> <span class="nav-text">4、全局组件和局部组件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5%E3%80%81%E7%88%B6%E7%BB%84%E4%BB%B6%E5%92%8C%E5%AD%90%E7%BB%84%E4%BB%B6"><span class="nav-number">1.3.5.</span> <span class="nav-text">5、父组件和子组件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6%E3%80%81%E6%B3%A8%E5%86%8C%E7%BB%84%E4%BB%B6%E8%AF%AD%E6%B3%95%E7%B3%96"><span class="nav-number">1.3.6.</span> <span class="nav-text">6、注册组件语法糖</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7%E3%80%81%E6%A8%A1%E6%9D%BF%E7%9A%84%E5%88%86%E7%A6%BB%E5%86%99%E6%B3%95"><span class="nav-number">1.3.7.</span> <span class="nav-text">7、模板的分离写法</span></a></li></ol></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">_little-star_</p>
  <div class="site-description" itemprop="description">记录个人在平时学习的过程中的一些笔记、感受与遇到的坑,例如：java、计算机考研四件套等等。</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">21</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
        <span class="site-state-item-count">28</span>
        <span class="site-state-item-name">分类</span>
      </div>
      <div class="site-state-item site-state-tags">
        <span class="site-state-item-count">18</span>
        <span class="site-state-item-name">标签</span>
      </div>
  </nav>
</div>
  <div class="cc-license motion-element" itemprop="license">
    <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" class="cc-opacity" rel="noopener" target="_blank"><img src="/images/cc-by-nc-sa.svg" alt="Creative Commons"></a>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">_little-star_</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> 强力驱动
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

</body>
</html>
